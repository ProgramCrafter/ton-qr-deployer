var app=function(){"use strict";function t(){}function e(t){return t()}function r(){return Object.create(null)}function n(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,a;function h(t,e){t.appendChild(e)}function u(t,e,r){t.insertBefore(e,r||null)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function g(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function w(t,e,r,n){null==r?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function b(t,e,r){t.classList[r?"add":"remove"](e)}function E(t){a=t}function A(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach((t=>t.call(this,e)))}const C=[],M=[];let B=[];const F=[],_=Promise.resolve();let S=!1;function D(t){B.push(t)}function x(t){F.push(t)}const I=new Set;let T=0;function U(){if(0!==T)return;const t=a;do{try{for(;T<C.length;){const t=C[T];T++,E(t),R(t.$$)}}catch(t){throw C.length=0,T=0,t}for(E(null),C.length=0,T=0;M.length;)M.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];I.has(e)||(I.add(e),e())}B.length=0}while(C.length);for(;F.length;)F.pop()();S=!1,I.clear(),E(t)}function R(t){if(null!==t.fragment){t.update(),n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const N=new Set;let k;function O(t,e){t&&t.i&&(N.delete(t),t.i(e))}function P(t,e,r,n){if(t&&t.o){if(N.has(t))return;N.add(t),k.c.push((()=>{N.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}else n&&n()}function L(t,e,r){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function j(t){t&&t.c()}function $(t,r,o,s){const{fragment:a,after_update:h}=t.$$;a&&a.m(r,o),s||D((()=>{const r=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...r):n(r),t.$$.on_mount=[]})),h.forEach(D)}function q(t,e){const r=t.$$;null!==r.fragment&&(!function(t){const e=[],r=[];B.forEach((n=>-1===t.indexOf(n)?e.push(n):r.push(n))),r.forEach((t=>t())),B=e}(r.after_update),n(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(C.push(t),S||(S=!0,_.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,i,o,s,h,u,c,f=[-1]){const d=a;E(e);const p=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:h,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:r(),dirty:f,skip_bound:!1,root:i.target||d.$$.root};c&&c(p.root);let m=!1;if(p.ctx=o?o(e,i.props||{},((t,r,...n)=>{const i=n.length?n[0]:r;return p.ctx&&h(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),m&&K(e,t)),r})):[],p.update(),m=!0,n(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();i.intro&&O(e.$$.fragment),$(e,i.target,i.anchor,i.customElement),U()}E(d)}class z{$destroy(){q(this,1),this.$destroy=t}$on(e,r){if(!i(r))return t;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const t=n.indexOf(r);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(e){let r;return{c(){r=f("div"),w(r,"--margin",e[0]+"px"),w(r,"--color",e[1]),g(r,"class","svelte-11r2jnw")},m(t,e){u(t,r,e)},p(t,[e]){1&e&&w(r,"--margin",t[0]+"px"),2&e&&w(r,"--color",t[1])},i:t,o:t,d(t){t&&l(r)}}}function V(t,e,r){let{margin:n=4}=e,{color:i="grey"}=e;return t.$$set=t=>{"margin"in t&&r(0,n=t.margin),"color"in t&&r(1,i=t.color)},[n,i]}class Y extends z{constructor(t){super(),H(this,t,V,G,o,{margin:0,color:1})}}var W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X(t){var e={exports:{}};return t(e,e.exports),e.exports
/*! For license information please see tonweb.js.LICENSE.txt */}var Q=X((function(t,e){self,t.exports=(()=>{var e=[(t,e,r)=>{const n=r(1),i=n.Address,o=r(21),s=r(25),a=r(27).default,{Contract:h}=r(26),u=r(30).default,l=r(38).default,c=r(39).default,f=r(45).default,{BlockSubscription:d,InMemoryBlockStorage:p}=r(48),{SubscriptionContract:m}=r(51),{Payments:g,PaymentChannel:y}=r(52),v=r(55).default,w=r(110).default,b=r(111).default,{Dns:E,DnsCollection:A,DnsItem:C}=r(226).default,M="0.0.59";class B{constructor(t){this.version=M,this.utils=n,this.Address=i,this.boc=o,this.Contract=h,this.BlockSubscription=d,this.InMemoryBlockStorage=p,this.provider=t||new a,this.dns=new E(this.provider),this.wallet=new u(this.provider),this.payments=new g(this.provider),this.lockupWallet=l}async getTransactions(t,e=20,r,n,i){return this.provider.getTransactions(t.toString(),e,r,n,i)}async getBalance(t){return this.provider.getBalance(t.toString())}async sendBoc(t){return this.provider.sendBoc(n.bytesToBase64(t))}async call(t,e,r=[]){return this.provider.call(t.toString(),e,r)}}B.version=M,B.utils=n,B.Address=i,B.boc=o,B.HttpProvider=a,B.Contract=h,B.Wallets=u,B.LockupWallets=l,B.SubscriptionContract=m,B.BlockSubscription=d,B.InMemoryBlockStorage=p,B.ledger={TransportWebUSB:v,TransportWebHID:w,BluetoothTransport:b,AppTon:s},B.token={nft:c,ft:f,jetton:f},B.dns=E,B.dns.DnsCollection=A,B.dns.DnsItem=C,B.payments=g,B.payments.PaymentChannel=y,t.exports=B},(t,e,r)=>{const{BN:n,nacl:i,sha256:o,fromNano:s,toNano:a,bytesToHex:h,hexToBytes:u,stringToBytes:l,crc32c:c,crc16:f,concatBytes:d,bytesToBase64:p,base64ToBytes:m,base64toString:g,stringToBase64:y,compareBytes:v,readNBytesUIntFromArray:w,keyPairFromSeed:b,newKeyPair:E,newSeed:A}=r(2),C=r(18).default,M=r(19).default,B=r(20).default;t.exports={Address:C,AdnlAddress:M,StorageBagId:B,BN:n,nacl:i,sha256:o,fromNano:s,toNano:a,bytesToHex:h,hexToBytes:u,stringToBytes:l,crc32c:c,crc16:f,concatBytes:d,bytesToBase64:p,base64ToBytes:m,base64toString:g,stringToBase64:y,compareBytes:v,readNBytesUIntFromArray:w,parseTransferUrl:function(t){const e="ton://transfer/";if(!t.startsWith(e))throw new Error("must starts with "+e);const r=t.substring(e.length).split("?");if(r.length>2)throw new Error('multiple "?"');const i=r[0];if(!C.isValid(i))throw new Error("invalid address format "+i);const o={address:i},s=r[1];if(s&&s.length){const t=s.split("&").map((t=>t.split("=")));for(const e of t){if(2!==e.length)throw new Error("invalid url pair");const t=e[0],r=e[1];if("amount"===t){if(o.amount)throw new Error("amount already set");if(new n(r).isNeg())throw new Error("negative amount");o.amount=r}else{if("text"!==t)throw new Error("unknown url var "+t);if(o.text)throw new Error("text already set");o.text=decodeURIComponent(r)}}}return o},formatTransferUrl:function(t,e,r){let n="ton://transfer/"+t;const i=[];return e&&i.push("amount="+e),r&&i.push("text="+encodeURIComponent(r)),0===i.length?n:n+"?"+i.join("&")},keyPairFromSeed:b,newKeyPair:E,newSeed:A}},(t,e,r)=>{var n=r(9).Buffer;const i=r(3),o=r(5),s=r(7),a="undefined"!=typeof self&&self.crypto&&self.crypto.subtle;let h=null;a||(h=r(16));const u=[],l={};for(let t=0;t<=255;t++){let e=t.toString(16);e.length<2&&(e="0"+e),u.push(e),l[e]=t}const c=(()=>{const t=[],e="A".charCodeAt(0),r="a".charCodeAt(0),n="0".charCodeAt(0);for(let r=0;r<26;++r)t.push(String.fromCharCode(e+r));for(let e=0;e<26;++e)t.push(String.fromCharCode(r+e));for(let e=0;e<10;++e)t.push(String.fromCharCode(n+e));return t.push("+"),t.push("/"),t})();function f(t){return"undefined"==typeof self?n.from(t,"base64").toString("binary"):atob(t)}t.exports={BN:i,nacl:o,sha256:function(t){return a?crypto.subtle.digest("SHA-256",t):h.subtle.digest({name:"SHA-256"},t)},fromNano:function(t){if(!i.isBN(t)&&"string"!=typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return s.fromWei(t,"gwei")},toNano:function(t){if(!i.isBN(t)&&"string"!=typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return s.toWei(t,"gwei")},bytesToHex:function(t){const e=[];for(let r=0;r<t.byteLength;r++)e.push(u[t[r]]);return e.join("")},hexToBytes:function(t){const e=(t=t.toLowerCase()).length;if(e%2!=0)throw"hex string must have length a multiple of 2";const r=e/2,n=new Uint8Array(r);for(let e=0;e<r;e++){const r=2*e,i=t.substring(r,r+2);if(!l.hasOwnProperty(i))throw new Error("invalid hex character "+i);n[e]=l[i]}return n},stringToBytes:function(t,e=1){let r,n;1===e&&(r=new ArrayBuffer(t.length),n=new Uint8Array(r)),2===e&&(r=new ArrayBuffer(2*t.length),n=new Uint16Array(r)),4===e&&(r=new ArrayBuffer(4*t.length),n=new Uint32Array(r));for(let e=0,r=t.length;e<r;e++)n[e]=t.charCodeAt(e);return new Uint8Array(n.buffer)},crc32c:function(t){const e=function(t,e){const r=2197175160;t^=4294967295;for(let n=0;n<e.length;n++)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t^=e[n])?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1;return 4294967295^t}(0,t),r=new ArrayBuffer(4);return new DataView(r).setUint32(0,e,!1),new Uint8Array(r).reverse()},crc16:function(t){let e=0;const r=new Uint8Array(t.length+2);r.set(t);for(let t of r){let r=128;for(;r>0;)e<<=1,t&r&&(e+=1),r>>=1,e>65535&&(e&=65535,e^=4129)}return new Uint8Array([Math.floor(e/256),e%256])},concatBytes:function(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r},bytesToBase64:function(t){let e,r="";const n=t.length;for(e=2;e<n;e+=3)r+=c[t[e-2]>>2],r+=c[(3&t[e-2])<<4|t[e-1]>>4],r+=c[(15&t[e-1])<<2|t[e]>>6],r+=c[63&t[e]];return e===n+1&&(r+=c[t[e-2]>>2],r+=c[(3&t[e-2])<<4],r+="=="),e===n&&(r+=c[t[e-2]>>2],r+=c[(3&t[e-2])<<4|t[e-1]>>4],r+=c[(15&t[e-1])<<2],r+="="),r},base64ToBytes:function(t){const e=f(t),r=e.length,n=new Uint8Array(r);for(let t=0;t<r;t++)n[t]=e.charCodeAt(t);return n},base64toString:f,stringToBase64:function(t){return"undefined"==typeof self?n.from(t,"binary").toString("base64"):btoa(t)},compareBytes:function(t,e){return t.toString()===e.toString()},readNBytesUIntFromArray:function(t,e){let r=0;for(let n=0;n<t;n++)r*=256,r+=e[n];return r},keyPairFromSeed:function(t){return o.sign.keyPair.fromSeed(t)},newKeyPair:function(){return o.sign.keyPair()},newSeed:function(){return o.sign.keyPair().secretKey.slice(0,32)}}},function(t,e,r){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(4).Buffer}catch(t){}function a(t,e,r){for(var i=0,o=Math.min(t.length,r),s=0,a=e;a<o;a++){var h,u=t.charCodeAt(a)-48;i<<=4,i|=h=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,s|=h}return n(!(240&s),"Invalid character in "+t),i}function h(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),h=e;h<a;h++){var u=t.charCodeAt(h)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=h(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){u(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l:o.prototype.inspect=l;var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?c[6-h.length]+h+r:h+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);r=(p=p.idivn(l)).isZero()?m+r:c[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],b=8191&w,E=w>>>13,A=0|s[4],C=8191&A,M=A>>>13,B=0|s[5],F=8191&B,_=B>>>13,S=0|s[6],D=8191&S,x=S>>>13,I=0|s[7],T=8191&I,U=I>>>13,R=0|s[8],N=8191&R,k=R>>>13,O=0|s[9],P=8191&O,L=O>>>13,j=0|a[0],$=8191&j,q=j>>>13,K=0|a[1],H=8191&K,z=K>>>13,G=0|a[2],V=8191&G,Y=G>>>13,W=0|a[3],Z=8191&W,X=W>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(c,$))|0)+((8191&(i=(i=Math.imul(c,q))+Math.imul(f,$)|0))<<13)|0;u=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,$),i=(i=Math.imul(p,q))+Math.imul(m,$)|0,o=Math.imul(m,q);var yt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(i=(i=i+Math.imul(c,z)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,$),i=(i=Math.imul(y,q))+Math.imul(v,$)|0,o=Math.imul(v,q),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,$),i=(i=Math.imul(b,q))+Math.imul(E,$)|0,o=Math.imul(E,q),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,X)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,$),i=(i=Math.imul(C,q))+Math.imul(M,$)|0,o=Math.imul(M,q),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var bt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,q))+Math.imul(_,$)|0,o=Math.imul(_,q),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Et=(u+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,q))+Math.imul(x,$)|0,o=Math.imul(x,q),n=n+Math.imul(F,H)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,z)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var At=(u+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(T,$),i=(i=Math.imul(T,q))+Math.imul(U,$)|0,o=Math.imul(U,q),n=n+Math.imul(D,H)|0,i=(i=i+Math.imul(D,z)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,z)|0,n=n+Math.imul(F,V)|0,i=(i=i+Math.imul(F,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Ct=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,q))+Math.imul(k,$)|0,o=Math.imul(k,q),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,z)|0,n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(F,Z)|0,i=(i=i+Math.imul(F,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Mt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,$),i=(i=Math.imul(P,q))+Math.imul(L,$)|0,o=Math.imul(L,q),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,z)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Bt=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(P,H),i=(i=Math.imul(P,z))+Math.imul(L,H)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,Z)|0,o=o+Math.imul(U,X)|0,n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ft=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(P,V),i=(i=Math.imul(P,Y))+Math.imul(L,V)|0,o=Math.imul(L,Y),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,tt)|0,n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(F,ot)|0,i=(i=i+Math.imul(F,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var _t=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(P,Z),i=(i=Math.imul(P,X))+Math.imul(L,Z)|0,o=Math.imul(L,X),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,o=o+Math.imul(U,nt)|0,n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var St=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,J),i=(i=Math.imul(P,tt))+Math.imul(L,J)|0,o=Math.imul(L,tt),n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,n=n+Math.imul(D,ht)|0,i=(i=i+Math.imul(D,ut)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ut)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ft)|0;var Dt=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(P,rt),i=(i=Math.imul(P,nt))+Math.imul(L,rt)|0,o=Math.imul(L,nt),n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,o=o+Math.imul(U,ut)|0,n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,ft)|0;var xt=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,ot),i=(i=Math.imul(P,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(U,ct)|0,o=o+Math.imul(U,ft)|0;var It=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,ht),i=(i=Math.imul(P,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((o=o+Math.imul(U,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,ct),i=(i=Math.imul(P,ft))+Math.imul(L,ct)|0,o=Math.imul(L,ft);var Ut=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var Rt=(u+(n=Math.imul(P,pt))|0)+((8191&(i=(i=Math.imul(P,mt))+Math.imul(L,pt)|0))<<13)|0;return u=((o=Math.imul(L,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=yt,h[2]=vt,h[3]=wt,h[4]=bt,h[5]=Et,h[6]=At,h[7]=Ct,h[8]=Mt,h[9]=Bt,h[10]=Ft,h[11]=_t,h[12]=St,h[13]=Dt,h[14]=xt,h[15]=It,h[16]=Tt,h[17]=Ut,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}Math.imul||(m=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):y(this,t,e)},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<r;this.words[e]=h|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=r;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,h=n.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(h)):(r.isub(e),a.isub(i),h.isub(s))}return{a:a,b:h,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function B(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(b,w),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(A,w),i(C,w),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new E;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return v[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=g}return f},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new B(t)},i(B,M),B.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},B.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},B.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},B.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},B.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},()=>{},(t,e,r)=>{!function(t){var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),h=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function g(t,e,r,n){return m(t,e,r,n,16)}function y(t,e,r,n){return m(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=o,A=s,C=a,M=h,B=u,F=l,_=c,S=f,D=d,x=p,I=m,T=g,U=y,R=v,N=w,k=b,O=0;O<20;O+=2)E^=(i=(U^=(i=(D^=(i=(B^=(i=E+U|0)<<7|i>>>25)+E|0)<<9|i>>>23)+B|0)<<13|i>>>19)+D|0)<<18|i>>>14,F^=(i=(A^=(i=(R^=(i=(x^=(i=F+A|0)<<7|i>>>25)+F|0)<<9|i>>>23)+x|0)<<13|i>>>19)+R|0)<<18|i>>>14,I^=(i=(_^=(i=(C^=(i=(N^=(i=I+_|0)<<7|i>>>25)+I|0)<<9|i>>>23)+N|0)<<13|i>>>19)+C|0)<<18|i>>>14,k^=(i=(T^=(i=(S^=(i=(M^=(i=k+T|0)<<7|i>>>25)+k|0)<<9|i>>>23)+M|0)<<13|i>>>19)+S|0)<<18|i>>>14,E^=(i=(M^=(i=(C^=(i=(A^=(i=E+M|0)<<7|i>>>25)+E|0)<<9|i>>>23)+A|0)<<13|i>>>19)+C|0)<<18|i>>>14,F^=(i=(B^=(i=(S^=(i=(_^=(i=F+B|0)<<7|i>>>25)+F|0)<<9|i>>>23)+_|0)<<13|i>>>19)+S|0)<<18|i>>>14,I^=(i=(x^=(i=(D^=(i=(T^=(i=I+x|0)<<7|i>>>25)+I|0)<<9|i>>>23)+T|0)<<13|i>>>19)+D|0)<<18|i>>>14,k^=(i=(N^=(i=(R^=(i=(U^=(i=k+N|0)<<7|i>>>25)+k|0)<<9|i>>>23)+U|0)<<13|i>>>19)+R|0)<<18|i>>>14;E=E+o|0,A=A+s|0,C=C+a|0,M=M+h|0,B=B+u|0,F=F+l|0,_=_+c|0,S=S+f|0,D=D+d|0,x=x+p|0,I=I+m|0,T=T+g|0,U=U+y|0,R=R+v|0,N=N+w|0,k=k+b|0,t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=C>>>0&255,t[9]=C>>>8&255,t[10]=C>>>16&255,t[11]=C>>>24&255,t[12]=M>>>0&255,t[13]=M>>>8&255,t[14]=M>>>16&255,t[15]=M>>>24&255,t[16]=B>>>0&255,t[17]=B>>>8&255,t[18]=B>>>16&255,t[19]=B>>>24&255,t[20]=F>>>0&255,t[21]=F>>>8&255,t[22]=F>>>16&255,t[23]=F>>>24&255,t[24]=_>>>0&255,t[25]=_>>>8&255,t[26]=_>>>16&255,t[27]=_>>>24&255,t[28]=S>>>0&255,t[29]=S>>>8&255,t[30]=S>>>16&255,t[31]=S>>>24&255,t[32]=D>>>0&255,t[33]=D>>>8&255,t[34]=D>>>16&255,t[35]=D>>>24&255,t[36]=x>>>0&255,t[37]=x>>>8&255,t[38]=x>>>16&255,t[39]=x>>>24&255,t[40]=I>>>0&255,t[41]=I>>>8&255,t[42]=I>>>16&255,t[43]=I>>>24&255,t[44]=T>>>0&255,t[45]=T>>>8&255,t[46]=T>>>16&255,t[47]=T>>>24&255,t[48]=U>>>0&255,t[49]=U>>>8&255,t[50]=U>>>16&255,t[51]=U>>>24&255,t[52]=R>>>0&255,t[53]=R>>>8&255,t[54]=R>>>16&255,t[55]=R>>>24&255,t[56]=N>>>0&255,t[57]=N>>>8&255,t[58]=N>>>16&255,t[59]=N>>>24&255,t[60]=k>>>0&255,t[61]=k>>>8&255,t[62]=k>>>16&255,t[63]=k>>>24&255}(t,e,r,n)}function w(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=0;E<20;E+=2)o^=(i=(y^=(i=(d^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(s^=(i=(v^=(i=(p^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(c^=(i=(a^=(i=(w^=(i=m+c|0)<<7|i>>>25)+m|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(g^=(i=(f^=(i=(h^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(h^=(i=(a^=(i=(s^=(i=o+h|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(c^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(w^=(i=(v^=(i=(y^=(i=b+w|0)<<7|i>>>25)+b|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=c>>>0&255,t[17]=c>>>8&255,t[18]=c>>>16&255,t[19]=c>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,r,n,i,o,s){var a,h,u=new Uint8Array(16),l=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=o[h];for(;i>=64;){for(v(l,u,s,b),h=0;h<64;h++)t[e+h]=r[n+h]^l[h];for(a=1,h=8;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(l,u,s,b),h=0;h<i;h++)t[e+h]=r[n+h]^l[h];return 0}function A(t,e,r,n,i){var o,s,a=new Uint8Array(16),h=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(v(h,a,i,b),s=0;s<64;s++)t[e+s]=h[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(v(h,a,i,b),s=0;s<r;s++)t[e+s]=h[s];return 0}function C(t,e,r,n,i){var o=new Uint8Array(32);w(o,n,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return A(t,e,r,s,o)}function M(t,e,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,b);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=o[u+16];return E(t,e,r,n,i,h,a)}var B=function(t){var e,r,n,i,o,s,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),h=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function F(t,e,r,n,i,o){var s=new B(o);return s.update(r,n,i),s.finish(t,e),0}function _(t,e,r,n,i,o){var s=new Uint8Array(16);return F(s,0,r,n,i,o),g(t,e,s,0)}function S(t,e,r,n,i){var o;if(r<32)return-1;for(M(t,0,e,0,r,n,i),F(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function D(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(C(s,0,32,n,i),0!==_(e,16,e,32,r-32,s))return-1;for(M(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function x(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function I(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function T(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function U(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(I(a),I(a),I(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,T(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function R(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return U(r,t),U(n,e),y(r,0,n,0)}function N(t){var e=new Uint8Array(32);return U(e,t),1&e[0]}function k(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function O(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function P(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function L(t,e,r){var n,i,o=0,s=0,a=0,h=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=0,v=0,w=0,b=0,E=0,A=0,C=0,M=0,B=0,F=0,_=0,S=0,D=0,x=0,I=0,T=0,U=0,R=0,N=0,k=r[0],O=r[1],P=r[2],L=r[3],j=r[4],$=r[5],q=r[6],K=r[7],H=r[8],z=r[9],G=r[10],V=r[11],Y=r[12],W=r[13],Z=r[14],X=r[15];o+=(n=e[0])*k,s+=n*O,a+=n*P,h+=n*L,u+=n*j,l+=n*$,c+=n*q,f+=n*K,d+=n*H,p+=n*z,m+=n*G,g+=n*V,y+=n*Y,v+=n*W,w+=n*Z,b+=n*X,s+=(n=e[1])*k,a+=n*O,h+=n*P,u+=n*L,l+=n*j,c+=n*$,f+=n*q,d+=n*K,p+=n*H,m+=n*z,g+=n*G,y+=n*V,v+=n*Y,w+=n*W,b+=n*Z,E+=n*X,a+=(n=e[2])*k,h+=n*O,u+=n*P,l+=n*L,c+=n*j,f+=n*$,d+=n*q,p+=n*K,m+=n*H,g+=n*z,y+=n*G,v+=n*V,w+=n*Y,b+=n*W,E+=n*Z,A+=n*X,h+=(n=e[3])*k,u+=n*O,l+=n*P,c+=n*L,f+=n*j,d+=n*$,p+=n*q,m+=n*K,g+=n*H,y+=n*z,v+=n*G,w+=n*V,b+=n*Y,E+=n*W,A+=n*Z,C+=n*X,u+=(n=e[4])*k,l+=n*O,c+=n*P,f+=n*L,d+=n*j,p+=n*$,m+=n*q,g+=n*K,y+=n*H,v+=n*z,w+=n*G,b+=n*V,E+=n*Y,A+=n*W,C+=n*Z,M+=n*X,l+=(n=e[5])*k,c+=n*O,f+=n*P,d+=n*L,p+=n*j,m+=n*$,g+=n*q,y+=n*K,v+=n*H,w+=n*z,b+=n*G,E+=n*V,A+=n*Y,C+=n*W,M+=n*Z,B+=n*X,c+=(n=e[6])*k,f+=n*O,d+=n*P,p+=n*L,m+=n*j,g+=n*$,y+=n*q,v+=n*K,w+=n*H,b+=n*z,E+=n*G,A+=n*V,C+=n*Y,M+=n*W,B+=n*Z,F+=n*X,f+=(n=e[7])*k,d+=n*O,p+=n*P,m+=n*L,g+=n*j,y+=n*$,v+=n*q,w+=n*K,b+=n*H,E+=n*z,A+=n*G,C+=n*V,M+=n*Y,B+=n*W,F+=n*Z,_+=n*X,d+=(n=e[8])*k,p+=n*O,m+=n*P,g+=n*L,y+=n*j,v+=n*$,w+=n*q,b+=n*K,E+=n*H,A+=n*z,C+=n*G,M+=n*V,B+=n*Y,F+=n*W,_+=n*Z,S+=n*X,p+=(n=e[9])*k,m+=n*O,g+=n*P,y+=n*L,v+=n*j,w+=n*$,b+=n*q,E+=n*K,A+=n*H,C+=n*z,M+=n*G,B+=n*V,F+=n*Y,_+=n*W,S+=n*Z,D+=n*X,m+=(n=e[10])*k,g+=n*O,y+=n*P,v+=n*L,w+=n*j,b+=n*$,E+=n*q,A+=n*K,C+=n*H,M+=n*z,B+=n*G,F+=n*V,_+=n*Y,S+=n*W,D+=n*Z,x+=n*X,g+=(n=e[11])*k,y+=n*O,v+=n*P,w+=n*L,b+=n*j,E+=n*$,A+=n*q,C+=n*K,M+=n*H,B+=n*z,F+=n*G,_+=n*V,S+=n*Y,D+=n*W,x+=n*Z,I+=n*X,y+=(n=e[12])*k,v+=n*O,w+=n*P,b+=n*L,E+=n*j,A+=n*$,C+=n*q,M+=n*K,B+=n*H,F+=n*z,_+=n*G,S+=n*V,D+=n*Y,x+=n*W,I+=n*Z,T+=n*X,v+=(n=e[13])*k,w+=n*O,b+=n*P,E+=n*L,A+=n*j,C+=n*$,M+=n*q,B+=n*K,F+=n*H,_+=n*z,S+=n*G,D+=n*V,x+=n*Y,I+=n*W,T+=n*Z,U+=n*X,w+=(n=e[14])*k,b+=n*O,E+=n*P,A+=n*L,C+=n*j,M+=n*$,B+=n*q,F+=n*K,_+=n*H,S+=n*z,D+=n*G,x+=n*V,I+=n*Y,T+=n*W,U+=n*Z,R+=n*X,b+=(n=e[15])*k,s+=38*(A+=n*P),a+=38*(C+=n*L),h+=38*(M+=n*j),u+=38*(B+=n*$),l+=38*(F+=n*q),c+=38*(_+=n*K),f+=38*(S+=n*H),d+=38*(D+=n*z),p+=38*(x+=n*G),m+=38*(I+=n*V),g+=38*(T+=n*Y),y+=38*(U+=n*W),v+=38*(R+=n*Z),w+=38*(N+=n*X),o=(n=(o+=38*(E+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=h,t[4]=u,t[5]=l,t[6]=c,t[7]=f,t[8]=d,t[9]=p,t[10]=m,t[11]=g,t[12]=y,t[13]=v,t[14]=w,t[15]=b}function j(t,e){L(t,e,e)}function $(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&L(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)j(i,i),1!==n&&L(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function K(t,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),c=e(),f=e(),d=e(),p=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,k(a,n),o=0;o<16;o++)l[o]=a[o],f[o]=u[o]=c[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)T(u,l,i=s[o>>>3]>>>(7&o)&1),T(c,f,i),O(d,u,c),P(u,u,c),O(c,l,f),P(l,l,f),j(f,d),j(p,u),L(u,c,u),L(c,l,d),O(d,u,c),P(u,u,c),j(l,u),P(c,f,p),L(u,c,h),O(u,u,f),L(c,c,u),L(u,f,p),L(f,l,a),j(l,d),T(u,l,i),T(c,f,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=c[o],a[o+48]=l[o],a[o+64]=f[o];var m=a.subarray(32),g=a.subarray(16);return $(m,m),L(g,g,m),U(t,g),0}function H(t,e){return K(t,e,o)}function z(t,e){return n(e,32),H(t,e)}function G(t,e,r){var n=new Uint8Array(32);return K(n,r,e),w(t,i,n,b)}B.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,h,u,l,c,f,d,p,m,g,y,v,w,b,E,A=this.fin?0:2048,C=this.h[0],M=this.h[1],B=this.h[2],F=this.h[3],_=this.h[4],S=this.h[5],D=this.h[6],x=this.h[7],I=this.h[8],T=this.h[9],U=this.r[0],R=this.r[1],N=this.r[2],k=this.r[3],O=this.r[4],P=this.r[5],L=this.r[6],j=this.r[7],$=this.r[8],q=this.r[9];r>=16;)f=c=0,f+=(C+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*U,f+=(M+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),f+=(B+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*$),f+=(F+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*j),c=(f+=(_+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*L))>>>13,f&=8191,f+=(S+=a>>>1&8191)*(5*P),f+=(D+=8191&(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*O),f+=(x+=8191&(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*k),f+=(I+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*N),d=c+=(f+=(T+=l>>>5|A)*(5*R))>>>13,d+=C*R,d+=M*U,d+=B*(5*q),d+=F*(5*$),c=(d+=_*(5*j))>>>13,d&=8191,d+=S*(5*L),d+=D*(5*P),d+=x*(5*O),d+=I*(5*k),c+=(d+=T*(5*N))>>>13,d&=8191,p=c,p+=C*N,p+=M*R,p+=B*U,p+=F*(5*q),c=(p+=_*(5*$))>>>13,p&=8191,p+=S*(5*j),p+=D*(5*L),p+=x*(5*P),p+=I*(5*O),m=c+=(p+=T*(5*k))>>>13,m+=C*k,m+=M*N,m+=B*R,m+=F*U,c=(m+=_*(5*q))>>>13,m&=8191,m+=S*(5*$),m+=D*(5*j),m+=x*(5*L),m+=I*(5*P),g=c+=(m+=T*(5*O))>>>13,g+=C*O,g+=M*k,g+=B*N,g+=F*R,c=(g+=_*U)>>>13,g&=8191,g+=S*(5*q),g+=D*(5*$),g+=x*(5*j),g+=I*(5*L),y=c+=(g+=T*(5*P))>>>13,y+=C*P,y+=M*O,y+=B*k,y+=F*N,c=(y+=_*R)>>>13,y&=8191,y+=S*U,y+=D*(5*q),y+=x*(5*$),y+=I*(5*j),v=c+=(y+=T*(5*L))>>>13,v+=C*L,v+=M*P,v+=B*O,v+=F*k,c=(v+=_*N)>>>13,v&=8191,v+=S*R,v+=D*U,v+=x*(5*q),v+=I*(5*$),w=c+=(v+=T*(5*j))>>>13,w+=C*j,w+=M*L,w+=B*P,w+=F*O,c=(w+=_*k)>>>13,w&=8191,w+=S*N,w+=D*R,w+=x*U,w+=I*(5*q),b=c+=(w+=T*(5*$))>>>13,b+=C*$,b+=M*j,b+=B*L,b+=F*P,c=(b+=_*O)>>>13,b&=8191,b+=S*k,b+=D*N,b+=x*R,b+=I*U,E=c+=(b+=T*(5*q))>>>13,E+=C*q,E+=M*$,E+=B*j,E+=F*L,c=(E+=_*P)>>>13,E&=8191,E+=S*O,E+=D*k,E+=x*N,E+=I*R,C=f=8191&(c=(c=((c+=(E+=T*U)>>>13)<<2)+c|0)+(f&=8191)|0),M=d+=c>>>=13,B=p&=8191,F=m&=8191,_=g&=8191,S=y&=8191,D=v&=8191,x=w&=8191,I=b&=8191,T=E&=8191,e+=16,r-=16;this.h[0]=C,this.h[1]=M,this.h[2]=B,this.h[3]=F,this.h[4]=_,this.h[5]=S,this.h[6]=D,this.h[7]=x,this.h[8]=I,this.h[9]=T},B.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},B.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var V=S,Y=D,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(t,e,r,n){for(var i,o,s,a,h,u,l,c,f,d,p,m,g,y,v,w,b,E,A,C,M,B,F,_,S,D,x=new Int32Array(16),I=new Int32Array(16),T=t[0],U=t[1],R=t[2],N=t[3],k=t[4],O=t[5],P=t[6],L=t[7],j=e[0],$=e[1],q=e[2],K=e[3],H=e[4],z=e[5],G=e[6],V=e[7],Y=0;n>=128;){for(A=0;A<16;A++)C=8*A+Y,x[A]=r[C+0]<<24|r[C+1]<<16|r[C+2]<<8|r[C+3],I[A]=r[C+4]<<24|r[C+5]<<16|r[C+6]<<8|r[C+7];for(A=0;A<80;A++)if(i=T,o=U,s=R,a=N,h=k,u=O,l=P,f=j,d=$,p=q,m=K,g=H,y=z,v=G,F=65535&(B=V),_=B>>>16,S=65535&(M=L),D=M>>>16,F+=65535&(B=(H>>>14|k<<18)^(H>>>18|k<<14)^(k>>>9|H<<23)),_+=B>>>16,S+=65535&(M=(k>>>14|H<<18)^(k>>>18|H<<14)^(H>>>9|k<<23)),D+=M>>>16,F+=65535&(B=H&z^~H&G),_+=B>>>16,S+=65535&(M=k&O^~k&P),D+=M>>>16,F+=65535&(B=W[2*A+1]),_+=B>>>16,S+=65535&(M=W[2*A]),D+=M>>>16,M=x[A%16],_+=(B=I[A%16])>>>16,S+=65535&M,D+=M>>>16,S+=(_+=(F+=65535&B)>>>16)>>>16,F=65535&(B=E=65535&F|_<<16),_=B>>>16,S=65535&(M=b=65535&S|(D+=S>>>16)<<16),D=M>>>16,F+=65535&(B=(j>>>28|T<<4)^(T>>>2|j<<30)^(T>>>7|j<<25)),_+=B>>>16,S+=65535&(M=(T>>>28|j<<4)^(j>>>2|T<<30)^(j>>>7|T<<25)),D+=M>>>16,_+=(B=j&$^j&q^$&q)>>>16,S+=65535&(M=T&U^T&R^U&R),D+=M>>>16,c=65535&(S+=(_+=(F+=65535&B)>>>16)>>>16)|(D+=S>>>16)<<16,w=65535&F|_<<16,F=65535&(B=m),_=B>>>16,S=65535&(M=a),D=M>>>16,_+=(B=E)>>>16,S+=65535&(M=b),D+=M>>>16,U=i,R=o,N=s,k=a=65535&(S+=(_+=(F+=65535&B)>>>16)>>>16)|(D+=S>>>16)<<16,O=h,P=u,L=l,T=c,$=f,q=d,K=p,H=m=65535&F|_<<16,z=g,G=y,V=v,j=w,A%16==15)for(C=0;C<16;C++)M=x[C],F=65535&(B=I[C]),_=B>>>16,S=65535&M,D=M>>>16,M=x[(C+9)%16],F+=65535&(B=I[(C+9)%16]),_+=B>>>16,S+=65535&M,D+=M>>>16,b=x[(C+1)%16],F+=65535&(B=((E=I[(C+1)%16])>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25)),_+=B>>>16,S+=65535&(M=(b>>>1|E<<31)^(b>>>8|E<<24)^b>>>7),D+=M>>>16,b=x[(C+14)%16],_+=(B=((E=I[(C+14)%16])>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26))>>>16,S+=65535&(M=(b>>>19|E<<13)^(E>>>29|b<<3)^b>>>6),D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,x[C]=65535&S|D<<16,I[C]=65535&F|_<<16;F=65535&(B=j),_=B>>>16,S=65535&(M=T),D=M>>>16,M=t[0],_+=(B=e[0])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[0]=T=65535&S|D<<16,e[0]=j=65535&F|_<<16,F=65535&(B=$),_=B>>>16,S=65535&(M=U),D=M>>>16,M=t[1],_+=(B=e[1])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[1]=U=65535&S|D<<16,e[1]=$=65535&F|_<<16,F=65535&(B=q),_=B>>>16,S=65535&(M=R),D=M>>>16,M=t[2],_+=(B=e[2])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[2]=R=65535&S|D<<16,e[2]=q=65535&F|_<<16,F=65535&(B=K),_=B>>>16,S=65535&(M=N),D=M>>>16,M=t[3],_+=(B=e[3])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[3]=N=65535&S|D<<16,e[3]=K=65535&F|_<<16,F=65535&(B=H),_=B>>>16,S=65535&(M=k),D=M>>>16,M=t[4],_+=(B=e[4])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[4]=k=65535&S|D<<16,e[4]=H=65535&F|_<<16,F=65535&(B=z),_=B>>>16,S=65535&(M=O),D=M>>>16,M=t[5],_+=(B=e[5])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[5]=O=65535&S|D<<16,e[5]=z=65535&F|_<<16,F=65535&(B=G),_=B>>>16,S=65535&(M=P),D=M>>>16,M=t[6],_+=(B=e[6])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[6]=P=65535&S|D<<16,e[6]=G=65535&F|_<<16,F=65535&(B=V),_=B>>>16,S=65535&(M=L),D=M>>>16,M=t[7],_+=(B=e[7])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[7]=L=65535&S|D<<16,e[7]=V=65535&F|_<<16,Y+=128,n-=128}return n}function X(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),Z(i,o,s,r),n=0;n<8;n++)p(t,8*n,i[n],o[n]);return 0}function Q(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),h=e(),u=e(),c=e(),f=e();P(n,t[1],t[0]),P(f,r[1],r[0]),L(n,n,f),O(i,t[0],t[1]),O(f,r[0],r[1]),L(i,i,f),L(o,t[3],r[3]),L(o,o,l),L(s,t[2],r[2]),O(s,s,s),P(a,i,n),P(h,s,o),O(u,s,o),O(c,i,n),L(t[0],a,h),L(t[1],c,u),L(t[2],u,h),L(t[3],a,c)}function J(t,e,r){var n;for(n=0;n<4;n++)T(t[n],e[n],r)}function tt(t,r){var n=e(),i=e(),o=e();$(o,r[2]),L(n,r[0],o),L(i,r[1],o),U(t,i),t[31]^=N(n)<<7}function et(t,e,r){var n,i;for(x(t[0],s),x(t[1],a),x(t[2],a),x(t[3],s),i=255;i>=0;--i)J(t,e,n=r[i/8|0]>>(7&i)&1),Q(e,t),Q(t,t),J(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];x(n[0],c),x(n[1],f),x(n[2],a),L(n[3],c,f),et(t,n,r)}function nt(t,r,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),X(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,rt(a,s),tt(t,a),o=0;o<32;o++)r[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,n,i){var o,s,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),c=[e(),e(),e(),e()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(X(u,t.subarray(32),n+32),st(u),rt(c,u),tt(t,c),o=32;o<64;o++)t[o]=i[o];for(X(h,t,n+64),st(h),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=h[o]*a[s];return ot(t.subarray(32),l),f}function ht(t,r,n,i){var o,h=new Uint8Array(32),l=new Uint8Array(64),c=[e(),e(),e(),e()],f=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),i=e(),o=e(),h=e(),l=e(),c=e(),f=e();return x(t[2],a),k(t[1],r),j(o,t[1]),L(h,o,u),P(o,o,t[2]),O(h,t[2],h),j(l,h),j(c,l),L(f,c,l),L(n,f,o),L(n,n,h),q(n,n),L(n,n,o),L(n,n,h),L(n,n,h),L(t[0],n,h),j(i,t[0]),L(i,i,h),R(i,o)&&L(t[0],t[0],d),j(i,t[0]),L(i,i,h),R(i,o)?-1:(N(t[0])===r[31]>>7&&P(t[0],s,t[0]),L(t[3],t[0],t[1]),0)}(f,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(X(l,t,n),st(l),et(c,f,l),rt(f,r.subarray(32)),Q(c,f),tt(h,c),n-=64,y(r,0,h,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ut=64,lt=32,ct=64;function ft(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:M,crypto_stream:C,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:A,crypto_onetimeauth:F,crypto_onetimeauth_verify:_,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:S,crypto_secretbox_open:D,crypto_scalarmult:K,crypto_scalarmult_base:H,crypto_box_beforenm:G,crypto_box_afternm:V,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return G(s,i,o),V(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return G(s,i,o),Y(t,e,r,n,s)},crypto_box_keypair:z,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ht,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ut,crypto_sign_PUBLICKEYBYTES:lt,crypto_sign_SECRETKEYBYTES:ct,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:U,unpack25519:k,M:L,A:O,S:j,Z:P,pow2523:q,add:Q,set25519:x,modL:ot,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){dt(t,e,r),ft(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return S(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){dt(t,e,r),ft(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32||0!==D(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,t,e),r},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return H(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return G(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==ct)throw new Error("bad secret key size");var r=new Uint8Array(ut+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(dt(t,e),e.length!==lt)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ht(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(ut),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(dt(t,e,r),e.length!==ut)throw new Error("bad signature size");if(r.length!==lt)throw new Error("bad public key size");var n,i=new Uint8Array(ut+t.length),o=new Uint8Array(ut+t.length);for(n=0;n<ut;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+ut]=t[n];return ht(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(lt),e=new Uint8Array(ct);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==ct)throw new Error("bad secret key size");for(var e=new Uint8Array(lt),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(lt),r=new Uint8Array(ct),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=lt,t.sign.secretKeyLength=ct,t.sign.seedLength=32,t.sign.signatureLength=ut,t.hash=function(t){dt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===m(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues?t.setPRNG((function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];pt(i)})):(e=r(6))&&e.randomBytes&&t.setPRNG((function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];pt(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},()=>{},(t,e,r)=>{var n=r(8),i=r(12),o=new n(0),s=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function h(t){var e=t?t.toLowerCase():"ether",r=a[e];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function u(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}t.exports={unitMap:a,numberToString:u,getValueOfUnit:h,fromWei:function(t,e,r){var n=i(t),u=n.lt(o),l=h(e),c=a[e].length-1||1,f=r||{};u&&(n=n.mul(s));for(var d=n.mod(l).toString(10);d.length<c;)d="0"+d;f.pad||(d=d.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=n.div(l).toString(10);f.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==d?"":"."+d);return u&&(m="-"+m),m},toWei:function(t,e){var r=u(t),i=h(e),o=a[e].length-1||1,l="-"===r.substring(0,1);if(l&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var c=r.split(".");if(c.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var f=c[0],d=c[1];if(f||(f="0"),d||(d="0"),d.length>o)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;d.length<o;)d+="0";f=new n(f),d=new n(d);var p=f.mul(i).add(d);return l&&(p=p.mul(s)),new n(p.toString(10),10)}}},function(t,e,r){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(9).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function h(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=h(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-h.length]+h+r:h+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=c[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:u[f-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],b=8191&w,E=w>>>13,A=0|s[4],C=8191&A,M=A>>>13,B=0|s[5],F=8191&B,_=B>>>13,S=0|s[6],D=8191&S,x=S>>>13,I=0|s[7],T=8191&I,U=I>>>13,R=0|s[8],N=8191&R,k=R>>>13,O=0|s[9],P=8191&O,L=O>>>13,j=0|a[0],$=8191&j,q=j>>>13,K=0|a[1],H=8191&K,z=K>>>13,G=0|a[2],V=8191&G,Y=G>>>13,W=0|a[3],Z=8191&W,X=W>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(c,$))|0)+((8191&(i=(i=Math.imul(c,q))+Math.imul(f,$)|0))<<13)|0;u=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,$),i=(i=Math.imul(p,q))+Math.imul(m,$)|0,o=Math.imul(m,q);var yt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(i=(i=i+Math.imul(c,z)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,$),i=(i=Math.imul(y,q))+Math.imul(v,$)|0,o=Math.imul(v,q),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,$),i=(i=Math.imul(b,q))+Math.imul(E,$)|0,o=Math.imul(E,q),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,X)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,$),i=(i=Math.imul(C,q))+Math.imul(M,$)|0,o=Math.imul(M,q),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var bt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,q))+Math.imul(_,$)|0,o=Math.imul(_,q),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Et=(u+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,q))+Math.imul(x,$)|0,o=Math.imul(x,q),n=n+Math.imul(F,H)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,z)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var At=(u+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(T,$),i=(i=Math.imul(T,q))+Math.imul(U,$)|0,o=Math.imul(U,q),n=n+Math.imul(D,H)|0,i=(i=i+Math.imul(D,z)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,z)|0,n=n+Math.imul(F,V)|0,i=(i=i+Math.imul(F,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Ct=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,q))+Math.imul(k,$)|0,o=Math.imul(k,q),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,z)|0,n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(F,Z)|0,i=(i=i+Math.imul(F,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Mt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,$),i=(i=Math.imul(P,q))+Math.imul(L,$)|0,o=Math.imul(L,q),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,z)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Bt=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(P,H),i=(i=Math.imul(P,z))+Math.imul(L,H)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,Z)|0,o=o+Math.imul(U,X)|0,n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ft=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(P,V),i=(i=Math.imul(P,Y))+Math.imul(L,V)|0,o=Math.imul(L,Y),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,tt)|0,n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(F,ot)|0,i=(i=i+Math.imul(F,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var _t=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(P,Z),i=(i=Math.imul(P,X))+Math.imul(L,Z)|0,o=Math.imul(L,X),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,o=o+Math.imul(U,nt)|0,n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var St=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,J),i=(i=Math.imul(P,tt))+Math.imul(L,J)|0,o=Math.imul(L,tt),n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,n=n+Math.imul(D,ht)|0,i=(i=i+Math.imul(D,ut)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ut)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ft)|0;var Dt=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(P,rt),i=(i=Math.imul(P,nt))+Math.imul(L,rt)|0,o=Math.imul(L,nt),n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,o=o+Math.imul(U,ut)|0,n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,ft)|0;var xt=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,ot),i=(i=Math.imul(P,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(U,ct)|0,o=o+Math.imul(U,ft)|0;var It=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,ht),i=(i=Math.imul(P,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((o=o+Math.imul(U,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,ct),i=(i=Math.imul(P,ft))+Math.imul(L,ct)|0,o=Math.imul(L,ft);var Ut=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var Rt=(u+(n=Math.imul(P,pt))|0)+((8191&(i=(i=Math.imul(P,mt))+Math.imul(L,pt)|0))<<13)|0;return u=((o=Math.imul(L,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=yt,h[2]=vt,h[3]=wt,h[4]=bt,h[5]=Et,h[6]=At,h[7]=Ct,h[8]=Mt,h[9]=Bt,h[10]=Ft,h[11]=_t,h[12]=St,h[13]=Dt,h[14]=xt,h[15]=It,h[16]=Tt,h[17]=Ut,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],y=n[l+d+s],v=c*g-f*y;y=c*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+s]=p-g,n[l+d+s]=m-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,h,n,i),this.transform(u,o,l,c,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,n),this.transform(a,h,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<r;this.words[e]=h|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=r;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,h=n.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(h)):(r.isub(e),a.isub(i),h.isub(s))}return{a:a,b:h,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function C(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(b,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=g}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}h=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new C(t)},i(C,A),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},C.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},(t,e,r)=>{const n=r(10),i=r(11),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(W(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(W(t,ArrayBuffer)||t&&W(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(W(t,SharedArrayBuffer)||t&&W(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return h.from(n,e,r);const i=function(t){if(h.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,h.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||W(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(i)return n?-1:G(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return F(this,e,r);case"ascii":return S(this,e,r);case"latin1":case"binary":return D(this,e,r);case"base64":return B(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,h/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===h)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+h>a&&(r=a-h),o=r;o>=0;o--){let r=!0;for(let n=0;n<h;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return-1}function b(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(Z(n))return s;t[r+s]=n}return s}function E(t,e,r,n){return Y(G(e,t.length-r),t,r,n)}function A(t,e,r,n){return Y(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function C(t,e,r,n){return Y(V(e),t,r,n)}function M(t,e,r,n){return Y(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function B(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function F(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,h;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(h=(31&e)<<6|63&r,h>127&&(o=h));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(h=(15&e)<<12|(63&r)<<6|63&n,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(h=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=_));return r}(n)}e.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},h.allocUnsafe=function(t){return c(t)},h.allocUnsafeSlow=function(t){return c(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(W(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),W(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=h.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(W(e,Uint8Array))i+e.length>n.length?(h.isBuffer(e)||(e=h.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!h.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},h.byteLength=m,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},h.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?F(this,0,t):g.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(t,e,r,n,i){if(W(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return C(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function S(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=X[t[n]];return i}function I(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,r,n,i,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function R(t,e,r,n,i){q(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function N(t,e,r,n,i){q(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function k(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(t,e,r,n,o){return e=+e,r>>>=0,o||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function P(t,e,r,n,o){return e=+e,r>>>=0,o||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Q((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=Q((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Q((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),h.prototype.readBigInt64BE=Q((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),h.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigUInt64LE=Q((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=Q((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigInt64LE=Q((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=Q((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(t,e,r){return O(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return O(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=h.isBuffer(t)?t:h.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const L={};function j(t,e,r){L[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function $(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function q(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new L.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||H(e,t.length-(r+1))}(n,i,o)}function K(t,e){if("number"!=typeof t)throw new L.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){if(Math.floor(t)!==t)throw K(t,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function G(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function W(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?J:t}function J(){throw new Error("BigInt not supported")}},(t,e)=>{e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=h(t),s=o[0],a=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,h=n-i;a<h;a+=s)o.push(u(t,a,a+s>h?h:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,h=(1<<a)-1,u=h>>1,l=-7,c=r?i-1:0,f=r?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-u;else{if(o===h)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,h,u=8*o-i-1,l=(1<<u)-1,c=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+c>=1?f/h:f*Math.pow(2,1-c))*h>=2&&(s++,h/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*h-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*m}},(t,e,r)=>{var n=r(13),i=r(14);t.exports=function(t){if("string"==typeof t||"number"==typeof t){var e=new n(1),r=String(t).toLowerCase().trim(),o="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),s=i(r);if("-"===s.substr(0,1)&&(s=i(s.slice(1)),e=new n(-1,10)),!(s=""===s?"0":s).match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||!0===o&&s.match(/^[0-9A-Fa-f]+$/))return new n(s,16).mul(e);if((s.match(/^-?[0-9]+$/)||""===s)&&!1===o)return new n(s,10).mul(e)}else if("object"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new n(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},function(t,e,r){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(9).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function h(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=h(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-h.length]+h+r:h+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=c[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:u[f-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],b=8191&w,E=w>>>13,A=0|s[4],C=8191&A,M=A>>>13,B=0|s[5],F=8191&B,_=B>>>13,S=0|s[6],D=8191&S,x=S>>>13,I=0|s[7],T=8191&I,U=I>>>13,R=0|s[8],N=8191&R,k=R>>>13,O=0|s[9],P=8191&O,L=O>>>13,j=0|a[0],$=8191&j,q=j>>>13,K=0|a[1],H=8191&K,z=K>>>13,G=0|a[2],V=8191&G,Y=G>>>13,W=0|a[3],Z=8191&W,X=W>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(c,$))|0)+((8191&(i=(i=Math.imul(c,q))+Math.imul(f,$)|0))<<13)|0;u=((o=Math.imul(f,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,$),i=(i=Math.imul(p,q))+Math.imul(m,$)|0,o=Math.imul(m,q);var yt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(i=(i=i+Math.imul(c,z)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,$),i=(i=Math.imul(y,q))+Math.imul(v,$)|0,o=Math.imul(v,q),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,z)|0;var vt=(u+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,Y)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(b,$),i=(i=Math.imul(b,q))+Math.imul(E,$)|0,o=Math.imul(E,q),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,z)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(i=(i=i+Math.imul(c,X)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,$),i=(i=Math.imul(C,q))+Math.imul(M,$)|0,o=Math.imul(M,q),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,z)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var bt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,q))+Math.imul(_,$)|0,o=Math.imul(_,q),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Et=(u+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,q))+Math.imul(x,$)|0,o=Math.imul(x,q),n=n+Math.imul(F,H)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,z)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var At=(u+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(T,$),i=(i=Math.imul(T,q))+Math.imul(U,$)|0,o=Math.imul(U,q),n=n+Math.imul(D,H)|0,i=(i=i+Math.imul(D,z)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,z)|0,n=n+Math.imul(F,V)|0,i=(i=i+Math.imul(F,Y)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Ct=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(i=(i=i+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,q))+Math.imul(k,$)|0,o=Math.imul(k,q),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,z)|0,n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(F,Z)|0,i=(i=i+Math.imul(F,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Mt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,$),i=(i=Math.imul(P,q))+Math.imul(L,$)|0,o=Math.imul(L,q),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,z)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,z)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ut)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Bt=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(P,H),i=(i=Math.imul(P,z))+Math.imul(L,H)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,Z)|0,o=o+Math.imul(U,X)|0,n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ut)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var Ft=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(P,V),i=(i=Math.imul(P,Y))+Math.imul(L,V)|0,o=Math.imul(L,Y),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,tt)|0,n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(F,ot)|0,i=(i=i+Math.imul(F,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var _t=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(P,Z),i=(i=Math.imul(P,X))+Math.imul(L,Z)|0,o=Math.imul(L,X),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,o=o+Math.imul(U,nt)|0,n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,ut)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var St=(u+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,J),i=(i=Math.imul(P,tt))+Math.imul(L,J)|0,o=Math.imul(L,tt),n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,n=n+Math.imul(D,ht)|0,i=(i=i+Math.imul(D,ut)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ut)|0,n=n+Math.imul(F,ct)|0,i=(i=i+Math.imul(F,ft)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ft)|0;var Dt=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(P,rt),i=(i=Math.imul(P,nt))+Math.imul(L,rt)|0,o=Math.imul(L,nt),n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,o=o+Math.imul(U,ut)|0,n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,ft)|0;var xt=(u+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,ot),i=(i=Math.imul(P,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(U,ct)|0,o=o+Math.imul(U,ft)|0;var It=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,ht),i=(i=Math.imul(P,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((o=o+Math.imul(U,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,ct),i=(i=Math.imul(P,ft))+Math.imul(L,ct)|0,o=Math.imul(L,ft);var Ut=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var Rt=(u+(n=Math.imul(P,pt))|0)+((8191&(i=(i=Math.imul(P,mt))+Math.imul(L,pt)|0))<<13)|0;return u=((o=Math.imul(L,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=yt,h[2]=vt,h[3]=wt,h[4]=bt,h[5]=Et,h[6]=At,h[7]=Ct,h[8]=Mt,h[9]=Bt,h[10]=Ft,h[11]=_t,h[12]=St,h[13]=Dt,h[14]=xt,h[15]=It,h[16]=Tt,h[17]=Ut,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),i+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],y=n[l+d+s],v=c*g-f*y;y=c*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+s]=p-g,n[l+d+s]=m-y,d!==a&&(v=h*c-u*f,f=h*f+u*c,c=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,h,n,i),this.transform(u,o,l,c,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,n),this.transform(a,h,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<r;this.words[e]=h|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=r;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,h=n.length-i.length;if("mod"!==e){(a=new o(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),h=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(h)):(r.isub(e),a.isub(i),h.isub(s))}return{a:a,b:h,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),h=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function C(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(b,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(c,new o(1).iushln(p-g-1));f=f.redMul(y),c=y.redSqr(),d=d.redMul(c),p=g}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}h=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new C(t)},i(C,A),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},C.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},(t,e,r)=>{var n=r(15);t.exports=function(t){return"string"!=typeof t?t:n(t)?t.slice(2):t}},t=>{t.exports=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)}},(t,e,r)=>{r.r(e),r.d(e,{default:()=>n}),r(17);const n=window.crypto},(e,r,n)=>{var i,o;n.r(r),n.d(r,{default:()=>s}),i="undefined"!=typeof self?self:void 0,o=function(t){if("function"!=typeof Promise)throw"Promise support required";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var n=t.Crypto||e.constructor||Object,i=t.SubtleCrypto||r.constructor||Object,o=(t.CryptoKey||t.Key,t.navigator.userAgent.indexOf("Edge/")>-1),s=!!t.msCrypto&&!o,a=!e.subtle&&!!e.webkitSubtle;if(s||a){var h={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},u={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(t){var n=r[t];r[t]=function(i,o,h){var u,l,c,p,b=[].slice.call(arguments);switch(t){case"generateKey":u=m(i),l=o,c=h;break;case"importKey":u=m(h),l=b[3],c=b[4],"jwk"===i&&((o=y(o)).alg||(o.alg=g(u)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?c.filter(B):c.filter(M):c.slice()),b[1]=v(o));break;case"unwrapKey":u=b[4],l=b[5],c=b[6],b[2]=h._key}if("generateKey"===t&&"HMAC"===u.name&&u.hash)return u.length=u.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[u.hash.name],r.importKey("raw",e.getRandomValues(new Uint8Array(u.length+7>>3)),u,l,c);if(a&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===u.name&&(!u.modulusLength||u.modulusLength>=2048))return(i=m(i)).name="RSAES-PKCS1-v1_5",delete i.hash,r.generateKey(i,!0,["encrypt","decrypt"]).then((function(t){return Promise.all([r.exportKey("jwk",t.publicKey),r.exportKey("jwk",t.privateKey)])})).then((function(t){return t[0].alg=t[1].alg=g(u),t[0].key_ops=c.filter(M),t[1].key_ops=c.filter(B),Promise.all([r.importKey("jwk",t[0],u,!0,t[0].key_ops),r.importKey("jwk",t[1],u,l,t[1].key_ops)])})).then((function(t){return{publicKey:t[0],privateKey:t[1]}}));if((a||s&&"SHA-1"===(u.hash||{}).name)&&"importKey"===t&&"jwk"===i&&"HMAC"===u.name&&"oct"===o.kty)return r.importKey("raw",d(f(o.k)),h,b[3],b[4]);if(a&&"importKey"===t&&("spki"===i||"pkcs8"===i))return r.importKey("jwk",w(o),h,b[3],b[4]);if(s&&"unwrapKey"===t)return r.decrypt(b[3],h,o).then((function(t){return r.importKey(i,t,b[4],b[5],b[6])}));try{p=n.apply(r,b)}catch(t){return Promise.reject(t)}return s&&(p=new Promise((function(t,e){p.onabort=p.onerror=function(t){e(t)},p.oncomplete=function(e){t(e.target.result)}}))),p=p.then((function(t){return"HMAC"===u.name&&(u.length||(u.length=8*t.algorithm.length)),0==u.name.search("RSA")&&(u.modulusLength||(u.modulusLength=(t.publicKey||t).algorithm.modulusLength),u.publicExponent||(u.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t.publicKey&&t.privateKey?{publicKey:new C(t.publicKey,u,l,c.filter(M)),privateKey:new C(t.privateKey,u,l,c.filter(B))}:new C(t,u,l,c)}))}})),["exportKey","wrapKey"].forEach((function(t){var e=r[t];r[t]=function(n,i,o){var h,u=[].slice.call(arguments);switch(t){case"exportKey":u[1]=i._key;break;case"wrapKey":u[1]=i._key,u[2]=o._key}if((a||s&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===n&&"HMAC"===i.algorithm.name&&(u[0]="raw"),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(u[0]="jwk"),s&&"wrapKey"===t)return r.exportKey(n,i).then((function(t){return"jwk"===n&&(t=d(unescape(encodeURIComponent(JSON.stringify(y(t)))))),r.encrypt(u[3],o,t)}));try{h=e.apply(r,u)}catch(t){return Promise.reject(t)}return s&&(h=new Promise((function(t,e){h.onabort=h.onerror=function(t){e(t)},h.oncomplete=function(e){t(e.target.result)}}))),"exportKey"===t&&"jwk"===n&&(h=h.then((function(t){return(a||s&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:g(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:c(p(t))}:((t=y(t)).alg||(t.alg=g(i.algorithm)),t.key_ops||(t.key_ops="public"===i.type?i.usages.filter(M):"private"===i.type?i.usages.filter(B):i.usages.slice()),t)}))),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(h=h.then((function(t){return b(y(t))}))),h}})),["encrypt","decrypt","sign","verify"].forEach((function(t){var e=r[t];r[t]=function(n,i,o,a){if(s&&(!o.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var h,u=[].slice.call(arguments),l=m(n);if(s&&"decrypt"===t&&"AES-GCM"===l.name){var c=n.tagLength>>3;u[2]=(o.buffer||o).slice(0,o.byteLength-c),n.tag=(o.buffer||o).slice(o.byteLength-c)}u[1]=i._key;try{h=e.apply(r,u)}catch(t){return Promise.reject(t)}return s&&(h=new Promise((function(e,r){h.onabort=h.onerror=function(t){r(t)},h.oncomplete=function(r){if(r=r.target.result,"encrypt"===t&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;(r=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}e(r)}}))),h}})),s){var l=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error("Empy input is not allowed");var n;try{n=l.call(r,t,e)}catch(t){return Promise.reject(t)}return n=new Promise((function(t,e){n.onabort=n.onerror=function(t){e(t)},n.oncomplete=function(e){t(e.target.result)}}))},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=C}a&&(e.subtle=r,t.Crypto=n,t.SubtleCrypto=i,t.CryptoKey=C)}}}function c(t){return btoa(t).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(t){return t=(t+="===").slice(0,-t.length%4),atob(t.replace(/-/g,"+").replace(/_/g,"/"))}function d(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function p(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function m(t){var e={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(e.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(e.length=t.length);break;case"HMAC":t.hash&&(e.hash=m(t.hash)),t.length&&(e.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(e.hash=m(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return e}function g(t){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[t.name][(t.hash||{}).name||t.length||""]}function y(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(p(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case"oct":e.k=t.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(r){r in t&&(e[r]=t[r])}));break;default:throw new TypeError("Unsupported key type")}return e}function v(t){var e=y(t);return s&&(e.extractable=e.ext,delete e.ext),d(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function w(t){var e=E(t),r=!1;e.length>2&&(r=!0,e.shift());var n={ext:!0};if("1.2.840.113549.1.1.1"!==e[0][0])throw new TypeError("Unsupported key type");var i=["n","e","d","p","q","dp","dq","qi"],o=E(e[1]);r&&o.shift();for(var s=0;s<o.length;s++)o[s][0]||(o[s]=o[s].subarray(1)),n[i[s]]=c(p(o[s]));return n.kty="RSA",n}function b(t){var e,r=[["",null]],n=!1;if("RSA"!==t.kty)throw new TypeError("Unsupported key type");for(var i=["n","e","d","p","q","dp","dq","qi"],o=[],s=0;s<i.length&&i[s]in t;s++){var a=o[s]=d(f(t[i[s]]));128&a[0]&&(o[s]=new Uint8Array(a.length+1),o[s].set(a,1))}return o.length>2&&(n=!0,o.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",e=o,r.push(new Uint8Array(A(e)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(A(r)).buffer}function E(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError("Malformed DER");var r,n=t[e.pos++],i=t[e.pos++];if(i>=128){if(i&=127,e.end-e.pos<i)throw new RangeError("Malformed DER");for(var o=0;i--;)o<<=8,o|=t[e.pos++];i=o}if(e.end-e.pos<i)throw new RangeError("Malformed DER");switch(n){case 2:r=t.subarray(e.pos,e.pos+=i);break;case 3:if(t[e.pos++])throw new Error("Unsupported bit string");i--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=i)).buffer;break;case 5:r=null;break;case 6:var s=btoa(p(t.subarray(e.pos,e.pos+=i)));if(!(s in h))throw new Error("Unsupported OBJECT ID "+s);r=h[s];break;case 48:r=[];for(var a=e.pos+i;e.pos<a;)r.push(E(t,e));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function A(t,e){e||(e=[]);var r=0,n=0,i=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,n=t.length;for(var o=0;o<n;o++)e.push(t[o])}else if(t instanceof ArrayBuffer)for(r=4,n=t.byteLength,t=new Uint8Array(t),o=0;o<n;o++)e.push(t[o]);else if(null===t)r=5,n=0;else if("string"==typeof t&&t in u){var s=d(atob(u[t]));for(r=6,n=s.length,o=0;o<n;o++)e.push(s[o])}else if(t instanceof Array){for(o=0;o<t.length;o++)A(t[o],e);r=48,n=e.length-i}else{if(!("object"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+t);for(r=3,n=(t=new Uint8Array(t.value)).byteLength,e.push(0),o=0;o<n;o++)e.push(t[o]);n++}if(n>=128){var a=n;for(n=4,e.splice(i,0,a>>24&255,a>>16&255,a>>8&255,255&a);n>1&&!(a>>24);)a<<=8,n--;n<4&&e.splice(i,4-n),n|=128}return e.splice(i-2,2,r,n),e}function C(t,e,r,n){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===n?t.usages:n,enumerable:!0}})}function M(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function B(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}},t.exports?t.exports=o(i):o(i);const s={}},(t,e,r)=>{const{crc16:n,hexToBytes:i,bytesToHex:o,stringToBytes:s,base64toString:a,stringToBase64:h}=r(2);class u{static isValid(t){try{return new u(t),!0}catch(t){return!1}}constructor(t){if(null==t)throw"Invalid address";if(t instanceof u)return this.wc=t.wc,this.hashPart=t.hashPart,this.isTestOnly=t.isTestOnly,this.isUserFriendly=t.isUserFriendly,this.isBounceable=t.isBounceable,void(this.isUrlSafe=t.isUrlSafe);if(t.search(/\-/)>0||t.search(/_/)>0?(this.isUrlSafe=!0,t=t.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,t.indexOf(":")>-1){const e=t.split(":");if(2!==e.length)throw new Error("Invalid address "+t);const r=parseInt(e[0]);if(0!==r&&-1!==r)throw new Error("Invalid address wc "+t);const n=e[1];if(64!==n.length)throw new Error("Invalid address hex "+t);this.isUserFriendly=!1,this.wc=r,this.hashPart=i(n),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const e=function(t){if(48!==t.length)throw new Error("User-friendly address should contain strictly 48 characters");const e=s(a(t));if(36!==e.length)throw"Unknown address type: byte length is not equal to 36";const r=e.slice(0,34),i=e.slice(34,36),o=n(r);if(o[0]!==i[0]||o[1]!==i[1])throw"Wrong crc16 hashsum";let h=r[0],u=!1,l=!1;if(128&h&&(u=!0,h^=128),17!==h&&81!==h)throw"Unknown address tag";l=17===h;let c=null;if(c=255===r[1]?-1:r[1],0!==c&&-1!==c)throw new Error("Invalid address wc "+c);return{isTestOnly:u,isBounceable:l,workchain:c,hashPart:r.slice(2,34)}}(t);this.wc=e.workchain,this.hashPart=e.hashPart,this.isTestOnly=e.isTestOnly,this.isBounceable=e.isBounceable}}toString(t,e,r,i){if(void 0===t&&(t=this.isUserFriendly),void 0===e&&(e=this.isUrlSafe),void 0===r&&(r=this.isBounceable),void 0===i&&(i=this.isTestOnly),t){let t=r?17:81;i&&(t|=128);const o=new Int8Array(34);o[0]=t,o[1]=this.wc,o.set(this.hashPart,2);const s=new Uint8Array(36);s.set(o),s.set(n(o),34);let a=h(String.fromCharCode.apply(null,new Uint8Array(s)));return e&&(a=a.replace(/\+/g,"-").replace(/\//g,"_")),a}return this.wc+":"+o(this.hashPart)}}t.exports.default=u},(t,e,r)=>{const{hexToBytes:n,bytesToHex:i}=r(2);class o{static isValid(t){try{return new o(t),!0}catch(t){return!1}}constructor(t){if(null==t)throw"Invalid address";if(t instanceof o)this.bytes=t.bytes;else if(t instanceof Uint8Array){if(32!==t.length)throw new Error("invalid adnl bytes length");this.bytes=t}else{if("string"!=typeof t)throw new Error("unsupported type");if(64!==t.length)throw new Error("invalid adnl hex length");this.bytes=n(t)}}toHex(){let t=i(this.bytes);for(;t.length<64;)t="0"+t;return t}}t.exports.default=o},(t,e,r)=>{const{hexToBytes:n,bytesToHex:i}=r(2);class o{static isValid(t){try{return new o(t),!0}catch(t){return!1}}constructor(t){if(null==t)throw"Invalid address";if(t instanceof o)this.bytes=t.bytes;else if(t instanceof Uint8Array){if(32!==t.length)throw new Error("invalid bag id bytes length");this.bytes=t}else{if("string"!=typeof t)throw new Error("unsupported type");if(64!==t.length)throw new Error("invalid bag id hex length");this.bytes=n(t)}}toHex(){let t=i(this.bytes);for(;t.length<64;)t="0"+t;return t}}t.exports.default=o},(t,e,r)=>{const{BitString:n}=r(22),{Cell:i}=r(23),{Slice:o}=r(24);t.exports={BitString:n,Cell:i,Slice:o}},(t,e,r)=>{const{BN:n,bytesToHex:i}=r(1);class o{constructor(t){this.array=Uint8Array.from({length:Math.ceil(t/8)},(()=>0)),this.cursor=0,this.length=t}getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(t){return(this.array[t/8|0]&1<<7-t%8)>0}checkRange(t){if(t>this.length)throw Error("BitString overflow")}on(t){this.checkRange(t),this.array[t/8|0]|=1<<7-t%8}off(t){this.checkRange(t),this.array[t/8|0]&=~(1<<7-t%8)}toggle(t){this.checkRange(t),this.array[t/8|0]^=1<<7-t%8}forEach(t){const e=this.cursor;for(let r=0;r<e;r++)t(this.get(r))}writeBit(t){t&&t>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(t){for(let e=0;e<t.length;e++)this.writeBit(t[e])}writeUint(t,e){if(t=new n(t),0==e||t.toString(2).length>e){if(0==t)return;throw Error("bitLength is too small for number, got number="+t+",bitLength="+e)}const r=t.toString(2,e);for(let t=0;t<e;t++)this.writeBit(1==r[t])}writeInt(t,e){if(t=new n(t),1==e){if(-1==t)return void this.writeBit(!0);if(0==t)return void this.writeBit(!1);throw Error("Bitlength is too small for number")}if(t.isNeg()){this.writeBit(!0);const r=new n(2).pow(new n(e-1));this.writeUint(r.add(t),e-1)}else this.writeBit(!1),this.writeUint(t,e-1)}writeUint8(t){this.writeUint(t,8)}writeBytes(t){for(let e=0;e<t.length;e++)this.writeUint8(t[e])}writeString(t){this.writeBytes((new TextEncoder).encode(t))}writeGrams(t){if(0==t)this.writeUint(0,4);else{t=new n(t);const e=Math.ceil(t.toString(16).length/2);this.writeUint(e,4),this.writeUint(t,8*e)}}writeCoins(t){this.writeGrams(t)}writeAddress(t){null==t?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(t.wc,8),this.writeBytes(t.hashPart))}writeBitString(t){t.forEach((t=>{this.writeBit(t)}))}clone(){const t=new o(0);return t.array=this.array.slice(0),t.length=this.length,t.cursor=this.cursor,t}toString(){return this.toHex()}getTopUppedArray(){const t=this.clone();let e=8*Math.ceil(t.cursor/8)-t.cursor;if(e>0)for(e-=1,t.writeBit(!0);e>0;)e-=1,t.writeBit(!1);return t.array=t.array.slice(0,Math.ceil(t.cursor/8)),t.array}toHex(){if(this.cursor%4==0){const t=i(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8==0?t:t.substr(0,t.length-1)}{const t=this.clone();for(t.writeBit(1);t.cursor%4!=0;)t.writeBit(0);return t.toHex().toUpperCase()+"_"}}setTopUppedArray(t,e=!0){if(this.length=8*t.length,this.array=t,this.cursor=this.length,!e&&this.length){let r=!1;for(let t=0;t<7;t++)if(this.cursor-=1,this.get(this.cursor)){r=!0,this.off(this.cursor);break}if(!r)throw console.log(t,e),new Error("Incorrect TopUppedArray")}}}t.exports={BitString:o}},(t,e,r)=>{const{BitString:n}=r(22),{bytesToBase64:i,compareBytes:o,concatBytes:s,crc32c:a,hexToBytes:h,readNBytesUIntFromArray:u,sha256:l,bytesToHex:c}=r(1),{Slice:f}=r(24),d=h("B5EE9C72"),p=h("68ff65f3"),m=h("acc3a728");class g{constructor(){this.bits=new n(1023),this.refs=[],this.isExotic=!1}static fromBoc(t){return b(t)}static oneFromBoc(t){const e=b(t);if(1!==e.length)throw new Error("expected 1 root cell but have "+e.length);return e[0]}writeCell(t){this.bits.writeBitString(t.bits),this.refs=this.refs.concat(t.refs)}getMaxLevel(){let t=0;for(let e in this.refs){const r=this.refs[e];r.getMaxLevel()>t&&(t=r.getMaxLevel())}return t}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let t=0;if(this.refs.length>0){for(let e in this.refs){const r=this.refs[e];r.getMaxDepth()>t&&(t=r.getMaxDepth())}t+=1}return t}getMaxDepthAsArray(){const t=this.getMaxDepth(),e=Uint8Array.from({length:2},(()=>0));return e[1]=t%256,e[0]=Math.floor(t/256),e}getRefsDescriptor(){const t=Uint8Array.from({length:1},(()=>0));return t[0]=this.refs.length+8*this.isExotic+32*this.getMaxLevel(),t}getBitsDescriptor(){const t=Uint8Array.from({length:1},(()=>0));return t[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),t}getDataWithDescriptors(){const t=this.getRefsDescriptor(),e=this.getBitsDescriptor(),r=this.bits.getTopUppedArray();return s(s(t,e),r)}async getRepr(){const t=[];t.push(this.getDataWithDescriptors());for(let e in this.refs){const r=this.refs[e];t.push(r.getMaxDepthAsArray())}for(let e in this.refs){const r=this.refs[e];t.push(await r.hash())}let e=new Uint8Array;for(let r in t){const n=t[r];e=s(e,n)}return e}async hash(){return new Uint8Array(await l(await this.getRepr()))}beginParse(){const t=this.refs.map((t=>t.beginParse()));return new f(this.bits.array.slice(),this.bits.length,t)}print(t){let e=(t=t||"")+"x{"+this.bits.toHex()+"}\n";for(let r in this.refs)e+=this.refs[r].print(t+" ");return e}async toBoc(t=!0,e=!0,r=!1,i=0){const o=await this.treeWalk(),h=o[0],u=o[1],l=h.length,c=l.toString(2).length,f=Math.min(Math.ceil(c/8),1);let p=0,m=[];for(let t of h)m.push(p),p+=await t[1].bocSerializationSize(u,f);const g=p.toString(2).length,y=Math.max(Math.ceil(g/8),1),v=new n(1247*h.length);v.writeBytes(d),v.writeBitArray([t,e,r]),v.writeUint(i,2),v.writeUint(f,3),v.writeUint8(y),v.writeUint(l,8*f),v.writeUint(1,8*f),v.writeUint(0,8*f),v.writeUint(p,8*y),v.writeUint(0,8*f),t&&h.forEach(((t,e)=>v.writeUint(m[e],8*y)));for(let t of h){const e=await t[1].serializeForBoc(u,f);v.writeBytes(e)}let w=v.getTopUppedArray();return e&&(w=s(w,a(w))),w}async serializeForBoc(t,e){const r=[];if(r.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let e in this.refs){const n=this.refs[e];let i=t[await n.hash()].toString(16);i.length%2&&(i="0"+i);const o=h(i);r.push(o)}let n=new Uint8Array;for(let t in r){const e=r[t];n=s(n,e)}return n}async bocSerializationSize(t,e){return(await this.serializeForBoc(t,e)).length}async treeWalk(){return v(this,[],{})}}async function y(t,e,r){const n=t[r];for(let e in t)t[e]>n&&(t[e]=t[e]-1);t[r]=e.length-1;const i=e.splice(n,1)[0];e.push(i);for(let r of i[1].refs)await y(t,e,await r.hash())}async function v(t,e,r,n=null){const i=await t.hash();if(i in r)return n&&r[n]>r[i]&&await y(r,e,i),[e,r];r[i]=e.length,e.push([i,t]);for(let n of t.refs){const t=await v(n,e,r,i);e=t[0],r=t[1]}return[e,r]}function w(t,e){if(t.length<2)throw"Not enough bytes to encode cell descriptors";const r=t[0],n=t[1];t=t.slice(2);const i=8&r,o=r%8,s=Math.ceil(n/2),a=!(n%2);let h=new g;if(h.isExotic=i,t.length<s+e*o)throw"Not enough bytes to encode cell data";h.bits.setTopUppedArray(t.slice(0,s),a),t=t.slice(s);for(let r=0;r<o;r++)h.refs.push(u(e,t)),t=t.slice(e);return{cell:h,residue:t}}function b(t){"string"==typeof t&&(t=h(t));const e=function(t){if(t.length<5)throw"Not enough bytes for magic prefix";const e=t,r=t.slice(0,4);let n,i,s,h,l;if(t=t.slice(4),o(r,d)){const e=t[0];n=128&e,i=64&e,s=32&e,h=2*(16&e)+(8&e),l=e%8}if(o(r,p)&&(n=1,i=0,s=0,h=0,l=t[0]),o(r,m)&&(n=1,i=1,s=0,h=0,l=t[0]),(t=t.slice(1)).length<1+5*l)throw"Not enough bytes for encoding cells counters";const c=t[0];t=t.slice(1);const f=u(l,t);t=t.slice(l);const g=u(l,t);t=t.slice(l);const y=u(l,t);t=t.slice(l);const v=u(c,t);if((t=t.slice(c)).length<g*l)throw"Not enough bytes for encoding root cells hashes";let w=[];for(let e=0;e<g;e++)w.push(u(l,t)),t=t.slice(l);let b=!1;if(n){if(b=[],t.length<c*f)throw"Not enough bytes for index encoding";for(let e=0;e<f;e++)b.push(u(c,t)),t=t.slice(c)}if(t.length<v)throw"Not enough bytes for cells data";const E=t.slice(0,v);if(t=t.slice(v),i){if(t.length<4)throw"Not enough bytes for crc32c hashsum";const r=e.length;if(!o(a(e.slice(0,r-4)),t.slice(0,4)))throw"Crc32c hashsum mismatch";t=t.slice(4)}if(t.length)throw"Too much bytes in BoC serialization";return{has_idx:n,hash_crc32:i,has_cache_bits:s,flags:h,size_bytes:l,off_bytes:c,cells_num:f,roots_num:g,absent_num:y,tot_cells_size:v,root_list:w,index:b,cells_data:E}}(t);let r=e.cells_data,n=[];for(let t=0;t<e.cells_num;t++){let t=w(r,e.size_bytes);r=t.residue,n.push(t.cell)}for(let t=e.cells_num-1;t>=0;t--){let e=n[t];for(let r=0;r<e.refs.length;r++){const i=e.refs[r];if(i<t)throw"Topological order is broken";e.refs[r]=n[i]}}let i=[];for(let t of e.root_list)i.push(n[t]);return i}t.exports={Cell:g}},(t,e,r)=>{const{BN:n,Address:i,bytesToHex:o}=r(1),{BitString:s}=r(22);t.exports={Slice:class{constructor(t,e,r){this.array=t,this.length=e,this.readCursor=0,this.refs=r,this.refCursor=0}getFreeBits(){return this.length-this.readCursor}checkRange(t){if(t>this.length)throw Error("BitString overflow")}get(t){return this.checkRange(t),(this.array[t/8|0]&1<<7-t%8)>0}loadBit(){const t=this.get(this.readCursor);return this.readCursor++,t}loadBits(t){const e=new s(t);for(let r=0;r<t;r++)e.writeBit(this.loadBit());return e.array}loadUint(t){if(t<1)throw"Incorrect bitLength";let e="";for(let r=0;r<t;r++)e+=this.loadBit()?"1":"0";return new n(e,2)}loadInt(t){if(t<1)throw"Incorrect bitLength";const e=this.loadBit();if(1===t)return new n(e?-1:0);let r=this.loadUint(t-1);return e&&(r-=new n(2).pow(new n(t-1))),r}loadVarUint(t){const e=this.loadUint(new n(t).toString(2).length-1);return 0===e.toNumber()?new n(0):this.loadUint(8*e)}loadCoins(){return this.loadVarUint(16)}loadAddress(){const t=this.loadUint(2);if(0===t.toNumber())return null;if(2!==t.toNumber())throw new Error("unsupported address type");if(this.loadBit())throw new Error("unsupported address type");const e=this.loadInt(8).toNumber(),r=this.loadBits(256);return new i(e+":"+o(r))}loadRef(){if(this.refCursor>=4)throw new Error("refs overflow");const t=this.refs[this.refCursor];return this.refCursor++,t}}}},(t,e,r)=>{var n=r(9).Buffer;const{Cell:i}=r(21),{Address:o,BN:s,bytesToHex:a}=r(1),{Contract:h}=r(26);t.exports=class{constructor(t,e){this.transport=t,this.ton=e,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}async getAppConfiguration(){const t=await this.transport.send(224,1,0,0);return{version:t[0]+"."+t[1]+"."+t[2]}}async getPublicKey(t,e){const r=n.alloc(4);r.writeInt32BE(t);const i=await this.transport.send(224,2,e?1:0,0,r),o=i[0];return{publicKey:new Uint8Array(i.slice(1,1+o))}}async getAddress(t,e,r){const i=n.alloc(4);i.writeInt32BE(t);const s=await this.transport.send(224,5,e?1:0,r,i),h=s[0],u=new Uint8Array(s.slice(1,1+h));return{address:new o("0:"+a(u))}}async sign(t,e){const r=n.alloc(4);r.writeInt32BE(t);const i=n.concat([r,n.from(e)]),o=await this.transport.send(224,3,0,0,i),s=o[0];return{signature:o.slice(1,1+s)}}async transfer(t,e,r,o,s,a){const u=await e.createTransferMessage(null,r,o,s,null,3,!0),l=n.alloc(4);l.writeInt32BE(t);const c=n.concat([l,n.from(await u.signingMessage.toBoc())]),f=await this.transport.send(224,4,a,0,c),d=f[0],p=f.slice(1,1+d),m=new Uint8Array(p),g=new i;g.bits.writeBytes(m),g.writeCell(u.signingMessage);let y=null,v=null,w=null;if(0===s){const t=await e.createStateInit();y=t.stateInit,v=t.code,w=t.data}const b=await e.getAddress(),E=h.createExternalMessageHeader(b),A=h.createCommonMsgInfo(E,y,g),C=new Promise((t=>{t({address:b,message:A,body:g,signature:m,signingMessage:u.signingMessage,stateInit:y,code:v,data:w})}));return h.createMethod(this.ton.provider,C)}}},(t,e,r)=>{const{Cell:n}=r(21),{Address:i,bytesToBase64:o,bytesToHex:s}=r(1);class a{constructor(t,e){this.provider=t,this.options=e,this.address=e.address?new i(e.address):null,e.wc||(e.wc=this.address?this.address.wc:0),this.methods={}}async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new n}async createStateInit(){const t=this.createCodeCell(),e=this.createDataCell(),r=a.createStateInit(t,e),n=await r.hash();return{stateInit:r,address:new i(this.options.wc+":"+s(n)),code:t,data:e}}static createStateInit(t,e,r=null,i=null,o=null){if(r)throw"Library in state init is not implemented";if(i)throw"Split depth in state init is not implemented";if(o)throw"Ticktock in state init is not implemented";const s=new n;return s.bits.writeBitArray([Boolean(i),Boolean(o),Boolean(t),Boolean(e),Boolean(r)]),t&&s.refs.push(t),e&&s.refs.push(e),r&&s.refs.push(r),s}static createInternalMessageHeader(t,e=0,r=!0,o=null,s=!1,a=null,h=null,u=0,l=0,c=0,f=0){const d=new n;if(d.bits.writeBit(!1),d.bits.writeBit(r),null!==o?d.bits.writeBit(o):d.bits.writeBit(new i(t).isBounceable),d.bits.writeBit(s),d.bits.writeAddress(a?new i(a):null),d.bits.writeAddress(new i(t)),d.bits.writeGrams(e),h)throw"Currency collections are not implemented yet";return d.bits.writeBit(Boolean(h)),d.bits.writeGrams(u),d.bits.writeGrams(l),d.bits.writeUint(c,64),d.bits.writeUint(f,32),d}static createExternalMessageHeader(t,e=null,r=0){const o=new n;return o.bits.writeUint(2,2),o.bits.writeAddress(e?new i(e):null),o.bits.writeAddress(new i(t)),o.bits.writeGrams(r),o}static createCommonMsgInfo(t,e=null,r=null){const i=new n;return i.writeCell(t),e?(i.bits.writeBit(!0),i.bits.writeBit(!0),i.refs.push(e)):i.bits.writeBit(!1),r?i.bits.getFreeBits()>=r.bits.getUsedBits()?(i.bits.writeBit(!1),i.writeCell(r)):(i.bits.writeBit(!0),i.refs.push(r)):i.bits.writeBit(!1),i}static createMethod(t,e){return{getQuery:async()=>(await e).message,send:async()=>{const r=await e,n=o(await r.message.toBoc(!1));return t.sendBoc(n)},estimateFee:async()=>{const r=await e,n=r.code?{address:r.address.toString(!0,!0,!1),body:o(await r.body.toBoc(!1)),init_code:o(await r.code.toBoc(!1)),init_data:o(await r.data.toBoc(!1))}:{address:r.address.toString(!0,!0,!0),body:o(await r.body.toBoc(!1))};return t.getEstimateFee(n)}}}}t.exports={Contract:a}},(t,e,r)=>{const{Cell:n}=r(21),{base64ToBytes:i}=r(1),o=r(28).default;"undefined"==typeof fetch&&(fetch=r(29));const s="-9223372036854775808";class a{constructor(t,e){this.host=t||"https://toncenter.com/api/v2/jsonRPC",this.options=e||{}}sendImpl(t,e){const r={"Content-Type":"application/json"};return this.options.apiKey&&(r["X-API-Key"]=this.options.apiKey),fetch(t,{method:"POST",headers:r,body:JSON.stringify(e)}).then((t=>t.json())).then((({result:t,error:e})=>t||Promise.reject(e)))}send(t,e){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:t,params:e})}async getAddressInfo(t){return this.send("getAddressInformation",{address:t})}async getExtendedAddressInfo(t){return this.send("getExtendedAddressInformation",{address:t})}async getWalletInfo(t){return this.send("getWalletInformation",{address:t})}async getTransactions(t,e=20,r,n,i,o){return this.send("getTransactions",{address:t,limit:e,lt:r,hash:n,to_lt:i,archival:o})}async getBalance(t){return this.send("getAddressBalance",{address:t})}async sendBoc(t){return this.send("sendBoc",{boc:t})}async sendQuery(t){return this.send("sendQuerySimple",t)}async getEstimateFee(t){return this.send("estimateFee",t)}async call(t,e,r=[]){return this.send("runGetMethod",{address:t,method:e,stack:r})}async call2(t,e,r=[]){const n=await this.send("runGetMethod",{address:t,method:e,stack:r});return o.parseResponse(n)}async getConfigParam(t){const e=await this.send("getConfigParam",{config_id:t});if("configInfo"!==e["@type"])throw new Error("getConfigParam expected type configInfo");if(!e.config)throw new Error("getConfigParam expected config");if("tvm.cell"!==e.config["@type"])throw new Error("getConfigParam expected type tvm.cell");if(!e.config.bytes)throw new Error("getConfigParam expected bytes");return n.oneFromBoc(i(e.config.bytes))}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(t){return this.send("shards",{seqno:t})}async getBlockTransactions(t,e,r){return this.send("getBlockTransactions",{workchain:t,shard:e,seqno:r})}async getMasterchainBlockTransactions(t){return this.getBlockTransactions(-1,s,t)}async getBlockHeader(t,e,r){return this.send("getBlockHeader",{workchain:t,shard:e,seqno:r})}async getMasterchainBlockHeader(t){return this.getBlockHeader(-1,s,t)}}a.SHARD_ID_ALL=s,t.exports.default=a},(t,e,r)=>{const{BN:n,base64ToBytes:i}=r(1),{Cell:o}=r(21);class s{static parseObject(t){const e=t["@type"];switch(e){case"tvm.list":case"tvm.tuple":return t.elements.map(s.parseObject);case"tvm.cell":return o.oneFromBoc(i(t.bytes));case"tvm.stackEntryCell":return s.parseObject(t.cell);case"tvm.stackEntryTuple":return s.parseObject(t.tuple);case"tvm.stackEntryNumber":return s.parseObject(t.number);case"tvm.numberDecimal":return new n(t.number,10);default:throw new Error("unknown type "+e)}}static parseResponseStack(t){const e=t[0],r=t[1];switch(e){case"num":return new n(r.replace(/0x/,""),16);case"list":case"tuple":return s.parseObject(r);case"cell":const t=i(r.bytes);return o.oneFromBoc(t);default:throw new Error("unknown type "+e)}}static parseResponse(t){if(0!==t.exit_code){const e=new Error("http provider parse response error");throw e.result=t,e}const e=t.stack.map(s.parseResponseStack);return 1===e.length?e[0]:e}static makeArg(t){if(t instanceof n||t instanceof Number)return["num",t];throw new Error("unknown arg type "+t)}static makeArgs(t){return t.map(this.makeArg)}}t.exports.default=s},()=>{},(t,e,r)=>{r(21),r(1),r(26);const{SimpleWalletContractR1:n,SimpleWalletContractR2:i,SimpleWalletContractR3:o}=r(31),{WalletV2ContractR1:s,WalletV2ContractR2:a}=r(33),{WalletV3ContractR1:h,WalletV3ContractR2:u}=r(34),{WalletV4ContractR1:l}=r(36),{WalletV4ContractR2:c}=r(37),f={simpleR1:n,simpleR2:i,simpleR3:o,v2R1:s,v2R2:a,v3R1:h,v3R2:u,v4R1:l,v4R2:c},d=[n,i,o,s,a,h,u,l,c];class p{constructor(t){this.provider=t,this.all=f,this.list=d,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}create(t){return new this.default(this.provider,t)}}p.all=f,p.list=d,t.exports.default=p},(t,e,r)=>{const{Cell:n}=r(21),{WalletContract:i}=r(32);t.exports={SimpleWalletContractR1:class extends i{constructor(t,e){e.code=n.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(t,e)}getName(){return"simpleR1"}},SimpleWalletContractR2:class extends i{constructor(t,e){e.code=n.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(t,e)}getName(){return"simpleR2"}},SimpleWalletContractR3:class extends i{constructor(t,e){e.code=n.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(t,e)}getName(){return"simpleR3"}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{nacl:o,stringToBytes:s,Address:a,BN:h}=r(1);t.exports={WalletContract:class extends n{constructor(t,e){if(!e.publicKey&&!e.address)throw new Error("WalletContract required publicKey or address in options");super(t,e),this.methods={transfer:e=>n.createMethod(t,this.createTransferMessage(e.secretKey,e.toAddress,e.amount,e.seqno,e.payload,e.sendMode,!Boolean(e.secretKey),e.stateInit,e.expireAt)),seqno:()=>({call:async()=>{const e=await this.getAddress();let r=null;try{r=(await t.call2(e.toString(),"seqno")).toNumber()}catch(t){}return r}})},this.deploy=e=>n.createMethod(t,this.createInitExternalMessage(e))}getName(){throw new Error("override me")}createDataCell(){const t=new i;return t.bits.writeUint(0,32),t.bits.writeBytes(this.options.publicKey),t}createSigningMessage(t){t=t||0;const e=new i;return e.bits.writeUint(t,32),e}async createInitExternalMessage(t){if(!this.options.publicKey){const e=o.sign.keyPair.fromSecretKey(t);this.options.publicKey=e.publicKey}const{stateInit:e,address:r,code:s,data:a}=await this.createStateInit(),h=this.createSigningMessage(),u=o.sign.detached(await h.hash(),t),l=new i;l.bits.writeBytes(u),l.writeCell(h);const c=n.createExternalMessageHeader(r);return{address:r,message:n.createCommonMsgInfo(c,e,l),body:l,signingMessage:h,stateInit:e,code:s,data:a}}async createExternalMessage(t,e,r,s=!1){const a=s?new Uint8Array(64):o.sign.detached(await t.hash(),e),h=new i;h.bits.writeBytes(a),h.writeCell(t);let u=null,l=null,c=null;if(0===r){if(!this.options.publicKey){const t=o.sign.keyPair.fromSecretKey(e);this.options.publicKey=t.publicKey}const t=await this.createStateInit();u=t.stateInit,l=t.code,c=t.data}const f=await this.getAddress(),d=n.createExternalMessageHeader(f);return{address:f,message:n.createCommonMsgInfo(d,u,h),body:h,signature:a,signingMessage:t,stateInit:u,code:l,data:c}}async createTransferMessage(t,e,r,o,s="",u=3,l=!1,c=null,f){let d=new i;s&&(s.refs?d=s:"string"==typeof s?s.length>0&&(d.bits.writeUint(0,32),d.bits.writeString(s)):d.bits.writeBytes(s));const p=n.createInternalMessageHeader(new a(e),new h(r)),m=n.createCommonMsgInfo(p,c,d),g=this.createSigningMessage(o,f);return g.bits.writeUint8(u),g.refs.push(m),this.createExternalMessage(g,t,o,l)}}}},(t,e,r)=>{const{Cell:n}=r(21),{WalletContract:i}=r(32);class o extends i{createSigningMessage(t,e){t=t||0,e=e||Math.floor(Date.now()/1e3)+60;const r=new n;if(r.bits.writeUint(t,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else r.bits.writeUint(e,32);return r}}t.exports={WalletV2ContractR1:class extends o{constructor(t,e){e.code=n.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(t,e)}getName(){return"v2R1"}},WalletV2ContractR2:class extends o{constructor(t,e){e.code=n.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(t,e)}getName(){return"v2R2"}}}},(t,e,r)=>{const{Cell:n}=r(21),{WalletContract:i}=r(32),{parseWalletV3TransferQuery:o,parseWalletV3TransferBody:s}=r(35);class a extends i{createSigningMessage(t,e){t=t||0,e=e||Math.floor(Date.now()/1e3)+60;const r=new n;if(r.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else r.bits.writeUint(e,32);return r.bits.writeUint(t,32),r}createDataCell(){const t=new n;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t}}class h extends a{constructor(t,e){e.code=n.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R1"}}h.parseTransferQuery=o,h.parseTransferBody=s;class u extends a{constructor(t,e){e.code=n.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R2"}}u.parseTransferQuery=o,u.parseTransferBody=s,t.exports={WalletV3ContractR1:h,WalletV3ContractR2:u}},(t,e,r)=>{const{BN:n}=r(1);function i(t){if(t.loadBits(512),698983191!==t.loadUint(32).toNumber())throw new Error("invalid walletId");const e=t.loadUint(32).toNumber(),r=t.loadUint(32).toNumber();if(3!==t.loadUint(8).toNumber())throw new Error("invalid sendMode");let i=t.loadRef();if(i.loadBit())throw Error("invalid internal header");if(!i.loadBit())throw Error("invalid ihrDisabled");const o=i.loadBit();if(i.loadBit())throw Error("invalid bounced");if(null!==i.loadAddress())throw Error("invalid externalSourceAddress");const s=i.loadAddress(),a=i.loadCoins();if(i.loadBit())throw Error("invalid currencyCollection");if(!i.loadCoins().eq(new n(0)))throw new Error("invalid ihrFees");if(!i.loadCoins().eq(new n(0)))throw new Error("invalid fwdFees");if(!i.loadUint(64).eq(new n(0)))throw new Error("invalid createdLt");if(!i.loadUint(32).eq(new n(0)))throw new Error("invalid createdAt");i.loadBit()&&i.loadRef();let h=null;if(i.getFreeBits()>0&&(i.loadBit()&&(i=i.loadRef()),i.getFreeBits()>32)){const t=i.loadUint(32),e=i.loadBits(i.getFreeBits());h=t.eq(new n(0))?(new TextDecoder).decode(e):""}return{toAddress:s,value:a,bounce:o,seqno:r,expireAt:e,payload:h}}t.exports={parseWalletV3TransferQuery:function(t){const e=t.beginParse();if(2!==e.loadUint(2).toNumber())throw Error("invalid header");if(null!==e.loadAddress())throw Error("invalid externalSourceAddress");const r=e.loadAddress();if(!e.loadCoins().eq(new n(0)))throw new Error("invalid externalImportFee");return e.loadBit()&&e.loadBit()&&e.loadRef(),{fromAddress:r,...i(e.loadBit()?e.loadRef():e)}},parseWalletV3TransferBody:i}},(t,e,r)=>{const{Cell:n}=r(21);r(26),r(1);const{WalletContract:i}=r(32),{parseWalletV3TransferQuery:o,parseWalletV3TransferBody:s}=r(35);class a extends i{constructor(t,e){e.code=n.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}getName(){return"v4R1"}createSigningMessage(t,e,r){t=t||0,e=e||Math.floor(Date.now()/1e3)+60;const i=new n;if(i.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)i.bits.writeBit(1);else i.bits.writeUint(e,32);return i.bits.writeUint(t,32),r||i.bits.writeUint(0,8),i}createDataCell(){const t=new n;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}}a.parseTransferQuery=o,a.parseTransferBody=s,t.exports={WalletV4ContractR1:a}},(t,e,r)=>{const{Cell:n}=r(21),{Contract:i}=r(26),{Address:o,bytesToHex:s,BN:a,toNano:h}=r(1),{WalletContract:u}=r(32),{parseWalletV3TransferQuery:l,parseWalletV3TransferBody:c}=r(35);class f extends u{constructor(t,e){e.code=n.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=e=>i.createMethod(t,this.deployAndInstallPlugin(e)),this.methods.installPlugin=e=>i.createMethod(t,this.installPlugin(e)),this.methods.removePlugin=e=>i.createMethod(t,this.removePlugin(e)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}getName(){return"v4R2"}createSigningMessage(t,e,r){t=t||0,e=e||Math.floor(Date.now()/1e3)+60;const i=new n;if(i.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)i.bits.writeBit(1);else i.bits.writeUint(e,32);return i.bits.writeUint(t,32),r||i.bits.writeUint(0,8),i}createDataCell(){const t=new n;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async deployAndInstallPlugin(t){const{secretKey:e,seqno:r,pluginWc:n,amount:i,stateInit:o,body:s,expireAt:a}=t,h=this.createSigningMessage(r,a,!0);return h.bits.writeUint(1,8),h.bits.writeInt(n,8),h.bits.writeGrams(i),h.refs.push(o),h.refs.push(s),this.createExternalMessage(h,e,r,!1)}async _setPlugin(t,e){const{secretKey:r,seqno:n,amount:i,queryId:s,expireAt:a}=t,u=new o(t.pluginAddress),l=this.createSigningMessage(n,a,!0);return l.bits.writeUint(e?2:3,8),l.bits.writeInt(u.wc,8),l.bits.writeBytes(u.hashPart),l.bits.writeGrams(i||h("0.1")),l.bits.writeUint(s||0,64),this.createExternalMessage(l,r,n,!1)}async installPlugin(t){return this._setPlugin(t,!0)}async removePlugin(t){return this._setPlugin(t,!1)}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async isPluginInstalled(t){t=new o(t);const e="0x"+s(t.hashPart),r=await this.getAddress();return!(await this.provider.call2(r.toString(),"is_plugin_installed",[["num",t.wc],["num",e]])).isZero()}async getPluginsList(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_plugin_list")).map((t=>t[0].toNumber()+":"+t[1].toString(16)))}}f.parseTransferQuery=l,f.parseTransferBody=c,t.exports={WalletV4ContractR2:f}},(t,e,r)=>{const{Cell:n}=r(21),{Address:i,BN:o,toNano:s,bytesToHex:a,hexToBytes:h,nacl:u,stringToBytes:l,bytesToBase64:c,base64ToBytes:f}=r(1);r(26);const{WalletContract:d}=r(32);class p extends d{constructor(t,e){e.code=n.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}getName(){return"lockup-0.1"}createSigningMessage(t,e){t=t||0;const r=new n;if(r.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else{const t=new Date,e=Math.floor(t.getTime()/1e3);r.bits.writeUint(e+60,32)}return r.bits.writeUint(t,32),r}createDataCell(){const t=new n;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeBytes(f(this.options.config.config_public_key)),this.options.config.allowed_destinations?(t.bits.writeUint(1,1),t.refs.push(n.oneFromBoc(f(this.options.config.allowed_destinations)))):t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async getLiquidBalance(){const t=await this.getBalances();return t[0]-t[1]-t[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_balances")}}t.exports.default={LockupWalletV1:p,all:{"lockup-0.1":p},list:[p]}},(t,e,r)=>{const{NftCollection:n}=r(40),{NftItem:i}=r(42),{NftMarketplace:o}=r(43),{NftSale:s}=r(44);t.exports.default={NftCollection:n,NftItem:i,NftMarketplace:o,NftSale:s}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{Address:o,bytesToBase64:s,BN:a}=r(1),{parseAddress:h}=r(41),{createOffchainUriCell:u,serializeUri:l,parseOffchainUriCell:c,getRoyaltyParams:f}=r(41);t.exports={NftCollection:class extends n{constructor(t,e){if(e.wc=0,e.code=e.code||i.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),e.royalty>1)throw new Error("royalty > 1");e.royaltyBase=1e3,e.royaltyFactor=Math.floor(e.royalty*e.royaltyBase),super(t,e),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}createContentCell(t){const e=u(t.collectionContentUri),r=new i;r.bits.writeBytes(l(t.nftItemContentBaseUri));const n=new i;return n.refs[0]=e,n.refs[1]=r,n}createRoyaltyCell(t){const e=new i;return e.bits.writeUint(t.royaltyFactor,16),e.bits.writeUint(t.royaltyBase,16),e.bits.writeAddress(t.royaltyAddress),e}createDataCell(){const t=new i;return t.bits.writeAddress(this.options.ownerAddress),t.bits.writeUint(0,64),t.refs[0]=this.createContentCell(this.options),t.refs[1]=i.oneFromBoc(this.options.nftItemCodeHex),t.refs[2]=this.createRoyaltyCell(this.options),t}createMintBody(t){const e=new i;e.bits.writeUint(1,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(t.itemIndex,64),e.bits.writeCoins(t.amount);const r=new i;r.bits.writeAddress(t.itemOwnerAddress);const n=new i;return n.bits.writeBytes(l(t.itemContentUri)),r.refs[0]=n,e.refs[0]=r,e}createGetRoyaltyParamsBody(t){const e=new i;return e.bits.writeUint(1765620048,32),e.bits.writeUint(t.queryId||0,64),e}createChangeOwnerBody(t){if(void 0===t.newOwnerAddress)throw new Error("Specify newOwnerAddress");const e=new i;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e}createEditContentBody(t){if(t.royalty>1)throw new Error("royalty > 1");t.royaltyBase=1e3,t.royaltyFactor=Math.floor(t.royalty*t.royaltyBase);const e=new i;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=this.createContentCell(t),e.refs[1]=this.createRoyaltyCell(t),e}async getCollectionData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_collection_data"),r=e[0];let n=NaN;try{n=r.toNumber()}catch(t){}const i=e[1];let o=null;try{o=c(i)}catch(t){}return{nextItemIndex:n,itemsCount:r,ownerAddress:h(e[2]),collectionContentCell:i,collectionContentUri:o}}async getNftItemContent(t){const e=await this.getAddress(),r=await t.getData();if(r.isInitialized){const n=await this.provider.call2(e.toString(),"get_nft_content",[["num",r.itemIndex.toString(10)],["tvm.Cell",s(await r.contentCell.toBoc(!1))]]);r.contentUri=null;try{r.contentUri=c(n)}catch(t){}}return r}async getNftItemAddressByIndex(t){t=new a(t);const e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t.toString(10)]]);return h(r)}async getRoyaltyParams(){const t=await this.getAddress();return f(this.provider,t.toString())}}}},(t,e,r)=>{const{Address:n}=r(1),{Cell:i}=r(21),o=t=>(new TextEncoder).encode(encodeURI(t)),s=t=>(new TextDecoder).decode(t),a=(t,e,r)=>{let n=BigInt(0);for(let i=0;i<r;i++)n*=BigInt(2),n+=BigInt(t.get(e+i));return n},h=t=>{let e=a(t.bits,3,8);e>BigInt(127)&&(e-=BigInt(256));const r=a(t.bits,11,256);if(e.toString(10)+":"+r.toString(16)=="0:0")return null;const i=e.toString(10)+":"+r.toString(16).padStart(64,"0");return new n(i)};t.exports={SNAKE_DATA_PREFIX:0,CHUNK_DATA_PREFIX:1,ONCHAIN_CONTENT_PREFIX:0,OFFCHAIN_CONTENT_PREFIX:1,parseAddress:h,serializeUri:o,parseUri:s,createOffchainUriCell:t=>{const e=new i;return e.bits.writeUint(1,8),e.bits.writeBytes(o(t)),e},parseOffchainUriCell:t=>{if(1!==t.bits.array[0])throw new Error("no OFFCHAIN_CONTENT_PREFIX");let e=0,r=t;for(;r;)e+=r.bits.array.length,r=r.refs[0];const n=new Uint8Array(e);for(e=0,r=t;r;)n.set(r.bits.array,e),e+=r.bits.array.length,r=r.refs[0];return s(n.slice(1))},getRoyaltyParams:async(t,e)=>{const r=await t.call2(e,"royalty_params"),n=r[0].toNumber(),i=r[1].toNumber();return{royalty:n/i,royaltyBase:i,royaltyFactor:n,royaltyAddress:h(r[2])}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{Address:o,BN:s}=r(1),{parseAddress:a,getRoyaltyParams:h}=r(41),{parseOffchainUriCell:u}=r(41),l="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";class c extends n{constructor(t,e){e.wc=0,e.code=e.code||i.oneFromBoc(l),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new i;return t.bits.writeUint(this.options.index,64),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),r=-1===e[0].toNumber(),n=e[1];let i=NaN;try{i=n.toNumber()}catch(t){}const o=a(e[2]),s=r?a(e[3]):null,h=e[4];let l=null;try{l=r&&null===o?u(h):null}catch(t){}return{isInitialized:r,index:i,itemIndex:n,collectionAddress:o,ownerAddress:s,contentCell:h,contentUri:l}}async createTransferBody(t){const e=new i;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new s(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new i;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}async getRoyaltyParams(){const t=await this.getAddress();return h(this.provider,t.toString())}}c.codeHex=l,t.exports={NftItem:c}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21);r(1),r(41),t.exports={NftMarketplace:class extends n{constructor(t,e){e.wc=0,e.code=e.code||i.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(t,e)}createDataCell(){const t=new i;return t.bits.writeAddress(this.options.ownerAddress),t}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{parseAddress:o}=r(41);r(1);const s="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";class a extends n{constructor(t,e){e.wc=0,e.code=e.code||i.oneFromBoc(s),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new i;t.bits.writeAddress(this.options.marketplaceAddress),t.bits.writeAddress(this.options.nftAddress),t.bits.writeAddress(null),t.bits.writeCoins(this.options.fullPrice);const e=new i;return e.bits.writeCoins(this.options.marketplaceFee),e.bits.writeAddress(this.options.royaltyAddress),e.bits.writeCoins(this.options.royaltyAmount),t.refs[0]=e,t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_sale_data");return{marketplaceAddress:o(e[0]),nftAddress:o(e[1]),nftOwnerAddress:o(e[2]),fullPrice:e[3],marketplaceFee:e[4],royaltyAddress:o(e[5]),royaltyAmount:e[6]}}async createCancelBody(t){const e=new i;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e}}a.codeHex=s,t.exports={NftSale:a}},(t,e,r)=>{const{JettonMinter:n}=r(46),{JettonWallet:i}=r(47);t.exports.default={JettonMinter:n,JettonWallet:i}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{createOffchainUriCell:o,parseOffchainUriCell:s,parseAddress:a}=r(41),{Address:h,BN:u,bytesToBase64:l}=r(1);t.exports={JettonMinter:class extends n{constructor(t,e){e.wc=0,e.code=e.code||i.oneFromBoc("B5EE9C7241020B010001ED000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60090A03EFD9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF29385D71811A92E001F1811802600271812F82C207F97840607080093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FE3603FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE200303515C705F2E049FA403059C85004FA0258CF16CCCCC9ED54002E5143C705F2E049D43001C85004FA0258CF16CCCCC9ED54007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA904051007F09"),super(t,e)}createDataCell(){const t=new i;return t.bits.writeCoins(0),t.bits.writeAddress(this.options.adminAddress),t.refs[0]=o(this.options.jettonContentUri),t.refs[1]=i.oneFromBoc(this.options.jettonWalletCodeHex),t}createMintBody(t){const e=new i;e.bits.writeUint(21,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.destination),e.bits.writeCoins(t.amount);const r=new i;return r.bits.writeUint(395134233,32),r.bits.writeUint(t.queryId||0,64),r.bits.writeCoins(t.jettonAmount),r.bits.writeAddress(null),r.bits.writeAddress(null),r.bits.writeCoins(new u(0)),r.bits.writeBit(!1),e.refs[0]=r,e}createChangeAdminBody(t){if(void 0===t.newAdminAddress)throw new Error("Specify newAdminAddress");const e=new i;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newAdminAddress),e}createEditContentBody(t){const e=new i;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=o(t.jettonContentUri),e}async getJettonData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_jetton_data"),r=e[0],n=-1===e[1].toNumber(),i=a(e[2]),o=e[3];let h=null;try{h=s(o)}catch(t){}return{totalSupply:r,isMutable:n,adminAddress:i,jettonContentCell:o,jettonContentUri:h,jettonWalletCode:e[4]}}async getJettonWalletAddress(t){const e=await this.getAddress(),r=new i;r.bits.writeAddress(t);const n=await this.provider.call2(e.toString(),"get_wallet_address",[["tvm.Slice",l(await r.toBoc(!1))]]);return a(n)}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{parseAddress:o}=r(41),{BN:s}=r(1),a="B5EE9C7241021201000328000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C511100FC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B020120101101F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C03F73B51343E803E903E90350C0234CFFE80145468017E903E9014D6F1C1551CDB5C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140371C1472C7CB8B0C2BE80146A2860822625A020822625A004AD822860822625A028062849F8C3C975C2C070C008E00D0E0F009ACB3F5007FA0222CF165006CF1625FA025003CF16C95005CC2391729171E25008A813A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED5400705279A018A182107362D09CC8CB1F5230CB3F58FA025007CF165007CF16C9718018C8CB0524CF165006FA0215CB6A14CCC971FB0010241023000E10491038375F040076C200B08E218210D53276DB708010C8CB055008CF165004FA0216CB6A12CB1F12CB3FC972FB0093356C21E203C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60063232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55205ECCF23D";class h extends n{constructor(t,e){e.wc=0,e.code=e.code||i.oneFromBoc(a),super(t,e)}async createTransferBody(t){const e=new i;return e.bits.writeUint(260734629,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.toAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new s(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}async createBurnBody(t){const e=new i;return e.bits.writeUint(1499400124,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.responseAddress),e}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_wallet_data");return{balance:e[0],ownerAddress:o(e[1]),jettonMinterAddress:o(e[2]),jettonWalletCode:e[3]}}}h.codeHex=a,t.exports={JettonWallet:h}},(t,e,r)=>{const{BlockSubscription:n}=r(49),{InMemoryBlockStorage:i}=r(50);t.exports={BlockSubscription:n,InMemoryBlockStorage:i}},t=>{const e=t=>({workchain:t.workchain,shardId:t.shard,shardBlockNumber:t.seqno});t.exports={BlockSubscription:class{constructor(t,e,r,n){this.provider=t,this.storage=e,this.onBlock=r,this.startMcBlockNumber=n?n.startMcBlockNumber:void 0,this.mcInterval=(n?n.mcInterval:void 0)||1e4,this.shardsInterval=(n?n.shardsInterval:void 0)||1e3}async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const t=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=t.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let r=!1;const n=async()=>{if(!r){r=!0;try{const t=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!t)throw new Error("no init masterchain block in storage");const r=(await this.provider.getMasterchainInfo()).last.seqno;if(!r)throw new Error("invalid last masterchain block from provider");for(let n=t+1;n<r;n++){const t=await this.provider.getBlockShards(n),r=await this.provider.getMasterchainBlockHeader(n);await this.onBlock(r,t),await this.storage.insertBlocks(n,t.shards.map(e))}}catch(t){console.error(t)}r=!1}};this.mcIntervalId=setInterval((()=>n()),this.mcInterval),n();let i=!1;const o=async()=>{if(!i){i=!0;try{const t=await this.storage.getUnprocessedShardBlock();if(t){const{workchain:r,shardId:n,shardBlockNumber:i}=t,o=await this.provider.getBlockHeader(r,n,i);if(o.end_lt<this.startLT)await this.storage.setBlockProcessed(r,n,i,[]);else{await this.onBlock(o);const t=o.prev_blocks.map(e);await this.storage.setBlockProcessed(r,n,i,t)}}}catch(t){console.log(t)}i=!1}};this.shardsIntervalId=setInterval((()=>o()),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}}}},t=>{t.exports={InMemoryBlockStorage:class{constructor(t){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=t}async insertShardBlocks(t){for(const{workchain:e,shardId:r,shardBlockNumber:n}of t)void 0===this.shardchainBlocks[e+"_"+r+"_"+n]&&(this.logFunction&&this.logFunction("insert shard "+e+" "+r+" "+n),this.shardchainBlocks[e+"_"+r+"_"+n]=!1)}async insertBlocks(t,e){if(this.logFunction&&this.logFunction("mc processed "+t),void 0!==this.masterchainBlocks[t])throw new Error("mc already exists "+t);this.masterchainBlocks[t]=!0,await this.insertShardBlocks(e)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map((t=>Number(t))).sort(((t,e)=>e-t))[0]}async setBlockProcessed(t,e,r,n){if(this.logFunction&&this.logFunction("shard processed "+t+" "+e+" "+r),void 0===this.shardchainBlocks[t+"_"+e+"_"+r])throw new Error("shard not exists "+t+"_"+e+"_"+r);this.shardchainBlocks[t+"_"+e+"_"+r]=!0,await this.insertShardBlocks(n)}async getUnprocessedShardBlock(){for(let t in this.shardchainBlocks)if(!1===this.shardchainBlocks[t]){const e=t.split("_");return{workchain:Number(e[0]),shardId:e[1],shardBlockNumber:Number(e[2])}}}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{hexToBytes:o,BN:s,nacl:a,bytesToBase64:h}=r(1);t.exports={SubscriptionContract:class extends n{constructor(t,e){e.code=i.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(t,e),this.methods.pay=()=>n.createMethod(t,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}createDataCell(){const t=new i;return t.bits.writeAddress(this.options.wallet),t.bits.writeAddress(this.options.beneficiary),t.bits.writeGrams(this.options.amount),t.bits.writeUint(this.options.period,32),t.bits.writeUint(this.options.startAt,32),t.bits.writeUint(this.options.timeout,32),t.bits.writeUint(0,32),t.bits.writeUint(0,32),t.bits.writeUint(0,8),t.bits.writeUint(this.options.subscriptionId,32),t}createBody(){const t=new i;return t.bits.writeUint(new s(1886156135).add(new s(2147483648)),32),t}createSelfDestructBody(){const t=new i;return t.bits.writeUint(1685288050,32),t}async getSubscriptionData(){const t=t=>t[0].toNumber()+":"+t[1].toString(16),e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_subscription_data");return{wallet:t(r[0]),beneficiary:t(r[1]),amount:r[2],period:r[3].toNumber(),startAt:r[4].toNumber(),timeout:r[5].toNumber(),lastPayment:r[6].toNumber(),lastRequest:r[7].toNumber(),failedAttempts:r[8].toNumber(),subscriptionId:r[9].toNumber()}}async createPayExternalMessage(){const t=await this.getAddress(),e=n.createExternalMessageHeader(t),r=n.createCommonMsgInfo(e,null,null),o=new i;return o.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:t,message:r,body:o}}}}},(t,e,r)=>{const{PaymentChannel:n}=r(53);t.exports={Payments:class{constructor(t){this.provider=t}createChannel(t){return new n(this.provider,t)}},PaymentChannel:n}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{nacl:o,hexToBytes:s,BN:a}=r(1),{parseAddress:h}=r(41),{writePublicKey:u,writeSignature:l,createSignatureCell:c,tag_init:f,tag_cooperative_close:d,tag_cooperative_commit:p,tag_start_uncooperative_close:m,tag_challenge_state:g,tag_settle_conditionals:y,tag_state:v,op_top_up_balance:w,op_init_channel:b,op_cooperative_close:E,op_cooperative_commit:A,op_start_uncooperative_close:C,op_challenge_quarantined_state:M,op_settle_conditionals:B,op_finish_uncooperative_close:F,op_channel_closed:_,createTopUpBalance:S,createInitChannelBody:D,createCooperativeCloseChannelBody:x,createCooperativeCommitBody:I,createConditionalPayment:T,createSemiChannelBody:U,createSemiChannelState:R,createSignedSemiChannelState:N,createStartUncooperativeCloseBody:k,createChallengeQuarantinedStateBody:O,createSettleConditionalsBody:P,createFinishUncooperativeClose:L,createOneSignature:j,createTwoSignature:$}=r(54),q="B5EE9C72410230010007FB000114FF00F4A413F4BCF2C80B0102012002030201480405000AF26C21F0190202CB06070201202E2F020120080902012016170201200A0B0201200C0D0009D3610F80CC001D6B5007434C7FE8034C7CC1BC0FE19E0201580E0F0201201011002D3E11DBC4BE11DBC43232C7FE11DBC47E80B2C7F2407320008B083E1B7B51343480007E187E80007E18BE80007E18F4FFC07E1934FFC07E1974DFC07E19BC01887080A7F4C7C07E1A34C7C07E1A7D01007E1AB7807080E535007E1AF7BE1B2002012012130201201415008D3E13723E11BE117E113E10540132803E10BE80BE10FE8084F2FFC4B2FFF2DFFC02887080A7FE12BE127E121400F2C7C4B2C7FD0037807080E53E12C073253E1333C5B8B27B5520004D1C3C02FE106CFCB8193E803E800C3E1096283E18BE10C0683E18FE10BE10E8006EFCB819BC032000CF1D3C02FE106CFCB819348020C235C6083E4040E4BE1124BE117890CC3E443CB81974C7C060841A5B9A5D2EBCB81A3E118074DFD66EBCB81CBE803E800C3E1094882FBE10D4882FAC3CB819807E18BE18FE12F43E800C3E10BE10E80068006E7CB8199FFE187C0320004120843777222E9C20043232C15401B3C594013E808532DA84B2C7F2DFF2407EC02002012018190201D42B2C0201201A1B0201201E1F0201201C1D00E5473F00BD401D001D401D021F90102D31F01821043436D74BAF2E068F84601D37F59BAF2E072F844544355F910F8454330F910B0F2E065D33FD33F30F84822B9F84922B9B0F2E06C21F86820F869F84A6E915B8E19F84AD0D33FFA003171D721D33F305033BC02BCB1936DF86ADEE2F800F00C8006F3E12F43E800C7E903E900C3E09DBC41CBE10D62F24CC20C1B7BE10FE11963C03FE10BE11A04020BC03DC3E185C3E189C3E18DB7E1ABC032000B51D3C02F5007400750074087E4040B4C7C0608410DB1BDCEEBCB81A3E118074DFD66EBCB81CBE111510D57E443E1150CC3E442C3CB8197E80007E18BE80007E18F4CFF4CFCC3E1208AE7E1248AE6C3CB81B007E1A3E1A7E003C042001C1573F00BF84A6EF2E06AD2008308D71820F9012392F84492F845E24130F910F2E065D31F018210556E436CBAF2E068F84601D37F59BAF2E072D401D08308D71820F901F8444130F910F2E06501D430D08308D71820F901F8454130F910F2E06501820020120222301FED31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE23032F8485280BEF8495250BEB0524BBE1AB0527ABE19210064B05215BE14B05248BE17B0F2E06970F82305C8CB3F5004FA0215F40015CB3F5004FA0212F400CB1F12CA00CA00C9F86AF00C01C31CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DA19D46EBCB81A3E118074DFD66EBCB81CB5007420C235C6083E407E11104C3E443CB81940750C3420C235C6083E407E11504C3E443CB81940602403F71CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DB10DBAEBCB81A3E118074DFD66EBCB81CBD010C3E12B434CFFE803D0134CFFE803D0134C7FE11DBC4148828083E08EE7CB81BBE11DBC4A83E08EF3CB81C34800C151D5A64D6D4C8F7A2B98E82A49B08B8C3816028292A01FCD31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE230325339BE5381BEB0F8495250BEB0F8485290BEB02502FE5237BE16B05262BEB0F2E06927C20097F84918BEF2E0699137E222C20097F84813BEF2E0699132E2F84AD0D33FFA00F404D33FFA00F404D31FF8476F105220A0F823BCF2E06FD200D20030B3F2E073209C3537373A5274BC5263BC12B18E11323939395250BC5299BC18B14650134440E25319BAB3F2E06D9130E30D7F05C82627002496F8476F1114A098F8476F1117A00603E203003ECB3F5004FA0215F40012CB3F5004FA0213F400CB1F12CA00CA00C9F86AF00C00620A8020F4966FA5208E213050038020F4666FA1208E1001FA00ED1E15DA119450C3A00B9133E2923430E202926C21E2B31B000C3535075063140038C8CB3F5004FA0212F400CB3F5003FA0213F400CB1FCA00C9F86AF00C00D51D3C02FE129BACFCB81AFE12B434CFFE803D010C74CFFE803D010C74C7CC3E11DBC4283E11DBC4A83E08EE7CB81C7E003E10886808E87E18BE10D400E816287E18FE10F04026BE10BE10E83E189C3E18F7BE10B04026BE10FE10A83E18DC3E18F780693E1A293E1A7C042001F53B7EF4C7C8608419F1F4A06EA4CC7C037808608403818830AEA54C7C03B6CC780C882084155DD61FAEA54C3C0476CC780820841E6849BBEEA54C3C04B6CC7808208407C546B3EEA54C3C0576CC780820840223AA8CAEA54C3C05B6CC7808208419BDBC1A6EA54C3C05F6CC780C60840950CAA46EA53C0636CC78202D0008840FF2F00075BC7FE3A7805FC25E87D007D207D20184100D0CAF6A1EC7C217C21B7817C227C22B7817C237C23FC247C24B7817C2524C3B7818823881B22A021984008DBD0CABA7805FC20C8B870FC253748B8F07C256840206B90FD0018C020EB90FD0018B8EB90E98F987C23B7882908507C11DE491839707C23B788507C23B789507C11DE48B9F03A4331C4966";class K extends n{constructor(t,e){e.publicKeyA=e.isA?e.myKeyPair.publicKey:e.hisPublicKey,e.publicKeyB=e.isA?e.hisPublicKey:e.myKeyPair.publicKey,e.wc=e.wc||0,e.code=e.code||i.oneFromBoc(q),super(t,e)}createDataCell(){const t=new i;t.bits.writeBit(0),t.bits.writeCoins(0),t.bits.writeCoins(0),u(t,this.options.publicKeyA),u(t,this.options.publicKeyB),t.bits.writeUint(this.options.channelId,128);const e=new i;e.bits.writeUint(this.options.closingConfig?.quarantineDuration||0,32),e.bits.writeCoins(this.options.closingConfig?.misbehaviorFine||new a(0)),e.bits.writeUint(this.options.closingConfig?.conditionalCloseDuration||0,32),t.refs[0]=e,t.bits.writeUint(0,32),t.bits.writeUint(0,32),t.bits.writeBit(!1);const r=new i;return r.bits.writeCoins(this.options.excessFee||new a(0)),r.bits.writeAddress(this.options.addressA),r.bits.writeAddress(this.options.addressB),t.refs[1]=r,t}async createOneSignature(t,e){const r=o.sign.detached(await e.hash(),this.options.myKeyPair.secretKey);return{cell:j({op:t,isA:this.options.isA,signature:r,cell:e}),signature:r}}async createTwoSignature(t,e,r){const n=o.sign.detached(await r.hash(),this.options.myKeyPair.secretKey),i=this.options.isA?n:e,s=this.options.isA?e:n;return{cell:$({op:t,signatureA:i,signatureB:s,cell:r}),signature:n}}async createTopUpBalance(t){return S(t)}async createInitChannel(t){return this.createOneSignature(b,D({...t,channelId:this.options.channelId}))}async createCooperativeCloseChannel(t){return t.hisSignature||(t.hisSignature=new Uint8Array(64)),this.createTwoSignature(E,t.hisSignature,x({...t,channelId:this.options.channelId}))}async createCooperativeCommit(t){return t.hisSignature||(t.hisSignature=new Uint8Array(64)),this.createTwoSignature(A,t.hisSignature,I({...t,channelId:this.options.channelId}))}async createSignedSemiChannelState(t){const e=R({channelId:this.options.channelId,semiChannelBody:U({seqno:t.mySeqno,sentCoins:t.mySentCoins,conditionals:null}),counterpartySemiChannelBody:void 0===t.hisSeqno?null:U({seqno:t.hisSeqno,sentCoins:t.hisSentCoins,conditionals:null})}),r=o.sign.detached(await e.hash(),this.options.myKeyPair.secretKey);return{cell:N({signature:r,state:e}),signature:r}}async signState(t){const e=this.options.isA?t.seqnoA:t.seqnoB,r=this.options.isA?t.seqnoB:t.seqnoA,n=this.options.initBalanceA.gt(t.balanceA)?this.options.initBalanceA.sub(t.balanceA):new a(0),i=this.options.initBalanceB.gt(t.balanceB)?this.options.initBalanceB.sub(t.balanceB):new a(0),o=this.options.isA?n:i,s=this.options.isA?i:n,{cell:h,signature:u}=await this.createSignedSemiChannelState({mySeqno:e,mySentCoins:o,hisSeqno:r,hisSentCoins:s});return u}async verifyState(t,e){const r=this.options.isA?t.seqnoB:t.seqnoA,n=this.options.isA?t.seqnoA:t.seqnoB,i=this.options.initBalanceA.gt(t.balanceA)?this.options.initBalanceA.sub(t.balanceA):new a(0),s=this.options.initBalanceB.gt(t.balanceB)?this.options.initBalanceB.sub(t.balanceB):new a(0),h=this.options.isA?s:i,u=this.options.isA?i:s,l=R({channelId:this.options.channelId,semiChannelBody:U({seqno:r,sentCoins:h,conditionals:null}),counterpartySemiChannelBody:void 0===n?null:U({seqno:n,sentCoins:u,conditionals:null})}),c=await l.hash();return o.sign.detached.verify(c,e,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async signClose(t){const{cell:e,signature:r}=await this.createCooperativeCloseChannel(t);return r}async verifyClose(t,e){const r=await x({...t,channelId:this.options.channelId}),n=await r.hash();return o.sign.detached.verify(n,e,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async createStartUncooperativeClose(t){return this.createOneSignature(C,k({...t,channelId:this.options.channelId}))}async createChallengeQuarantinedState(t){return this.createOneSignature(M,O({...t,channelId:this.options.channelId}))}async createSettleConditionals(t){return this.createOneSignature(B,P({...t,channelId:this.options.channelId}))}async createFinishUncooperativeClose(){return L()}static STATE_UNINITED=0;static STATE_OPEN=1;static STATE_CLOSURE_STARTED=2;static STATE_SETTLING_CONDITIONALS=3;static STATE_AWAITING_FINALIZATION=4;async getChannelState(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_channel_state",[])).toNumber()}async getData(){const t=t=>{let e=t.toString(16);return e.length%2!=0&&(e="0"+e),s(e)},e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_channel_data",[]);return{state:r[0].toNumber(),balanceA:r[1][0],balanceB:r[1][1],publicKeyA:t(r[2][0]),publicKeyB:t(r[2][1]),channelId:r[3],quarantineDuration:r[4][0].toNumber(),misbehaviorFine:r[4][1],conditionalCloseDuration:r[4][2].toNumber(),seqnoA:r[5][0],seqnoB:r[5][1],quarantine:r[6],excessFee:r[7][0],addressA:h(r[7][1]),addressB:h(r[7][2])}}fromWallet(t){const{wallet:e,secretKey:r}=t,n=(t,n)=>{const i=async i=>{const o=n?(await this.createStateInit()).stateInit:null,s=await this.getAddress(),a=await e.methods.seqno().call()||0,h=await t;return e.methods.transfer({secretKey:r,toAddress:s.toString(!0,!0,!0),amount:i,seqno:a,payload:h,stateInit:o,sendMode:3})};return{send:t=>i(t).then((t=>t.send())),estimateFee:t=>i(t).then((t=>t.estimateFee()))}};return{deploy:()=>n(null,!0),init:t=>n(this.createInitChannel(t).then((t=>t.cell))),topUp:t=>n(this.createTopUpBalance(t)),close:t=>n(this.createCooperativeCloseChannel(t).then((t=>t.cell))),commit:t=>n(this.createCooperativeCommit(t).then((t=>t.cell))),startUncooperativeClose:t=>n(this.createStartUncooperativeClose(t).then((t=>t.cell))),challengeQuarantinedState:t=>n(this.createChallengeQuarantinedState(t).then((t=>t.cell))),settleConditionals:t=>n(this.createSettleConditionals(t).then((t=>t.cell))),finishUncooperativeClose:()=>n(this.createFinishUncooperativeClose())}}}K.codeHex=q,t.exports={PaymentChannel:K}},(t,e,r)=>{const{Cell:n}=r(21),i=(t,e)=>{if(64!==e.length)throw new Error("invalid signature length");t.bits.writeBytes(e)},o=t=>{const e=new n;return i(e,t),e},s=(t,e)=>{if(e){if(t.bits.writeBit(1),t.refs.length>=4)throw new Error("refs overflow");t.refs.push(e)}else t.bits.writeBit(0)},a=s,h=1768843636,u=1131179891,l=1128492404,c=1433289580,f=1130915665,d=1131168622,p=1130910580,m=1741148801,g=625158801;t.exports={writePublicKey:(t,e)=>{if(32!==e.length)throw new Error("invalid publicKey length");t.bits.writeBytes(e)},writeSignature:i,createSignatureCell:o,tag_init:h,tag_cooperative_close:u,tag_cooperative_commit:l,tag_start_uncooperative_close:c,tag_challenge_state:f,tag_settle_conditionals:d,tag_state:p,op_top_up_balance:m,op_init_channel:235282626,op_cooperative_close:1433884798,op_cooperative_commit:2040604399,op_start_uncooperative_close:521476815,op_challenge_quarantined_state:143567410,op_settle_conditionals:1727459433,op_finish_uncooperative_close:g,op_channel_closed:-572749638,createTopUpBalance:t=>{const e=new n;return e.bits.writeUint(m,32),e.bits.writeCoins(t.coinsA),e.bits.writeCoins(t.coinsB),e},createInitChannelBody:t=>{const e=new n;return e.bits.writeUint(h,32),e.bits.writeUint(t.channelId,128),e.bits.writeCoins(t.balanceA),e.bits.writeCoins(t.balanceB),e},createCooperativeCloseChannelBody:t=>{const e=new n;return e.bits.writeUint(u,32),e.bits.writeUint(t.channelId,128),e.bits.writeCoins(t.balanceA),e.bits.writeCoins(t.balanceB),e.bits.writeUint(t.seqnoA,64),e.bits.writeUint(t.seqnoB,64),e},createCooperativeCommitBody:t=>{const e=new n;return e.bits.writeUint(l,32),e.bits.writeUint(t.channelId,128),e.bits.writeUint(t.seqnoA,64),e.bits.writeUint(t.seqnoB,64),e},createConditionalPayment:t=>{const e=new n;return e.bits.writeCoins(t.amount),e.writeCell(t.condition),e},createSemiChannelBody:t=>{const e=new n;return e.bits.writeUint(t.seqno,64),e.bits.writeCoins(t.sentCoins),a(e,t.conditionals),e},createSemiChannelState:t=>{const e=new n;return e.bits.writeUint(p,32),e.bits.writeUint(t.channelId,128),e.writeCell(t.semiChannelBody),s(e,t.counterpartySemiChannelBody),e},createSignedSemiChannelState:t=>{const e=new n;return i(e,t.signature),e.writeCell(t.state),e},createStartUncooperativeCloseBody:t=>{const e=new n;return e.bits.writeUint(c,32),e.bits.writeUint(t.channelId,128),e.refs[0]=t.signedSemiChannelStateA,e.refs[1]=t.signedSemiChannelStateB,e},createChallengeQuarantinedStateBody:t=>{const e=new n;return e.bits.writeUint(f,32),e.bits.writeUint(t.channelId,128),e.refs[0]=t.signedSemiChannelStateA,e.refs[1]=t.signedSemiChannelStateB,e},createSettleConditionalsBody:t=>{const e=new n;return e.bits.writeUint(d,32),e.bits.writeUint(t.channelId,128),a(e,t.conditionalsToSettle),e},createFinishUncooperativeClose:()=>{const t=new n;return t.bits.writeUint(g,32),t},createOneSignature:t=>{const e=new n;return e.bits.writeUint(t.op,32),e.bits.writeBit(t.isA),i(e,t.signature),e.writeCell(t.cell),e},createTwoSignature:t=>{const e=new n;return e.bits.writeUint(t.op,32),e.refs[0]=o(t.signatureA),e.refs[1]=o(t.signatureB),e.writeCell(t.cell),e}}},(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(56),i=r(59),o=r(60),s=r(108),a=r(58),h=r(109),u=r(9).Buffer;class l extends n.default{constructor(t,e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=t=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",t))},this.exchange=t=>this.exchangeAtomicImpl((async()=>{const{channel:e,packetSize:r}=this;(0,s.log)("apdu","=> "+t.toString("hex"));const n=(0,i.default)(e,r),o=n.makeBlocks(t);for(let t=0;t<o.length;t++)await this.device.transferOut(3,o[t]);let a,h;for(;!(a=n.getReducedResult(h));){const t=await this.device.transferIn(3,r),e=u.from(t.data.buffer);h=n.reduceResponse(h,e)}return(0,s.log)("apdu","<= "+a.toString("hex")),a})).catch((t=>{if(t&&t.message&&t.message.includes("disconnected"))throw this._emitDisconnect(t),new a.DisconnectedDeviceDuringOperation(t.message);throw t})),this.device=t,this.interfaceNumber=e,this.deviceModel=(0,o.identifyUSBProductId)(t.productId)}static async request(){const t=await(0,h.requestLedgerDevice)();return l.open(t)}static async openConnected(){const t=await(0,h.getLedgerDevices)();return 0===t.length?null:l.open(t[0])}static async open(t){await t.open(),null===t.configuration&&await t.selectConfiguration(1),await c(t);const e=t.configurations[0].interfaces.find((({alternates:t})=>t.some((t=>255===t.interfaceClass))));if(!e)throw new a.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const r=e.interfaceNumber;try{await t.claimInterface(r)}catch(e){throw await t.close(),new a.TransportInterfaceNotAvailable(e.message)}const n=new l(t,r),i=e=>{t===e.device&&(navigator.usb.removeEventListener("disconnect",i),n._emitDisconnect(new a.DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",i),n}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await c(this.device),await this.device.close()}setScrambleKey(){}}async function c(t){try{await t.reset()}catch(t){console.warn(t)}}l.isSupported=h.isSupported,l.list=h.getLedgerDevices,l.listen=t=>{let e=!1;return(0,h.getFirstLedgerDevice)().then((r=>{if(!e){const e=(0,o.identifyUSBProductId)(r.productId);t.next({type:"add",descriptor:r,deviceModel:e}),t.complete()}}),(e=>{window.DOMException&&e instanceof window.DOMException&&18===e.code?t.error(new a.TransportWebUSBGestureRequired(e.message)):t.error(new a.TransportOpenUserCancelled(e.message))})),{unsubscribe:function(){e=!0}}}},(t,e,r)=>{r.r(e),r.d(e,{StatusCodes:()=>o.StatusCodes,TransportError:()=>o.TransportError,TransportStatusError:()=>o.TransportStatusError,default:()=>a,getAltStatusMessage:()=>o.getAltStatusMessage});var n=r(57),i=r.n(n),o=r(58),s=r(9).Buffer;class a{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(i()),this.send=async(t,e,r,n,i=s.alloc(0),a=[o.StatusCodes.OK])=>{if(i.length>=256)throw new o.TransportError("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const h=await this.exchange(s.concat([s.from([t,e,r,n]),s.from([i.length]),i])),u=h.readUInt16BE(h.length-2);if(!a.some((t=>t===u)))throw new o.TransportStatusError(u);return h},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async t=>{if(this.exchangeBusyPromise)throw new o.TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let e;const r=new Promise((t=>{e=t}));this.exchangeBusyPromise=r;let n=!1;const i=setTimeout((()=>{n=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const e=await t();return n&&this.emit("responsive"),e}finally{clearTimeout(i),e&&e(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(t){throw new Error("exchange not implemented")}setScrambleKey(t){}close(){return Promise.resolve()}on(t,e){this._events.on(t,e)}off(t,e){this._events.removeListener(t,e)}emit(t,...e){this._events.emit(t,...e)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(t){this.exchangeTimeout=t}setExchangeUnresponsiveTimeout(t){this.unresponsiveTimeout=t}static create(t=3e3,e){return new Promise(((r,n)=>{let i=!1;const s=this.listen({next:e=>{i=!0,s&&s.unsubscribe(),a&&clearTimeout(a),this.open(e.descriptor,t).then(r,n)},error:t=>{a&&clearTimeout(a),n(t)},complete:()=>{a&&clearTimeout(a),i||n(new o.TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),a=e?setTimeout((()=>{s.unsubscribe(),n(new o.TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),e):null}))}decorateAppAPIMethods(t,e,r){for(let n of e)t[n]=this.decorateAppAPIMethod(n,t[n],t,r)}decorateAppAPIMethod(t,e,r,n){return async(...i)=>{const{_appAPIlock:s}=this;if(s)return Promise.reject(new o.TransportError("Ledger Device is busy (lock "+s+")","TransportLocked"));try{return this._appAPIlock=t,this.setScrambleKey(n),await e.apply(r,i)}finally{this._appAPIlock=null}}}}a.isSupported=void 0,a.list=void 0,a.listen=void 0,a.open=void 0,a.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",a.ErrorMessage_NoDeviceFound="No Ledger device found"},t=>{var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,o,s,u;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=h(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var h=o[t];if(void 0===h)return!1;if("function"==typeof h)n(h,this,e);else{var u=h.length,l=p(h,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},(t,e,r)=>{r.r(e),r.d(e,{AccountNameRequiredError:()=>l,AccountNotSupported:()=>c,AmountRequired:()=>f,BluetoothRequired:()=>d,BtcUnmatchedApp:()=>p,CantOpenDevice:()=>m,CantScanQRCode:()=>Ot,CashAddrNotSupported:()=>g,CurrencyNotSupported:()=>y,DBNotReset:()=>Wt,DBWrongPassword:()=>Yt,DeviceAppVerifyNotSupported:()=>v,DeviceGenuineSocketEarlyClose:()=>w,DeviceHalted:()=>M,DeviceInOSUExpected:()=>C,DeviceNameInvalid:()=>B,DeviceNotGenuineError:()=>b,DeviceOnDashboardExpected:()=>E,DeviceOnDashboardUnexpected:()=>A,DeviceShouldStayInApp:()=>It,DeviceSocketFail:()=>F,DeviceSocketNoBulkStatus:()=>_,DisconnectedDevice:()=>S,DisconnectedDeviceDuringOperation:()=>D,ETHAddressNonEIP:()=>kt,EnpointConfigError:()=>x,EthAppPleaseEnableContractData:()=>I,FeeEstimationFailed:()=>T,FeeNotLoaded:()=>Pt,FeeRequired:()=>Lt,FeeTooHigh:()=>jt,FirmwareNotRecognized:()=>U,FirmwareOrAppUpdateRequired:()=>Gt,GasLessThanEstimate:()=>at,GenuineCheckFailed:()=>Kt,HardResetFail:()=>R,InvalidAddress:()=>k,InvalidAddressBecauseDestinationIsAlsoSource:()=>O,InvalidXRPTag:()=>N,LatestMCUInstalledError:()=>P,LedgerAPI4xx:()=>Ht,LedgerAPI5xx:()=>zt,LedgerAPIError:()=>j,LedgerAPIErrorWithMessage:()=>$,LedgerAPINotAvailable:()=>q,MCUNotGenuineToDashboard:()=>pt,ManagerAppAlreadyInstalledError:()=>K,ManagerAppDepInstallRequired:()=>z,ManagerAppDepUninstallRequired:()=>G,ManagerAppRelyOnBTCError:()=>H,ManagerDeviceLockedError:()=>V,ManagerFirmwareNotEnoughSpaceError:()=>Y,ManagerNotEnoughSpaceError:()=>W,ManagerUninstallBTCDep:()=>Z,NetworkDown:()=>X,NoAccessToCamera:()=>it,NoAddressesFound:()=>Q,NoDBPathGiven:()=>Vt,NotEnoughBalance:()=>J,NotEnoughBalanceBecauseDestinationNotCreated:()=>nt,NotEnoughBalanceInParentAccount:()=>et,NotEnoughBalanceToDelegate:()=>tt,NotEnoughGas:()=>ot,NotEnoughSpendableBalance:()=>rt,NotSupportedLegacyAddress:()=>st,PairingFailed:()=>qt,PasswordIncorrectError:()=>ut,PasswordsDontMatchError:()=>ht,RecipientRequired:()=>mt,RecommendSubAccountsToEmpty:()=>lt,RecommendUndelegation:()=>ct,StatusCodes:()=>Xt,SyncError:()=>$t,TimeoutTagged:()=>ft,TransportError:()=>Zt,TransportInterfaceNotAvailable:()=>St,TransportOpenUserCancelled:()=>_t,TransportRaceCondition:()=>Dt,TransportStatusError:()=>Jt,TransportWebUSBGestureRequired:()=>xt,UnavailableTezosOriginatedAccountReceive:()=>gt,UnavailableTezosOriginatedAccountSend:()=>yt,UnexpectedBootloader:()=>dt,UnknownMCU:()=>L,UpdateFetchFileFail:()=>vt,UpdateIncorrectHash:()=>wt,UpdateIncorrectSig:()=>bt,UpdateYourApp:()=>Et,UserRefusedAddress:()=>Ct,UserRefusedAllowManager:()=>Bt,UserRefusedDeviceNameChange:()=>At,UserRefusedFirmwareUpdate:()=>Mt,UserRefusedOnDevice:()=>Ft,WebsocketConnectionError:()=>Tt,WebsocketConnectionFailed:()=>Ut,WrongAppForCurrency:()=>Nt,WrongDeviceForAccount:()=>Rt,addCustomErrorDeserializer:()=>o,createCustomErrorClass:()=>s,deserializeError:()=>a,getAltStatusMessage:()=>Qt,serializeError:()=>h});var n={},i={},o=function(t,e){i[t]=e},s=function(t){var e=function(e,r){Object.assign(this,r),this.name=t,this.message=e||t,this.stack=(new Error).stack};return e.prototype=new Error,n[t]=e,e},a=function(t){if("object"==typeof t&&t){try{var e=JSON.parse(t.message);e.message&&e.name&&(t=e)}catch(t){}var r=void 0;if("string"==typeof t.name){var o=t.name,h=i[o];if(h)r=h(t);else{var u="Error"===o?Error:n[o];u||(console.warn("deserializing an unknown class '"+o+"'"),u=s(o)),r=Object.create(u.prototype);try{for(var l in t)t.hasOwnProperty(l)&&(r[l]=t[l])}catch(t){}}}else r=new Error(t.message);return!r.stack&&Error.captureStackTrace&&Error.captureStackTrace(r,a),r}return new Error(String(t))},h=function(t){return t?"object"==typeof t?u(t,[]):"function"==typeof t?"[Function: "+(t.name||"anonymous")+"]":t:t};function u(t,e){var r={};e.push(t);for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n],s=t[o];"function"!=typeof s&&(s&&"object"==typeof s?-1!==e.indexOf(t[o])?r[o]="[Circular]":r[o]=u(t[o],e.slice(0)):r[o]=s)}return"string"==typeof t.name&&(r.name=t.name),"string"==typeof t.message&&(r.message=t.message),"string"==typeof t.stack&&(r.stack=t.stack),r}var l=s("AccountNameRequired"),c=s("AccountNotSupported"),f=s("AmountRequired"),d=s("BluetoothRequired"),p=s("BtcUnmatchedApp"),m=s("CantOpenDevice"),g=s("CashAddrNotSupported"),y=s("CurrencyNotSupported"),v=s("DeviceAppVerifyNotSupported"),w=s("DeviceGenuineSocketEarlyClose"),b=s("DeviceNotGenuine"),E=s("DeviceOnDashboardExpected"),A=s("DeviceOnDashboardUnexpected"),C=s("DeviceInOSUExpected"),M=s("DeviceHalted"),B=s("DeviceNameInvalid"),F=s("DeviceSocketFail"),_=s("DeviceSocketNoBulkStatus"),S=s("DisconnectedDevice"),D=s("DisconnectedDeviceDuringOperation"),x=s("EnpointConfig"),I=s("EthAppPleaseEnableContractData"),T=s("FeeEstimationFailed"),U=s("FirmwareNotRecognized"),R=s("HardResetFail"),N=s("InvalidXRPTag"),k=s("InvalidAddress"),O=s("InvalidAddressBecauseDestinationIsAlsoSource"),P=s("LatestMCUInstalledError"),L=s("UnknownMCU"),j=s("LedgerAPIError"),$=s("LedgerAPIErrorWithMessage"),q=s("LedgerAPINotAvailable"),K=s("ManagerAppAlreadyInstalled"),H=s("ManagerAppRelyOnBTC"),z=s("ManagerAppDepInstallRequired"),G=s("ManagerAppDepUninstallRequired"),V=s("ManagerDeviceLocked"),Y=s("ManagerFirmwareNotEnoughSpace"),W=s("ManagerNotEnoughSpace"),Z=s("ManagerUninstallBTCDep"),X=s("NetworkDown"),Q=s("NoAddressesFound"),J=s("NotEnoughBalance"),tt=s("NotEnoughBalanceToDelegate"),et=s("NotEnoughBalanceInParentAccount"),rt=s("NotEnoughSpendableBalance"),nt=s("NotEnoughBalanceBecauseDestinationNotCreated"),it=s("NoAccessToCamera"),ot=s("NotEnoughGas"),st=s("NotSupportedLegacyAddress"),at=s("GasLessThanEstimate"),ht=s("PasswordsDontMatch"),ut=s("PasswordIncorrect"),lt=s("RecommendSubAccountsToEmpty"),ct=s("RecommendUndelegation"),ft=s("TimeoutTagged"),dt=s("UnexpectedBootloader"),pt=s("MCUNotGenuineToDashboard"),mt=s("RecipientRequired"),gt=s("UnavailableTezosOriginatedAccountReceive"),yt=s("UnavailableTezosOriginatedAccountSend"),vt=s("UpdateFetchFileFail"),wt=s("UpdateIncorrectHash"),bt=s("UpdateIncorrectSig"),Et=s("UpdateYourApp"),At=s("UserRefusedDeviceNameChange"),Ct=s("UserRefusedAddress"),Mt=s("UserRefusedFirmwareUpdate"),Bt=s("UserRefusedAllowManager"),Ft=s("UserRefusedOnDevice"),_t=s("TransportOpenUserCancelled"),St=s("TransportInterfaceNotAvailable"),Dt=s("TransportRaceCondition"),xt=s("TransportWebUSBGestureRequired"),It=s("DeviceShouldStayInApp"),Tt=s("WebsocketConnectionError"),Ut=s("WebsocketConnectionFailed"),Rt=s("WrongDeviceForAccount"),Nt=s("WrongAppForCurrency"),kt=s("ETHAddressNonEIP"),Ot=s("CantScanQRCode"),Pt=s("FeeNotLoaded"),Lt=s("FeeRequired"),jt=s("FeeTooHigh"),$t=s("SyncError"),qt=s("PairingFailed"),Kt=s("GenuineCheckFailed"),Ht=s("LedgerAPI4xx"),zt=s("LedgerAPI5xx"),Gt=s("FirmwareOrAppUpdateRequired"),Vt=s("NoDBPathGiven"),Yt=s("DBWrongPassword"),Wt=s("DBNotReset");function Zt(t,e){this.name="TransportError",this.message=t,this.stack=(new Error).stack,this.id=e}Zt.prototype=new Error,o("TransportError",(function(t){return new Zt(t.message,t.id)}));var Xt={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function Qt(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=t&&t<=28671)return"Internal error, please report"}function Jt(t){this.name="TransportStatusError";var e=Object.keys(Xt).find((function(e){return Xt[e]===t}))||"UNKNOWN_ERROR",r=Qt(t)||e,n=t.toString(16);this.message="Ledger device: "+r+" (0x"+n+")",this.stack=(new Error).stack,this.statusCode=t,this.statusText=e}Jt.prototype=new Error,o("TransportStatusError",(function(t){return new Jt(t.statusCode)}))},(t,e,r)=>{var n=r(9).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(58);function o(t){const e=n.alloc(2);return e.writeUInt16BE(t,0),e}const s={data:n.alloc(0),dataLength:0,sequence:0};e.default=(t,e)=>({makeBlocks(r){let i=n.concat([o(r.length),r]);const s=e-5,a=Math.ceil(i.length/s);i=n.concat([i,n.alloc(a*s-i.length+1).fill(0)]);const h=[];for(let e=0;e<a;e++){const r=n.alloc(5);r.writeUInt16BE(t,0),r.writeUInt8(5,2),r.writeUInt16BE(e,3);const o=i.slice(e*s,(e+1)*s);h.push(n.concat([r,o]))}return h},reduceResponse(e,r){let{data:o,dataLength:a,sequence:h}=e||s;if(r.readUInt16BE(0)!==t)throw new i.TransportError("Invalid channel","InvalidChannel");if(5!==r.readUInt8(2))throw new i.TransportError("Invalid tag","InvalidTag");if(r.readUInt16BE(3)!==h)throw new i.TransportError("Invalid sequence","InvalidSequence");e||(a=r.readUInt16BE(5)),h++;const u=r.slice(e?5:7);return o=n.concat([o,u]),o.length>a&&(o=o.slice(0,a)),{data:o,dataLength:a,sequence:h}},getReducedResult(t){if(t&&t.dataLength===t.data.length)return t.data}})},(t,e,r)=>{r.r(e),r.d(e,{IICCID:()=>h,IIGenericHID:()=>o,IIKeyboardHID:()=>s,IIU2F:()=>a,IIWebUSB:()=>u,getBluetoothServiceUuids:()=>w,getDeviceModel:()=>p,getInfosForServiceUuid:()=>b,identifyProductName:()=>g,identifyUSBProductId:()=>m,ledgerUSBVendorId:()=>d});var n=r(61),i=r.n(n);const o=1,s=2,a=4,h=8,u=16,l={blue:{id:"blue",productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096,getBlockSize:t=>4096},nanoS:{id:"nanoS",productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096,getBlockSize:t=>i().lt(i().coerce(t),"2.0.0")?4096:2048},nanoX:{id:"nanoX",productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,getBlockSize:t=>4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},c={Blue:"blue","Nano S":"nanoS","Nano X":"nanoX"},f=Object.values(l),d=11415,p=t=>{const e=l[t];if(!e)throw new Error("device '"+t+"' does not exist");return e},m=t=>{const e=f.find((e=>e.legacyUsbProductId===t));if(e)return e;const r=t>>8;return f.find((t=>t.productIdMM===r))},g=t=>{const e=c[t];return f.find((t=>t.id===e))},y=[],v={};for(let t in l){const e=l[t],{bluetoothSpec:r}=e;if(r)for(let t=0;t<r.length;t++){const n=r[t];y.push(n.serviceUuid),v[n.serviceUuid]=v[n.serviceUuid.replace(/-/g,"")]={deviceModel:e,...n}}}const w=()=>y,b=t=>v[t.toLowerCase()]},(t,e,r)=>{const n=r(62);t.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(63).SEMVER_SPEC_VERSION,SemVer:r(65),compareIdentifiers:r(67).compareIdentifiers,rcompareIdentifiers:r(67).rcompareIdentifiers,parse:r(68),valid:r(69),clean:r(70),inc:r(71),diff:r(72),major:r(75),minor:r(76),patch:r(77),prerelease:r(78),compare:r(74),rcompare:r(79),compareLoose:r(80),compareBuild:r(81),sort:r(82),rsort:r(83),gt:r(84),lt:r(85),eq:r(73),neq:r(86),gte:r(87),lte:r(88),cmp:r(89),coerce:r(90),Comparator:r(91),Range:r(92),satisfies:r(96),toComparators:r(97),maxSatisfying:r(98),minSatisfying:r(99),minVersion:r(100),validRange:r(101),outside:r(102),gtr:r(103),ltr:r(104),intersects:r(105),simplifyRange:r(106),subset:r(107)}},(t,e,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(63),i=r(64),o=(e=t.exports={}).re=[],s=e.src=[],a=e.t={};let h=0;const u=(t,e,r)=>{const n=h++;i(n,e),a[t]=n,s[n]=e,o[n]=new RegExp(e,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:e,MAX_SAFE_COMPONENT_LENGTH:16}},t=>{const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},(t,e,r)=>{const n=r(64),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(63),{re:s,t:a}=r(62),h=r(66),{compareIdentifiers:u}=r(67);class l{constructor(t,e){if(e=h(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<o)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(n("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),u(this.major,t.major)||u(this.minor,t.minor)||u(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{const r=this.build[e],i=t.build[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}t.exports=l},t=>{const e=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:e.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{}},t=>{const e=/^[0-9]+$/,r=(t,r)=>{const n=e.test(t),i=e.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:t<r?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},(t,e,r)=>{const{MAX_LENGTH:n}=r(63),{re:i,t:o}=r(62),s=r(65),a=r(66);t.exports=(t,e)=>{if(e=a(e),t instanceof s)return t;if("string"!=typeof t)return null;if(t.length>n)return null;if(!(e.loose?i[o.LOOSE]:i[o.FULL]).test(t))return null;try{return new s(t,e)}catch(t){return null}}},(t,e,r)=>{const n=r(68);t.exports=(t,e)=>{const r=n(t,e);return r?r.version:null}},(t,e,r)=>{const n=r(68);t.exports=(t,e)=>{const r=n(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}},(t,e,r)=>{const n=r(65);t.exports=(t,e,r,i)=>{"string"==typeof r&&(i=r,r=void 0);try{return new n(t,r).inc(e,i).version}catch(t){return null}}},(t,e,r)=>{const n=r(68),i=r(73);t.exports=(t,e)=>{if(i(t,e))return null;{const r=n(t),i=n(e),o=r.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const t in r)if(("major"===t||"minor"===t||"patch"===t)&&r[t]!==i[t])return s+t;return a}}},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>0===n(t,e,r)},(t,e,r)=>{const n=r(65);t.exports=(t,e,r)=>new n(t,r).compare(new n(e,r))},(t,e,r)=>{const n=r(65);t.exports=(t,e)=>new n(t,e).major},(t,e,r)=>{const n=r(65);t.exports=(t,e)=>new n(t,e).minor},(t,e,r)=>{const n=r(65);t.exports=(t,e)=>new n(t,e).patch},(t,e,r)=>{const n=r(68);t.exports=(t,e)=>{const r=n(t,e);return r&&r.prerelease.length?r.prerelease:null}},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>n(e,t,r)},(t,e,r)=>{const n=r(74);t.exports=(t,e)=>n(t,e,!0)},(t,e,r)=>{const n=r(65);t.exports=(t,e,r)=>{const i=new n(t,r),o=new n(e,r);return i.compare(o)||i.compareBuild(o)}},(t,e,r)=>{const n=r(81);t.exports=(t,e)=>t.sort(((t,r)=>n(t,r,e)))},(t,e,r)=>{const n=r(81);t.exports=(t,e)=>t.sort(((t,r)=>n(r,t,e)))},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>n(t,e,r)>0},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>n(t,e,r)<0},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>0!==n(t,e,r)},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>n(t,e,r)>=0},(t,e,r)=>{const n=r(74);t.exports=(t,e,r)=>n(t,e,r)<=0},(t,e,r)=>{const n=r(73),i=r(86),o=r(84),s=r(87),a=r(85),h=r(88);t.exports=(t,e,r,u)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return n(t,r,u);case"!=":return i(t,r,u);case">":return o(t,r,u);case">=":return s(t,r,u);case"<":return a(t,r,u);case"<=":return h(t,r,u);default:throw new TypeError(`Invalid operator: ${e}`)}}},(t,e,r)=>{const n=r(65),i=r(68),{re:o,t:s}=r(62);t.exports=(t,e)=>{if(t instanceof n)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let r=null;if((e=e||{}).rtl){let e;for(;(e=o[s.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&e.index+e[0].length===r.index+r[0].length||(r=e),o[s.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;o[s.COERCERTL].lastIndex=-1}else r=t.match(o[s.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)}},(t,e,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(t,e){if(e=o(e),t instanceof i){if(t.loose===!!e.loose)return t;t=t.value}u("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(t){const e=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(u("Comparator.test",t,this.options.loose),this.semver===n||t===n)return!0;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return h(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new c(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new c(this.value,e).test(t.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=h(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=h(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||o&&s||a||u}}t.exports=i;const o=r(66),{re:s,t:a}=r(62),h=r(89),u=r(64),l=r(65),c=r(92)},(t,e,r)=>{class n{constructor(t,e){if(e=o(e),t instanceof n)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new n(t.raw,e);if(t instanceof s)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!p(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&m(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,r=i.get(e);if(r)return r;const n=this.options.loose,o=n?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];t=t.replace(o,_(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(u[l.COMPARATORTRIM],c),a("comparator trim",t,u[l.COMPARATORTRIM]),t=(t=(t=t.replace(u[l.TILDETRIM],f)).replace(u[l.CARETTRIM],d)).split(/\s+/).join(" ");const h=n?u[l.COMPARATORLOOSE]:u[l.COMPARATOR],m=t.split(" ").map((t=>y(t,this.options))).join(" ").split(/\s+/).map((t=>F(t,this.options))).filter(this.options.loose?t=>!!t.match(h):()=>!0).map((t=>new s(t,this.options))),g=(m.length,new Map);for(const t of m){if(p(t))return[t];g.set(t.value,t)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return i.set(e,v),v}intersects(t,e){if(!(t instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>g(r,e)&&t.set.some((t=>g(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(S(this.set[e],t,this.options))return!0;return!1}}t.exports=n;const i=new(r(93))({max:1e3}),o=r(66),s=r(91),a=r(64),h=r(65),{re:u,t:l,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=r(62),p=t=>"<0.0.0-0"===t.value,m=t=>""===t.value,g=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every((t=>i.intersects(t,e))),i=n.pop();return r},y=(t,e)=>(a("comp",t,e),t=E(t,e),a("caret",t),t=w(t,e),a("tildes",t),t=C(t,e),a("xrange",t),t=B(t,e),a("stars",t),t),v=t=>!t||"x"===t.toLowerCase()||"*"===t,w=(t,e)=>t.trim().split(/\s+/).map((t=>b(t,e))).join(" "),b=(t,e)=>{const r=e.loose?u[l.TILDELOOSE]:u[l.TILDE];return t.replace(r,((e,r,n,i,o)=>{let s;return a("tilde",t,e,r,n,i,o),v(r)?s="":v(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:v(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},E=(t,e)=>t.trim().split(/\s+/).map((t=>A(t,e))).join(" "),A=(t,e)=>{a("caret",t,e);const r=e.loose?u[l.CARETLOOSE]:u[l.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,i,o,s)=>{let h;return a("caret",t,e,r,i,o,s),v(r)?h="":v(i)?h=`>=${r}.0.0${n} <${+r+1}.0.0-0`:v(o)?h="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),h="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(a("no pr"),h="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",h),h}))},C=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map((t=>M(t,e))).join(" ")),M=(t,e)=>{t=t.trim();const r=e.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return t.replace(r,((r,n,i,o,s,h)=>{a("xRange",t,r,n,i,o,s,h);const u=v(i),l=u||v(o),c=l||v(s),f=c;return"="===n&&f&&(n=""),h=e.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(l&&(o=0),s=0,">"===n?(n=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",l?i=+i+1:o=+o+1),"<"===n&&(h="-0"),r=`${n+i}.${o}.${s}${h}`):l?r=`>=${i}.0.0${h} <${+i+1}.0.0-0`:c&&(r=`>=${i}.${o}.0${h} <${i}.${+o+1}.0-0`),a("xRange return",r),r}))},B=(t,e)=>(a("replaceStars",t,e),t.trim().replace(u[l.STAR],"")),F=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(u[e.includePrerelease?l.GTE0PRE:l.GTE0],"")),_=t=>(e,r,n,i,o,s,a,h,u,l,c,f,d)=>`${r=v(n)?"":v(i)?`>=${n}.0.0${t?"-0":""}`:v(o)?`>=${n}.${i}.0${t?"-0":""}`:s?`>=${r}`:`>=${r}${t?"-0":""}`} ${h=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(c)?`<${u}.${+l+1}.0-0`:f?`<=${u}.${l}.${c}-${f}`:t?`<${u}.${l}.${+c+1}-0`:`<=${h}`}`.trim(),S=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(a(t[r].semver),t[r].semver!==s.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}},(t,e,r)=>{const n=r(94),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),h=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),c=Symbol("lruList"),f=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1,m=(t,e,r)=>{const n=t[f].get(e);if(n){const e=n.value;if(g(t,e)){if(v(t,n),!t[a])return}else r&&(t[d]&&(n.value.now=Date.now()),t[c].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[h])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[h]&&r>t[h]},y=t=>{if(t[o]>t[i])for(let e=t[c].tail;t[o]>t[i]&&null!==e;){const r=e.prev;v(t,e),e=r}},v=(t,e)=>{if(e){const r=e.value;t[u]&&t[u](r.key,r.value),t[o]-=r.length,t[f].delete(r.key),t[c].removeNode(e)}};class w{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const b=(t,e,r,n)=>{let i=r.value;g(t,i)&&(v(t,r),t[a]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||p;if(this[s]="function"!=typeof e?p:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[h]=t.maxAge||0,this[u]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,y(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[h]=t,y(this)}get maxAge(){return this[h]}set lengthCalculator(t){"function"!=typeof t&&(t=p),t!==this[s]&&(this[s]=t,this[o]=0,this[c].forEach((t=>{t.length=this[s](t.value,t.key),this[o]+=t.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let r=this[c].tail;null!==r;){const n=r.prev;b(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[c].head;null!==r;){const n=r.next;b(this,t,r,e),r=n}}keys(){return this[c].toArray().map((t=>t.key))}values(){return this[c].toArray().map((t=>t.value))}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach((t=>this[u](t.key,t.value))),this[f]=new Map,this[c]=new n,this[o]=0}dump(){return this[c].map((t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[c]}set(t,e,r){if((r=r||this[h])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](e,t);if(this[f].has(t)){if(a>this[i])return v(this,this[f].get(t)),!1;const s=this[f].get(t).value;return this[u]&&(this[l]||this[u](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),y(this),!0}const d=new w(t,e,a,n,r);return d.length>this[i]?(this[u]&&this[u](t,e),!1):(this[o]+=d.length,this[c].unshift(d),this[f].set(t,this[c].head),y(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){const t=this[c].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[f].forEach(((t,e)=>m(this,e,!1)))}}},(t,e,r)=>{function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new a(r,null,e,t):new a(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,r,n){if(!(this instanceof a))return new a(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var s=[];for(n=0;o&&n<e;n++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(95)(n)}catch(t){}},t=>{t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},(t,e,r)=>{const n=r(92);t.exports=(t,e,r)=>{try{e=new n(e,r)}catch(t){return!1}return e.test(t)}},(t,e,r)=>{const n=r(92);t.exports=(t,e)=>new n(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},(t,e,r)=>{const n=r(65),i=r(92);t.exports=(t,e,r)=>{let o=null,s=null,a=null;try{a=new i(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(o&&-1!==s.compare(t)||(o=t,s=new n(o,r)))})),o}},(t,e,r)=>{const n=r(65),i=r(92);t.exports=(t,e,r)=>{let o=null,s=null,a=null;try{a=new i(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(o&&1!==s.compare(t)||(o=t,s=new n(o,r)))})),o}},(t,e,r)=>{const n=r(65),i=r(92),o=r(84);t.exports=(t,e)=>{t=new i(t,e);let r=new n("0.0.0");if(t.test(r))return r;if(r=new n("0.0.0-0"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const i=t.set[e];let s=null;i.forEach((t=>{const e=new n(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":s&&!o(e,s)||(s=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!s||r&&!o(r,s)||(r=s)}return r&&t.test(r)?r:null}},(t,e,r)=>{const n=r(92);t.exports=(t,e)=>{try{return new n(t,e).range||"*"}catch(t){return null}}},(t,e,r)=>{const n=r(65),i=r(91),{ANY:o}=i,s=r(92),a=r(96),h=r(84),u=r(85),l=r(88),c=r(87);t.exports=(t,e,r,f)=>{let d,p,m,g,y;switch(t=new n(t,f),e=new s(e,f),r){case">":d=h,p=l,m=u,g=">",y=">=";break;case"<":d=u,p=c,m=h,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,f))return!1;for(let r=0;r<e.set.length;++r){const n=e.set[r];let s=null,a=null;if(n.forEach((t=>{t.semver===o&&(t=new i(">=0.0.0")),s=s||t,a=a||t,d(t.semver,s.semver,f)?s=t:m(t.semver,a.semver,f)&&(a=t)})),s.operator===g||s.operator===y)return!1;if((!a.operator||a.operator===g)&&p(t,a.semver))return!1;if(a.operator===y&&m(t,a.semver))return!1}return!0}},(t,e,r)=>{const n=r(102);t.exports=(t,e,r)=>n(t,e,">",r)},(t,e,r)=>{const n=r(102);t.exports=(t,e,r)=>n(t,e,"<",r)},(t,e,r)=>{const n=r(92);t.exports=(t,e,r)=>(t=new n(t,r),e=new n(e,r),t.intersects(e))},(t,e,r)=>{const n=r(96),i=r(74);t.exports=(t,e,r)=>{const o=[];let s=null,a=null;const h=t.sort(((t,e)=>i(t,e,r)));for(const t of h)n(t,e,r)?(a=t,s||(s=t)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[t,e]of o)t===e?u.push(t):e||t!==h[0]?e?t===h[0]?u.push(`<=${e}`):u.push(`${t} - ${e}`):u.push(`>=${t}`):u.push("*");const l=u.join(" || "),c="string"==typeof e.raw?e.raw:String(e);return l.length<c.length?l:e}},(t,e,r)=>{const n=r(92),i=r(91),{ANY:o}=i,s=r(96),a=r(74),h=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===o){if(1===e.length&&e[0].semver===o)return!0;t=r.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===e.length&&e[0].semver===o){if(r.includePrerelease)return!0;e=[new i(">=0.0.0")]}const n=new Set;let h,c,f,d,p,m,g;for(const e of t)">"===e.operator||">="===e.operator?h=u(h,e,r):"<"===e.operator||"<="===e.operator?c=l(c,e,r):n.add(e.semver);if(n.size>1)return null;if(h&&c){if(f=a(h.semver,c.semver,r),f>0)return null;if(0===f&&(">="!==h.operator||"<="!==c.operator))return null}for(const t of n){if(h&&!s(t,String(h),r))return null;if(c&&!s(t,String(c),r))return null;for(const n of e)if(!s(t,String(n),r))return!1;return!0}let y=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver,v=!(!h||r.includePrerelease||!h.semver.prerelease.length)&&h.semver;y&&1===y.prerelease.length&&"<"===c.operator&&0===y.prerelease[0]&&(y=!1);for(const t of e){if(g=g||">"===t.operator||">="===t.operator,m=m||"<"===t.operator||"<="===t.operator,h)if(v&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch&&(v=!1),">"===t.operator||">="===t.operator){if(d=u(h,t,r),d===t&&d!==h)return!1}else if(">="===h.operator&&!s(h.semver,String(t),r))return!1;if(c)if(y&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===y.major&&t.semver.minor===y.minor&&t.semver.patch===y.patch&&(y=!1),"<"===t.operator||"<="===t.operator){if(p=l(c,t,r),p===t&&p!==c)return!1}else if("<="===c.operator&&!s(c.semver,String(t),r))return!1;if(!t.operator&&(c||h)&&0!==f)return!1}return!(h&&m&&!c&&0!==f||c&&g&&!h&&0!==f||v||y)},u=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n>0?t:n<0||">"===e.operator&&">="===t.operator?e:t},l=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n<0?t:n>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,r={})=>{if(t===e)return!0;t=new n(t,r),e=new n(e,r);let i=!1;t:for(const n of t.set){for(const t of e.set){const e=h(n,t,r);if(i=i||null!==e,e)continue t}if(i)return!1}return!0}},(t,e,r)=>{r.r(e),r.d(e,{listen:()=>s,log:()=>o});let n=0;const i=[],o=(t,e,r)=>{const o={type:t,id:String(++n),date:new Date};e&&(o.message=e),r&&(o.data=r),function(t){for(let e=0;e<i.length;e++)try{i[e](t)}catch(t){console.error(t)}}(o)},s=t=>(i.push(t),()=>{const e=i.indexOf(t);-1!==e&&(i[e]=i[i.length-1],i.pop())});"undefined"!=typeof window&&(window.__ledgerLogsListen=s)},(t,e,r)=>{r.r(e),r.d(e,{getFirstLedgerDevice:()=>a,getLedgerDevices:()=>s,isSupported:()=>h,requestLedgerDevice:()=>o});var n=r(60);const i=[{vendorId:n.ledgerUSBVendorId}];async function o(){return await navigator.usb.requestDevice({filters:i})}async function s(){return(await navigator.usb.getDevices()).filter((t=>t.vendorId===n.ledgerUSBVendorId))}async function a(){const t=await s();return t.length>0?t[0]:o()}const h=()=>Promise.resolve(!!navigator&&!!navigator.usb&&"function"==typeof navigator.usb.getDevices)},(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var n=r(56),i=r(59),o=r(60),s=r(108),a=r(58),h=r(9).Buffer;const u=[{vendorId:o.ledgerUSBVendorId}],l=()=>{const{hid:t}=navigator;if(!t)throw new a.TransportError("navigator.hid is not supported","HIDNotSupported");return t};async function c(){const t=await l().requestDevice({filters:u});return Array.isArray(t)?t:[t]}async function f(){return(await l().getDevices()).filter((t=>t.vendorId===o.ledgerUSBVendorId))}class d extends n.default{constructor(t){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise((t=>{this.inputCallback=t})),this.onInputReport=t=>{const e=h.from(t.data.buffer);this.inputCallback?(this.inputCallback(e),this.inputCallback=null):this.inputs.push(e)},this._disconnectEmitted=!1,this._emitDisconnect=t=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",t))},this.exchange=t=>this.exchangeAtomicImpl((async()=>{const{channel:e,packetSize:r}=this;(0,s.log)("apdu","=> "+t.toString("hex"));const n=(0,i.default)(e,r),o=n.makeBlocks(t);for(let t=0;t<o.length;t++)await this.device.sendReport(0,o[t]);let a,h;for(;!(a=n.getReducedResult(h));){const t=await this.read();h=n.reduceResponse(h,t)}return(0,s.log)("apdu","<= "+a.toString("hex")),a})).catch((t=>{if(t&&t.message&&t.message.includes("write"))throw this._emitDisconnect(t),new a.DisconnectedDeviceDuringOperation(t.message);throw t})),this.device=t,this.deviceModel=(0,o.identifyUSBProductId)(t.productId),t.addEventListener("inputreport",this.onInputReport)}static async request(){const[t]=await c();return d.open(t)}static async openConnected(){const t=await f();return 0===t.length?null:d.open(t[0])}static async open(t){await t.open();const e=new d(t),r=n=>{t===n.device&&(l().removeEventListener("disconnect",r),e._emitDisconnect(new a.DisconnectedDevice))};return l().addEventListener("disconnect",r),e}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}d.isSupported=()=>Promise.resolve(!(!r.g.navigator||!r.g.navigator.hid)),d.list=f,d.listen=t=>{let e=!1;return async function(){const t=await f();return t.length>0?t[0]:(await c())[0]}().then((r=>{if(r){if(!e){const e=(0,o.identifyUSBProductId)(r.productId);t.next({type:"add",descriptor:r,deviceModel:e}),t.complete()}}else t.error(new a.TransportOpenUserCancelled("Access denied to use Ledger device"))}),(e=>{t.error(new a.TransportOpenUserCancelled(e.message))})),{unsubscribe:function(){e=!0}}}},(t,e,r)=>{r.r(e),r.d(e,{default:()=>B});var n=r(56),i=r(58),o=r(60),s=r(112),a=r(216),h=r(108),u=r(114),l=r(204),c=r(196),f=r(188),d=r(218),p=r(219),m=r(221),g=r(171),y=r(225),v=r(217),w=r(9).Buffer;const b=()=>{const{bluetooth:t}=navigator;if(void 0===t)throw new Error("web bluetooth not supported");return t},E=()=>u.Observable.create((t=>{const e=b(),r=e=>{t.next(e.value)};e.addEventListener("availabilitychanged",r);let n=!1;return e.getAvailability().then((e=>{n||t.next(e)})),()=>{n=!0,e.removeEventListener("availabilitychanged",r)}})),A={},C=()=>({filters:(0,o.getBluetoothServiceUuids)().map((t=>({services:[t]})))});async function M(t,e){let r;if("string"==typeof t){if(A[t])return(0,h.log)("ble-verbose","Transport in cache, using that."),A[t];const e=b();r=await e.requestDevice(C())}else r=t;r.gatt.connected||((0,h.log)("ble-verbose","not connected. connecting..."),await r.gatt.connect());const[n,s]=await(async t=>{if(!t.gatt)throw new Error("bluetooth gatt not found");const[e]=await t.gatt.getPrimaryServices();if(!e)throw new Error("bluetooth service not found");const r=(0,o.getInfosForServiceUuid)(e.uuid);if(!r)throw new Error("bluetooth service infos not found");return[e,r]})(r),{deviceModel:a,writeUuid:u,notifyUuid:l}=s,[c,f]=await Promise.all([n.getCharacteristic(u),n.getCharacteristic(l)]),m=(0,v.monitorCharacteristic)(f).pipe((0,d.tap)((t=>{(0,h.log)("ble-frame","<= "+t.toString("hex"))})),(0,p.share)()),g=m.subscribe(),y=new B(r,c,m,a);if(!r.gatt.connected)throw new i.DisconnectedDevice;A[y.id]=y;const w=t=>{console.log("onDisconnect!",t),delete A[y.id],y.notYetDisconnected=!1,g.unsubscribe(),r.removeEventListener("gattserverdisconnected",w),(0,h.log)("ble-verbose",`BleTransport(${y.id}) disconnected`),y.emit("disconnect",t)};r.addEventListener("gattserverdisconnected",w);let E=Date.now();try{await y.inferMTU()}finally{Date.now()-E<1e3&&(e=!1),e&&(await r.gatt.disconnect(),await new Promise((t=>setTimeout(t,4e3))))}return e?M(r,!1):y}class B extends n.default{static listen(t){let e;return(0,h.log)("ble-verbose","listen..."),b().requestDevice(C()).then((async r=>{e||(t.next({type:"add",descriptor:r}),t.complete())}),(e=>{t.error(new i.TransportOpenUserCancelled(e.message))})),{unsubscribe:function(){e=!0}}}static async open(t){return M(t,!0)}constructor(t,e,r,n){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=t=>this.exchangeAtomicImpl((async()=>{try{const e=t.toString("hex");(0,h.log)("apdu",`=> ${e}`);const r=await(0,l.merge)(this.notifyObservable.pipe(a.receiveAPDU),(0,s.sendAPDU)(this.write,t,this.mtuSize)).toPromise(),n=r.toString("hex");return(0,h.log)("apdu",`<= ${n}`),r}catch(t){throw(0,h.log)("ble-error","exchange got "+String(t)),this.notYetDisconnected&&this.device.gatt.disconnect(),t}})),this.write=async t=>{(0,h.log)("ble-frame","=> "+t.toString("hex")),await this.writeCharacteristic.writeValue(t)},this.id=t.id,this.device=t,this.writeCharacteristic=e,this.notifyObservable=r,this.deviceModel=n,(0,h.log)("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let t=23;if(await this.exchangeAtomicImpl((async()=>{try{t=await(0,l.merge)(this.notifyObservable.pipe((0,m.first)((t=>8===t.readUInt8(0))),(0,g.map)((t=>t.readUInt8(5)))),(0,c.defer)((()=>(0,f.from)(this.write(w.from([8,0,0,0,0]))))).pipe((0,y.ignoreElements)())).toPromise()+3}catch(t){throw(0,h.log)("ble-error","inferMTU got "+String(t)),this.device.gatt.disconnect(),t}})),t>23){const e=t-3;(0,h.log)("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(e)}`),this.mtuSize=e}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}}B.isSupported=()=>Promise.resolve().then(b).then((()=>!0),(()=>!1)),B.observeAvailability=t=>E.subscribe(t),B.list=()=>Promise.resolve([]),B.disconnect=async t=>{(0,h.log)("ble-verbose",`user disconnect(${t})`);const e=A[t];e&&e.device.gatt.disconnect()}},(t,e,r)=>{var n=r(9).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.sendAPDU=void 0;var i=r(113),o=r(108);e.sendAPDU=(t,e,r)=>{const s=function(t,e){const r=[];for(let n=0,i=e(0);n<t.length;n+=i,i=e(n))r.push(t.slice(n,n+i));return r}(e,(t=>r-(0===t?5:3))).map(((t,r)=>{const i=n.alloc(0===r?5:3);return i.writeUInt8(5,0),i.writeUInt16BE(r,1),0===r&&i.writeUInt16BE(e.length,3),n.concat([i,t])}));return i.Observable.create((e=>{let r=!1;return async function(){for(const e of s){if(r)return;await t(e)}}().then((()=>{r=!0,e.complete()}),(t=>{r=!0,(0,o.log)("ble-error","sendAPDU failure "+String(t)),e.error(t)})),()=>{r||((0,o.log)("ble-verbose","sendAPDU interruption"),r=!0)}}))}},(t,e,r)=>{r.r(e),r.d(e,{ArgumentOutOfRangeError:()=>M.ArgumentOutOfRangeError,AsyncSubject:()=>l.AsyncSubject,BehaviorSubject:()=>h.BehaviorSubject,ConnectableObservable:()=>i.ConnectableObservable,EMPTY:()=>R.EMPTY,EmptyError:()=>B.EmptyError,GroupedObservable:()=>o.GroupedObservable,NEVER:()=>K.NEVER,Notification:()=>w.Notification,NotificationKind:()=>w.NotificationKind,ObjectUnsubscribedError:()=>F.ObjectUnsubscribedError,Observable:()=>n.Observable,ReplaySubject:()=>u.ReplaySubject,Scheduler:()=>g.Scheduler,Subject:()=>a.Subject,Subscriber:()=>v.Subscriber,Subscription:()=>y.Subscription,TimeoutError:()=>S.TimeoutError,UnsubscriptionError:()=>_.UnsubscriptionError,VirtualAction:()=>m.VirtualAction,VirtualTimeScheduler:()=>m.VirtualTimeScheduler,animationFrame:()=>p.animationFrame,animationFrameScheduler:()=>p.animationFrameScheduler,asap:()=>c.asap,asapScheduler:()=>c.asapScheduler,async:()=>f.async,asyncScheduler:()=>f.asyncScheduler,bindCallback:()=>D.bindCallback,bindNodeCallback:()=>x.bindNodeCallback,combineLatest:()=>I.combineLatest,concat:()=>T.concat,config:()=>et.config,defer:()=>U.defer,empty:()=>R.empty,forkJoin:()=>N.forkJoin,from:()=>k.from,fromEvent:()=>O.fromEvent,fromEventPattern:()=>P.fromEventPattern,generate:()=>L.generate,identity:()=>A.identity,iif:()=>j.iif,interval:()=>$.interval,isObservable:()=>C.isObservable,merge:()=>q.merge,never:()=>K.never,noop:()=>E.noop,observable:()=>s.observable,of:()=>H.of,onErrorResumeNext:()=>z.onErrorResumeNext,pairs:()=>G.pairs,partition:()=>V.partition,pipe:()=>b.pipe,queue:()=>d.queue,queueScheduler:()=>d.queueScheduler,race:()=>Y.race,range:()=>W.range,scheduled:()=>tt.scheduled,throwError:()=>Z.throwError,timer:()=>X.timer,using:()=>Q.using,zip:()=>J.zip});var n=r(114),i=r(131),o=r(136),s=r(128),a=r(133),h=r(137),u=r(138),l=r(155),c=r(156),f=r(160),d=r(148),p=r(161),m=r(164),g=r(151),y=r(122),v=r(116),w=r(140),b=r(129),E=r(165),A=r(130),C=r(166),M=r(167),B=r(168),F=r(134),_=r(124),S=r(169),D=r(170),x=r(172),I=r(173),T=r(184),U=r(196),R=r(147),N=r(197),k=r(188),O=r(198),P=r(199),L=r(200),j=r(201),$=r(202),q=r(204),K=r(205),H=r(141),z=r(206),G=r(207),V=r(208),Y=r(211),W=r(212),Z=r(146),X=r(213),Q=r(214),J=r(215),tt=r(189),et=r(119)},(t,e,r)=>{r.r(e),r.d(e,{Observable:()=>h});var n=r(127),i=r(115),o=r(128),s=r(129),a=r(119),h=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=(0,i.toSubscriber)(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(0,n.canReportError)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=u(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0,s.pipeFromArray)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},(t,e,r)=>{r.r(e),r.d(e,{toSubscriber:()=>s});var n=r(116),i=r(121),o=r(118);function s(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(o.empty)}},(t,e,r)=>{r.r(e),r.d(e,{SafeSubscriber:()=>c,Subscriber:()=>l});var n=r(117),i=r(123),o=r(118),s=r(122),a=r(121),h=r(119),u=r(120),l=function(t){function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!r){s.destination=o.empty;break}if("object"==typeof r){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new c(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new c(s,r,n,i)}return s}return n.__extends(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.Subscription),c=function(t){function e(e,r,n,s){var a,h=t.call(this)||this;h._parentSubscriber=e;var u=h;return(0,i.isFunction)(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==o.empty&&(u=Object.create(r),(0,i.isFunction)(u.unsubscribe)&&h.add(u.unsubscribe.bind(u)),u.unsubscribe=h.unsubscribe.bind(h))),h._context=u,h._next=a,h._error=n,h._complete=s,h}return n.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=h.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.hostReportError)(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;(0,u.hostReportError)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};h.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),h.config.useDeprecatedSynchronousErrorHandling)throw t;(0,u.hostReportError)(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!h.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return h.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):((0,u.hostReportError)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},(t,e,r)=>{r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>b,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>B,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>c,__importDefault:()=>C,__importStar:()=>A,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>h,__read:()=>p,__rest:()=>s,__spread:()=>m,__spreadArrays:()=>g,__values:()=>d});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function h(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))}function c(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof y?Promise.resolve(r.value.v).then(h,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:y(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function M(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function B(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},(t,e,r)=>{r.r(e),r.d(e,{empty:()=>o});var n=r(119),i=r(120),o={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;(0,i.hostReportError)(t)},complete:function(){}}},(t,e,r)=>{r.r(e),r.d(e,{config:()=>i});var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},(t,e,r)=>{function n(t){setTimeout((function(){throw t}),0)}r.r(e),r.d(e,{hostReportError:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{$$rxSubscriber:()=>i,rxSubscriber:()=>n});var n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),i=n},(t,e,r)=>{r.r(e),r.d(e,{Subscription:()=>a});var n=r(125),i=r(126),o=r(123),s=r(124),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,c=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var f=0;f<a.length;++f)a[f].remove(this);if((0,o.isFunction)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(t){e=t instanceof s.UnsubscriptionError?h(t.errors):[t]}}if((0,n.isArray)(c)){f=-1;for(var d=c.length;++f<d;){var p=c[f];if((0,i.isObject)(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof s.UnsubscriptionError?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}},(t,e,r)=>{function n(t){return"function"==typeof t}r.r(e),r.d(e,{isFunction:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{UnsubscriptionError:()=>n});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},(t,e,r)=>{r.r(e),r.d(e,{isArray:()=>n});var n=Array.isArray||function(t){return t&&"number"==typeof t.length}},(t,e,r)=>{function n(t){return null!==t&&"object"==typeof t}r.r(e),r.d(e,{isObject:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{canReportError:()=>i});var n=r(116);function i(t){for(;t;){var e=t,r=e.closed,i=e.destination,o=e.isStopped;if(r||o)return!1;t=i&&i instanceof n.Subscriber?i:null}return!0}},(t,e,r)=>{r.r(e),r.d(e,{observable:()=>n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},(t,e,r)=>{r.r(e),r.d(e,{pipe:()=>i,pipeFromArray:()=>o});var n=r(130);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},(t,e,r)=>{function n(t){return t}r.r(e),r.d(e,{identity:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{ConnectableObservable:()=>u,connectableObservableDescriptor:()=>l});var n=r(117),i=r(133),o=r(114),s=r(116),a=r(122),h=r(132),u=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)),t},e.prototype.refCount=function(){return(0,h.refCount)()(this)},e}(o.Observable),l=function(){var t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),c=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber);s.Subscriber},(t,e,r)=>{r.r(e),r.d(e,{refCount:()=>o});var n=r(117),i=r(116);function o(){return function(t){return t.lift(new s(t))}}var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new a(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{AnonymousSubject:()=>f,Subject:()=>c,SubjectSubscriber:()=>l});var n=r(117),i=r(114),o=r(116),s=r(122),a=r(134),h=r(135),u=r(121),l=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n.__extends(e,t),e}(o.Subscriber),c=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.__extends(e,t),e.prototype[u.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new h.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.Observable),f=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(c)},(t,e,r)=>{r.r(e),r.d(e,{ObjectUnsubscribedError:()=>n});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},(t,e,r)=>{r.r(e),r.d(e,{SubjectSubscription:()=>i});var n=r(117),i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(122).Subscription)},(t,e,r)=>{r.r(e),r.d(e,{GroupedObservable:()=>f,groupBy:()=>h});var n=r(117),i=r(116),o=r(122),s=r(114),a=r(133);function h(t,e,r,n){return function(i){return i.lift(new u(t,e,r,n))}}var u=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return n.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,r.set(e,i);var o=new f(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new c(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,r){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),c=function(t){function e(e,r,n){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=n,i}return n.__extends(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),f=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=n,i}return n.__extends(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new d(r)),e.add(n.subscribe(t)),e},e}(s.Observable),d=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return n.__extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},(t,e,r)=>{r.r(e),r.d(e,{BehaviorSubject:()=>s});var n=r(117),i=r(133),o=r(134),s=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return n.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject)},(t,e,r)=>{r.r(e),r.d(e,{ReplaySubject:()=>l});var n=r(117),i=r(133),o=r(148),s=r(122),a=r(139),h=r(134),u=r(135),l=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new c(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new h.ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=s.Subscription.EMPTY:(this.observers.push(t),e=new u.SubjectSubscription(this,t)),i&&t.add(t=new a.ObserveOnSubscriber(t,i)),r)for(var l=0;l<o&&!t.closed;l++)t.next(n[l]);else for(l=0;l<o&&!t.closed;l++)t.next(n[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject),c=function(t,e){this.time=t,this.value=e}},(t,e,r)=>{r.r(e),r.d(e,{ObserveOnMessage:()=>u,ObserveOnOperator:()=>a,ObserveOnSubscriber:()=>h,observeOn:()=>s});var n=r(117),i=r(116),o=r(140);function s(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))},t}(),h=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return n.__extends(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete()),this.unsubscribe()},e}(i.Subscriber),u=function(t,e){this.notification=t,this.destination=e}},(t,e,r)=>{r.r(e),r.d(e,{Notification:()=>a,NotificationKind:()=>n});var n,i=r(147),o=r(141),s=r(146);n||(n={});var a=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s.throwError)(this.error);case"C":return(0,i.empty)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},(t,e,r)=>{r.r(e),r.d(e,{of:()=>s});var n=r(142),i=r(144),o=r(143);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return(0,n.isScheduler)(r)?(t.pop(),(0,o.scheduleArray)(t,r)):(0,i.fromArray)(t)}},(t,e,r)=>{function n(t){return t&&"function"==typeof t.schedule}r.r(e),r.d(e,{isScheduler:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{scheduleArray:()=>o});var n=r(114),i=r(122);function o(t,e){return new n.Observable((function(r){var n=new i.Subscription,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},(t,e,r)=>{r.r(e),r.d(e,{fromArray:()=>s});var n=r(114),i=r(145),o=r(143);function s(t,e){return e?(0,o.scheduleArray)(t,e):new n.Observable((0,i.subscribeToArray)(t))}},(t,e,r)=>{r.r(e),r.d(e,{subscribeToArray:()=>n});var n=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}},(t,e,r)=>{r.r(e),r.d(e,{throwError:()=>i});var n=r(114);function i(t,e){return e?new n.Observable((function(r){return e.schedule(o,0,{error:t,subscriber:r})})):new n.Observable((function(e){return e.error(t)}))}function o(t){var e=t.error;t.subscriber.error(e)}},(t,e,r)=>{r.r(e),r.d(e,{EMPTY:()=>i,empty:()=>o});var n=r(114),i=new n.Observable((function(t){return t.complete()}));function o(t){return t?function(t){return new n.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},(t,e,r)=>{r.r(e),r.d(e,{queue:()=>o,queueScheduler:()=>i});var n=r(152),i=new(r(149).QueueScheduler)(n.QueueAction),o=i},(t,e,r)=>{r.r(e),r.d(e,{QueueScheduler:()=>i});var n=r(117),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(r(150).AsyncScheduler)},(t,e,r)=>{r.r(e),r.d(e,{AsyncScheduler:()=>o});var n=r(117),i=r(151),o=function(t){function e(r,n){void 0===n&&(n=i.Scheduler.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return n.__extends(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(i.Scheduler)},(t,e,r)=>{r.r(e),r.d(e,{Scheduler:()=>n});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}()},(t,e,r)=>{r.r(e),r.d(e,{QueueAction:()=>i});var n=r(117),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.__extends(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(153).AsyncAction)},(t,e,r)=>{r.r(e),r.d(e,{AsyncAction:()=>i});var n=r(117),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return n.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r(154).Action)},(t,e,r)=>{r.r(e),r.d(e,{Action:()=>i});var n=r(117),i=function(t){function e(e,r){return t.call(this)||this}return n.__extends(e,t),e.prototype.schedule=function(t,e){return this},e}(r(122).Subscription)},(t,e,r)=>{r.r(e),r.d(e,{AsyncSubject:()=>s});var n=r(117),i=r(133),o=r(122),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return n.__extends(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject)},(t,e,r)=>{r.r(e),r.d(e,{asap:()=>o,asapScheduler:()=>i});var n=r(158),i=new(r(157).AsapScheduler)(n.AsapAction),o=i},(t,e,r)=>{r.r(e),r.d(e,{AsapScheduler:()=>i});var n=r(117),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(150).AsyncScheduler)},(t,e,r)=>{r.r(e),r.d(e,{AsapAction:()=>o});var n=r(117),i=r(159),o=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.__extends(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(i.Immediate.clearImmediate(r),e.scheduled=void 0)},e}(r(153).AsyncAction)},(t,e,r)=>{r.r(e),r.d(e,{Immediate:()=>a,TestTools:()=>h});var n=1,i=Promise.resolve(),o={};function s(t){return t in o&&(delete o[t],!0)}var a={setImmediate:function(t){var e=n++;return o[e]=!0,i.then((function(){return s(e)&&t()})),e},clearImmediate:function(t){s(t)}},h={pending:function(){return Object.keys(o).length}}},(t,e,r)=>{r.r(e),r.d(e,{async:()=>o,asyncScheduler:()=>i});var n=r(153),i=new(r(150).AsyncScheduler)(n.AsyncAction),o=i},(t,e,r)=>{r.r(e),r.d(e,{animationFrame:()=>o,animationFrameScheduler:()=>i});var n=r(163),i=new(r(162).AnimationFrameScheduler)(n.AnimationFrameAction),o=i},(t,e,r)=>{r.r(e),r.d(e,{AnimationFrameScheduler:()=>i});var n=r(117),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(150).AsyncScheduler)},(t,e,r)=>{r.r(e),r.d(e,{AnimationFrameAction:()=>i});var n=r(117),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.__extends(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(r(153).AsyncAction)},(t,e,r)=>{r.r(e),r.d(e,{VirtualAction:()=>s,VirtualTimeScheduler:()=>o});var n=r(117),i=r(153),o=function(t){function e(e,r){void 0===e&&(e=s),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return n.__extends(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(r(150).AsyncScheduler),s=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return n.__extends(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction)},(t,e,r)=>{function n(){}r.r(e),r.d(e,{noop:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{isObservable:()=>i});var n=r(114);function i(t){return!!t&&(t instanceof n.Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},(t,e,r)=>{r.r(e),r.d(e,{ArgumentOutOfRangeError:()=>n});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},(t,e,r)=>{r.r(e),r.d(e,{EmptyError:()=>n});var n=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},(t,e,r)=>{r.r(e),r.d(e,{TimeoutError:()=>n});var n=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},(t,e,r)=>{r.r(e),r.d(e,{bindCallback:()=>u});var n=r(114),i=r(155),o=r(171),s=r(127),a=r(125),h=r(142);function u(t,e,r){if(e){if(!(0,h.isScheduler)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return u(t,r).apply(void 0,n).pipe((0,o.map)((function(t){return(0,a.isArray)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a,h=this,u={context:h,subject:a,callbackFunc:t,scheduler:r};return new n.Observable((function(n){if(r){var o={args:e,subscriber:n,params:u};return r.schedule(l,0,o)}if(!a){a=new i.AsyncSubject;try{t.apply(h,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.next(t.length<=1?t[0]:t),a.complete()}]))}catch(t){(0,s.canReportError)(a)?a.error(t):console.warn(t)}}return a.subscribe(n)}))}}function l(t){var e=this,r=t.args,n=t.subscriber,o=t.params,s=o.callbackFunc,a=o.context,h=o.scheduler,u=o.subject;if(!u){u=o.subject=new i.AsyncSubject;try{s.apply(a,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(h.schedule(c,0,{value:n,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(n))}function c(t){var e=t.value,r=t.subject;r.next(e),r.complete()}},(t,e,r)=>{r.r(e),r.d(e,{MapOperator:()=>s,map:()=>o});var n=r(117),i=r(116);function o(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{bindNodeCallback:()=>u});var n=r(114),i=r(155),o=r(171),s=r(127),a=r(142),h=r(125);function u(t,e,r){if(e){if(!(0,a.isScheduler)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return u(t,r).apply(void 0,n).pipe((0,o.map)((function(t){return(0,h.isArray)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new n.Observable((function(n){var o=a.context,h=a.subject;if(r)return r.schedule(l,0,{params:a,subscriber:n,context:o});if(!h){h=a.subject=new i.AsyncSubject;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?h.error(r):(h.next(t.length<=1?t[0]:t),h.complete())}]))}catch(t){(0,s.canReportError)(h)?h.error(t):console.warn(t)}}return h.subscribe(n)}))}}function l(t){var e=this,r=t.params,n=t.subscriber,o=t.context,s=r.callbackFunc,a=r.args,h=r.scheduler,u=r.subject;if(!u){u=r.subject=new i.AsyncSubject;try{s.apply(o,a.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(h.schedule(f,0,{err:n,subject:u}));else{var i=t.length<=1?t[0]:t;e.add(h.schedule(c,0,{value:i,subject:u}))}}]))}catch(t){this.add(h.schedule(f,0,{err:t,subject:u}))}}this.add(u.subscribe(n))}function c(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function f(t){var e=t.err;t.subject.error(e)}},(t,e,r)=>{r.r(e),r.d(e,{CombineLatestOperator:()=>c,CombineLatestSubscriber:()=>f,combineLatest:()=>l});var n=r(117),i=r(142),o=r(125),s=r(183),a=r(174),h=r(144),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return(0,i.isScheduler)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,o.isArray)(t[0])&&(t=t[0]),(0,h.fromArray)(t,n).lift(new c(r))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.__extends(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add((0,a.subscribeToResult)(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,i=n[r],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;n[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber)},(t,e,r)=>{r.r(e),r.d(e,{subscribeToResult:()=>s});var n=r(175),i=r(176),o=r(114);function s(t,e,r,s,a){if(void 0===a&&(a=new n.InnerSubscriber(t,r,s)),!a.closed)return e instanceof o.Observable?e.subscribe(a):(0,i.subscribeTo)(e)(a)}},(t,e,r)=>{r.r(e),r.d(e,{InnerSubscriber:()=>i});var n=r(117),i=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(116).Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{subscribeTo:()=>f});var n=r(145),i=r(180),o=r(182),s=r(177),a=r(178),h=r(179),u=r(126),l=r(181),c=r(128),f=function(t){if(t&&"function"==typeof t[c.observable])return(0,s.subscribeToObservable)(t);if((0,a.isArrayLike)(t))return(0,n.subscribeToArray)(t);if((0,h.isPromise)(t))return(0,i.subscribeToPromise)(t);if(t&&"function"==typeof t[l.iterator])return(0,o.subscribeToIterable)(t);var e=(0,u.isObject)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},(t,e,r)=>{r.r(e),r.d(e,{subscribeToObservable:()=>i});var n=r(128),i=function(t){return function(e){var r=t[n.observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}}},(t,e,r)=>{r.r(e),r.d(e,{isArrayLike:()=>n});var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},(t,e,r)=>{function n(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}r.r(e),r.d(e,{isPromise:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{subscribeToPromise:()=>i});var n=r(120),i=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,n.hostReportError),e}}},(t,e,r)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.r(e),r.d(e,{$$iterator:()=>o,getSymbolIterator:()=>n,iterator:()=>i});var i=n(),o=i},(t,e,r)=>{r.r(e),r.d(e,{subscribeToIterable:()=>i});var n=r(181),i=function(t){return function(e){for(var r=t[n.iterator]();;){var i=void 0;try{i=r.next()}catch(t){return e.error(t),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e}}},(t,e,r)=>{r.r(e),r.d(e,{OuterSubscriber:()=>i});var n=r(117),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(116).Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{concat:()=>o});var n=r(141),i=r(185);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,i.concatAll)()(n.of.apply(void 0,t))}},(t,e,r)=>{r.r(e),r.d(e,{concatAll:()=>i});var n=r(186);function i(){return(0,n.mergeAll)(1)}},(t,e,r)=>{r.r(e),r.d(e,{mergeAll:()=>o});var n=r(187),i=r(130);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,n.mergeMap)(i.identity,t)}},(t,e,r)=>{r.r(e),r.d(e,{MergeMapOperator:()=>h,MergeMapSubscriber:()=>u,flatMap:()=>l,mergeMap:()=>a});var n=r(117),i=r(171),o=r(188),s=r(195);function a(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(a((function(r,n){return(0,o.from)(t(r,n)).pipe((0,i.map)((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new h(t,r))})}var h=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))},t}(),u=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new s.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var n=(0,s.innerSubscribe)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.SimpleOuterSubscriber),l=a},(t,e,r)=>{r.r(e),r.d(e,{from:()=>s});var n=r(114),i=r(176),o=r(189);function s(t,e){return e?(0,o.scheduled)(t,e):t instanceof n.Observable?t:new n.Observable((0,i.subscribeTo)(t))}},(t,e,r)=>{r.r(e),r.d(e,{scheduled:()=>c});var n=r(191),i=r(192),o=r(143),s=r(194),a=r(190),h=r(179),u=r(178),l=r(193);function c(t,e){if(null!=t){if((0,a.isInteropObservable)(t))return(0,n.scheduleObservable)(t,e);if((0,h.isPromise)(t))return(0,i.schedulePromise)(t,e);if((0,u.isArrayLike)(t))return(0,o.scheduleArray)(t,e);if((0,l.isIterable)(t)||"string"==typeof t)return(0,s.scheduleIterable)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},(t,e,r)=>{r.r(e),r.d(e,{isInteropObservable:()=>i});var n=r(128);function i(t){return t&&"function"==typeof t[n.observable]}},(t,e,r)=>{r.r(e),r.d(e,{scheduleObservable:()=>s});var n=r(114),i=r(122),o=r(128);function s(t,e){return new n.Observable((function(r){var n=new i.Subscription;return n.add(e.schedule((function(){var i=t[o.observable]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}},(t,e,r)=>{r.r(e),r.d(e,{schedulePromise:()=>o});var n=r(114),i=r(122);function o(t,e){return new n.Observable((function(r){var n=new i.Subscription;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}},(t,e,r)=>{r.r(e),r.d(e,{isIterable:()=>i});var n=r(181);function i(t){return t&&"function"==typeof t[n.iterator]}},(t,e,r)=>{r.r(e),r.d(e,{scheduleIterable:()=>s});var n=r(114),i=r(122),o=r(181);function s(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.Observable((function(r){var n,s=new i.Subscription;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(e.schedule((function(){n=t[o.iterator](),s.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),s}))}},(t,e,r)=>{r.r(e),r.d(e,{ComplexInnerSubscriber:()=>h,ComplexOuterSubscriber:()=>l,SimpleInnerSubscriber:()=>a,SimpleOuterSubscriber:()=>u,innerSubscribe:()=>c});var n=r(117),i=r(116),o=r(114),s=r(176),a=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return n.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(i.Subscriber),h=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i}return n.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(i.Subscriber),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.notifyNext=function(t,e,r,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);function c(t,e){if(!e.closed){if(t instanceof o.Observable)return t.subscribe(e);var r;try{r=(0,s.subscribeTo)(t)(e)}catch(t){e.error(t)}return r}}},(t,e,r)=>{r.r(e),r.d(e,{defer:()=>s});var n=r(114),i=r(188),o=r(147);function s(t){return new n.Observable((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?(0,i.from)(r):(0,o.empty)()).subscribe(e)}))}},(t,e,r)=>{r.r(e),r.d(e,{forkJoin:()=>h});var n=r(114),i=r(125),o=r(171),s=r(126),a=r(188);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if((0,i.isArray)(r))return u(r,null);if((0,s.isObject)(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return u(n.map((function(t){return r[t]})),n)}}if("function"==typeof t[t.length-1]){var a=t.pop();return u(t=1===t.length&&(0,i.isArray)(t[0])?t[0]:t,null).pipe((0,o.map)((function(t){return a.apply(void 0,t)})))}return u(t,null)}function u(t,e){return new n.Observable((function(r){var n=t.length;if(0!==n)for(var i=new Array(n),o=0,s=0,h=function(h){var u=(0,a.from)(t[h]),l=!1;r.add(u.subscribe({next:function(t){l||(l=!0,s++),i[h]=t},error:function(t){return r.error(t)},complete:function(){++o!==n&&l||(s===n&&r.next(e?e.reduce((function(t,e,r){return t[e]=i[r],t}),{}):i),r.complete())}}))},u=0;u<n;u++)h(u);else r.complete()}))}},(t,e,r)=>{r.r(e),r.d(e,{fromEvent:()=>a});var n=r(114),i=r(125),o=r(123),s=r(171);function a(t,e,r,u){return(0,o.isFunction)(r)&&(u=r,r=void 0),u?a(t,e,r).pipe((0,s.map)((function(t){return(0,i.isArray)(t)?u.apply(void 0,t):u(t)}))):new n.Observable((function(n){h(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function h(t,e,r,n,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,r),o=function(){return u.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)h(t[l],e,r,n,i)}n.add(o)}},(t,e,r)=>{r.r(e),r.d(e,{fromEventPattern:()=>a});var n=r(114),i=r(125),o=r(123),s=r(171);function a(t,e,r){return r?a(t,e).pipe((0,s.map)((function(t){return(0,i.isArray)(t)?r.apply(void 0,t):r(t)}))):new n.Observable((function(r){var n,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(i)}catch(t){return void r.error(t)}if((0,o.isFunction)(e))return function(){return e(i,n)}}))}},(t,e,r)=>{r.r(e),r.d(e,{generate:()=>s});var n=r(114),i=r(130),o=r(142);function s(t,e,r,s,h){var u,l;if(1==arguments.length){var c=t;l=c.initialState,e=c.condition,r=c.iterate,u=c.resultSelector||i.identity,h=c.scheduler}else void 0===s||(0,o.isScheduler)(s)?(l=t,u=i.identity,h=s):(l=t,u=s);return new n.Observable((function(t){var n=l;if(h)return h.schedule(a,0,{subscriber:t,iterate:r,condition:e,resultSelector:u,state:n});for(;;){if(e){var i=void 0;try{i=e(n)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var o=void 0;try{o=u(n)}catch(e){return void t.error(e)}if(t.next(o),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}}))}function a(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}},(t,e,r)=>{r.r(e),r.d(e,{iif:()=>o});var n=r(196),i=r(147);function o(t,e,r){return void 0===e&&(e=i.EMPTY),void 0===r&&(r=i.EMPTY),(0,n.defer)((function(){return t()?e:r}))}},(t,e,r)=>{r.r(e),r.d(e,{interval:()=>s});var n=r(114),i=r(160),o=r(203);function s(t,e){return void 0===t&&(t=0),void 0===e&&(e=i.async),(!(0,o.isNumeric)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=i.async),new n.Observable((function(r){return r.add(e.schedule(a,t,{subscriber:r,counter:0,period:t})),r}))}function a(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}},(t,e,r)=>{r.r(e),r.d(e,{isNumeric:()=>i});var n=r(125);function i(t){return!(0,n.isArray)(t)&&t-parseFloat(t)+1>=0}},(t,e,r)=>{r.r(e),r.d(e,{merge:()=>a});var n=r(114),i=r(142),o=r(186),s=r(144);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,h=t[t.length-1];return(0,i.isScheduler)(h)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof h&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.Observable?t[0]:(0,o.mergeAll)(r)((0,s.fromArray)(t,a))}},(t,e,r)=>{r.r(e),r.d(e,{NEVER:()=>o,never:()=>s});var n=r(114),i=r(165),o=new n.Observable(i.noop);function s(){return o}},(t,e,r)=>{r.r(e),r.d(e,{onErrorResumeNext:()=>a});var n=r(114),i=r(188),o=r(125),s=r(147);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return s.EMPTY;var r=t[0],h=t.slice(1);return 1===t.length&&(0,o.isArray)(r)?a.apply(void 0,r):new n.Observable((function(t){var e=function(){return t.add(a.apply(void 0,h).subscribe(t))};return(0,i.from)(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}},(t,e,r)=>{r.r(e),r.d(e,{dispatch:()=>s,pairs:()=>o});var n=r(114),i=r(122);function o(t,e){return e?new n.Observable((function(r){var n=Object.keys(t),o=new i.Subscription;return o.add(e.schedule(s,0,{keys:n,index:0,subscriber:r,subscription:o,obj:t})),o})):new n.Observable((function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var i=r[n];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))}function s(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}},(t,e,r)=>{r.r(e),r.d(e,{partition:()=>a});var n=r(210),i=r(176),o=r(209),s=r(114);function a(t,e,r){return[(0,o.filter)(e,r)(new s.Observable((0,i.subscribeTo)(t))),(0,o.filter)((0,n.not)(e,r))(new s.Observable((0,i.subscribeTo)(t)))]}},(t,e,r)=>{r.r(e),r.d(e,{filter:()=>o});var n=r(117),i=r(116);function o(t,e){return function(r){return r.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},(t,e,r)=>{function n(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}r.r(e),r.d(e,{not:()=>n})},(t,e,r)=>{r.r(e),r.d(e,{RaceOperator:()=>u,RaceSubscriber:()=>l,race:()=>h});var n=r(117),i=r(125),o=r(144),s=r(183),a=r(174);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!(0,i.isArray)(t[0]))return t[0];t=t[0]}return(0,o.fromArray)(t,void 0).lift(new u)}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n.__extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=(0,a.subscribeToResult)(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber)},(t,e,r)=>{r.r(e),r.d(e,{dispatch:()=>o,range:()=>i});var n=r(114);function i(t,e,r){return void 0===t&&(t=0),new n.Observable((function(n){void 0===e&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(o,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}}))}function o(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}},(t,e,r)=>{r.r(e),r.d(e,{timer:()=>a});var n=r(114),i=r(160),o=r(203),s=r(142);function a(t,e,r){void 0===t&&(t=0);var a=-1;return(0,o.isNumeric)(e)?a=Number(e)<1?1:Number(e):(0,s.isScheduler)(e)&&(r=e),(0,s.isScheduler)(r)||(r=i.async),new n.Observable((function(e){var n=(0,o.isNumeric)(t)?t:+t-r.now();return r.schedule(h,n,{index:0,period:a,subscriber:e})}))}function h(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}},(t,e,r)=>{r.r(e),r.d(e,{using:()=>s});var n=r(114),i=r(188),o=r(147);function s(t,e){return new n.Observable((function(r){var n,s;try{n=t()}catch(t){return void r.error(t)}try{s=e(n)}catch(t){return void r.error(t)}var a=(s?(0,i.from)(s):o.EMPTY).subscribe(r);return function(){a.unsubscribe(),n&&n.unsubscribe()}}))}},(t,e,r)=>{r.r(e),r.d(e,{ZipOperator:()=>l,ZipSubscriber:()=>c,zip:()=>u});var n=r(117),i=r(144),o=r(125),s=r(116),a=r(181),h=r(195);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),(0,i.fromArray)(t,void 0).lift(new l(r))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.resultSelector))},t}(),c=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return n.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;(0,o.isArray)(t)?e.push(new d(t)):"function"==typeof t[a.iterator]?e.push(new f(t[a.iterator]())):e.push(new p(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++)if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(n=0;n<e;n++){var s,a=(s=t[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.Subscriber),f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[a.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),p=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return n.__extends(e,t),e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return(0,h.innerSubscribe)(this.observable,new h.SimpleInnerSubscriber(this))},e}(h.SimpleOuterSubscriber)},(t,e,r)=>{var n=r(9).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.receiveAPDU=void 0;var i=r(58),o=r(113),s=r(108);e.receiveAPDU=t=>o.Observable.create((e=>{let r=0,o=0,a=n.alloc(0);const h=t.subscribe({complete:()=>{e.error(new i.DisconnectedDevice),h.unsubscribe()},error:t=>{(0,s.log)("ble-error","in receiveAPDU "+String(t)),e.error(t),h.unsubscribe()},next:t=>{const s=t.readUInt8(0),u=t.readUInt16BE(1);let l=t.slice(3);5===s?r===u?(0===u&&(o=l.readUInt16BE(0),l=l.slice(2)),r++,a=n.concat([a,l]),a.length>o?e.error(new i.TransportError("BLE: received too much data. discontinued chunk. Received "+a.length+" but expected "+o,"BLETooMuchData")):a.length===o&&(e.next(a),e.complete(),h.unsubscribe())):e.error(new i.TransportError("BLE: Invalid sequence number. discontinued chunk. Received "+u+" but expected "+r,"InvalidSequence")):e.error(new i.TransportError("Invalid tag "+s.toString(16),"InvalidTag"))}});return()=>{h.unsubscribe()}}))},(t,e,r)=>{r.r(e),r.d(e,{monitorCharacteristic:()=>s});var n=r(114),i=r(108),o=r(9).Buffer;const s=t=>n.Observable.create((e=>{function r(t){const r=t.target;r.value&&e.next(o.from(r.value.buffer))}return(0,i.log)("ble-verbose","start monitor "+t.uuid),t.startNotifications().then((()=>{t.addEventListener("characteristicvaluechanged",r)})),()=>{(0,i.log)("ble-verbose","end monitor "+t.uuid),t.stopNotifications()}}))},(t,e,r)=>{r.r(e),r.d(e,{tap:()=>a});var n=r(117),i=r(116),o=r(165),s=r(123);function a(t,e,r){return function(n){return n.lift(new h(t,e,r))}}var h=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,r,n,i){var a=t.call(this,e)||this;return a._tapNext=o.noop,a._tapError=o.noop,a._tapComplete=o.noop,a._tapError=n||o.noop,a._tapComplete=i||o.noop,(0,s.isFunction)(r)?(a._context=a,a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||o.noop,a._tapError=r.error||o.noop,a._tapComplete=r.complete||o.noop),a}return n.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{share:()=>a});var n=r(220),i=r(132),o=r(133);function s(){return new o.Subject}function a(){return function(t){return(0,i.refCount)()((0,n.multicast)(s)(t))}}},(t,e,r)=>{r.r(e),r.d(e,{MulticastOperator:()=>o,multicast:()=>i});var n=r(131);function i(t,e){return function(r){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new o(i,e));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=i,s}}var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}()},(t,e,r)=>{r.r(e),r.d(e,{first:()=>u});var n=r(168),i=r(209),o=r(222),s=r(223),a=r(224),h=r(130);function u(t,e){var r=arguments.length>=2;return function(u){return u.pipe(t?(0,i.filter)((function(e,r){return t(e,r,u)})):h.identity,(0,o.take)(1),r?(0,s.defaultIfEmpty)(e):(0,a.throwIfEmpty)((function(){return new n.EmptyError})))}}},(t,e,r)=>{r.r(e),r.d(e,{take:()=>a});var n=r(117),i=r(116),o=r(167),s=r(147);function a(t){return function(e){return 0===t?(0,s.empty)():e.lift(new h(t))}}var h=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return n.__extends(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{defaultIfEmpty:()=>o});var n=r(117),i=r(116);function o(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return n.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},(t,e,r)=>{r.r(e),r.d(e,{throwIfEmpty:()=>s});var n=r(117),i=r(168),o=r(116);function s(t){return void 0===t&&(t=u),function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.errorFactory))},t}(),h=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return n.__extends(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(o.Subscriber);function u(){return new i.EmptyError}},(t,e,r)=>{r.r(e),r.d(e,{ignoreElements:()=>o});var n=r(117),i=r(116);function o(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype._next=function(t){},e}(i.Subscriber)},(t,e,r)=>{const n=r(227).default,{DnsCollection:i}=r(229),{DnsItem:o}=r(230);t.exports.default={Dns:n,DnsCollection:i,DnsItem:o}},(t,e,r)=>{r(21);const{Address:n,bytesToHex:i}=r(1),{DNS_CATEGORY_NEXT_RESOLVER:o,DNS_CATEGORY_SITE:s,DNS_CATEGORY_WALLET:a,DNS_CATEGORY_STORAGE:h,createSmartContractAddressRecord:u,createAdnlAddressRecord:l,createStorageBagIdRecord:c,createNextResolverRecord:f,parseSmartContractAddressRecord:d,parseAdnlAddressRecord:p,parseStorageBagIdRecord:m,parseSiteRecord:g,parseNextResolverRecord:y,dnsResolve:v}=r(228);class w{constructor(t){this.provider=t}async getRootDnsAddress(){const t=(await this.provider.getConfigParam(4)).bits.array;if(32!==t.length)throw new Error("Invalid ConfigParam 4 length "+t.length);const e=i(t);return new n("-1:"+e)}async resolve(t,e,r){const n=await this.getRootDnsAddress();return v(this.provider,n.toString(),t,e,r)}getWalletAddress(t){return this.resolve(t,a)}getSiteAddress(t){return this.resolve(t,s)}}w.resolve=v,w.createSmartContractAddressRecord=u,w.createAdnlAddressRecord=l,w.createStorageBagIdRecord=c,w.createNextResolverRecord=f,w.parseNextResolverRecord=y,w.parseAdnlAddressRecord=p,w.parseStorageBagIdRecord=m,w.parseSiteRecord=g,w.parseSmartContractAddressRecord=d,w.DNS_CATEGORY_NEXT_RESOLVER=o,w.DNS_CATEGORY_WALLET=a,w.DNS_CATEGORY_SITE=s,w.DNS_CATEGORY_STORAGE=h,t.exports.default=w},(t,e,r)=>{const{parseAddress:n}=r(41),{AdnlAddress:i,StorageBagId:o,BN:s,sha256:a,bytesToHex:h,bytesToBase64:u}=r(1),{Cell:l}=r(21),c="dns_next_resolver",f="wallet",d="site",p="storage",m=async t=>{if(!t)return new s(0);const e=(new TextEncoder).encode(t),r=new Uint8Array(await a(e));return new s(h(r),16)},g=(t,e,r)=>{if(t.bits.array[0]!==e||t.bits.array[1]!==r)throw new Error("Invalid dns record value prefix");return t.bits.array=t.bits.array.slice(2),n(t)},y=t=>g(t,159,211),v=t=>g(t,186,147),w=t=>{if(173!==t.bits.array[0]||1!==t.bits.array[1])throw new Error("Invalid dns record value prefix");const e=t.bits.array.slice(2,34);return new i(e)},b=t=>{if(116!==t.bits.array[0]||115!==t.bits.array[1])throw new Error("Invalid dns record value prefix");const e=t.bits.array.slice(2,34);return new o(e)},E=t=>t?173===t.bits.array[0]||1===t.bits.array[1]?w(t):b(t):null,A=async(t,e,r,n,i)=>{const o=8*r.length,s=new l;s.bits.writeBytes(r);const a=await m(n),h=await t.call2(e,"dnsresolve",[["tvm.Slice",u(await s.toBoc(!1))],["num",a.toString()]]);if(2!==h.length)throw new Error("Invalid dnsresolve response");const g=h[0].toNumber();let w=h[1];if(w instanceof Array&&0===w.length&&(w=null),w&&!w.bits)throw new Error("Invalid dnsresolve response");if(0===g)return null;if(g%8!=0)throw new Error("domain split not at a component boundary");if(g>o)throw new Error("invalid response "+g+"/"+o);if(g===o)return n===c?w?v(w):null:n===f?w?y(w):null:n===d?w?E(w):null:n===p?w?b(w):null:w;if(w){const e=v(w);return i?n===c?e:null:await A(t,e.toString(),r.slice(g/8),n,!1)}return null},C=t=>{if(!t||!t.length)throw new Error("empty domain");if("."===t)return new Uint8Array([0]);t=t.toLowerCase();for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<=32)throw new Error("bytes in range 0..32 are not allowed in domain names");for(let e=0;e<t.length;e++){const r=t.substring(e,e+1);for(let t=127;t<=159;t++)if(r===String.fromCharCode(t))throw new Error("bytes in range 127..159 are not allowed in domain names")}const e=t.split(".");e.forEach((t=>{if(!t.length)throw new Error("domain name cannot have an empty component")}));let r=e.reverse().join("\0")+"\0";return r.length<126&&(r="\0"+r),(new TextEncoder).encode(r)};t.exports={DNS_CATEGORY_NEXT_RESOLVER:c,DNS_CATEGORY_SITE:d,DNS_CATEGORY_WALLET:f,DNS_CATEGORY_STORAGE:p,categoryToBN:m,domainToBytes:C,createSmartContractAddressRecord:t=>{const e=new l;return e.bits.writeUint(40915,16),e.bits.writeAddress(t),e.bits.writeUint(0,8),e},createAdnlAddressRecord:t=>{const e=new l;return e.bits.writeUint(44289,16),e.bits.writeBytes(t.bytes),e.bits.writeUint(0,8),e},createNextResolverRecord:t=>{const e=new l;return e.bits.writeUint(47763,16),e.bits.writeAddress(t),e},parseSmartContractAddressRecord:y,parseAdnlAddressRecord:w,parseStorageBagIdRecord:b,parseSiteRecord:E,parseNextResolverRecord:v,createStorageBagIdRecord:t=>{const e=new l;return e.bits.writeUint(29811,16),e.bits.writeBytes(t.bytes),e},dnsResolve:async(t,e,r,n,i)=>{const o=C(r);return A(t,e,o,n,i)}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21);r(1);const{parseAddress:o}=r(41),{dnsResolve:s}=r(228),{parseOffchainUriCell:a}=r(41);t.exports={DnsCollection:class extends n{constructor(t,e){if(e.wc=0,e.code=e.code,super(t,e),!e.collectionContent&&!e.address)throw new Error("required collectionContent cell");this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const t=new i;return t.refs[0]=this.options.collectionContent,t.refs[1]=i.oneFromBoc(this.options.dnsItemCodeHex),t}async getCollectionData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_collection_data"),r=e[0].toNumber(),n=e[1];return{collectionContentUri:a(n),collectionContent:n,ownerAddress:null,nextItemIndex:r}}async getNftItemContent(t){return await t.getData()}async getNftItemAddressByIndex(t){const e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t.toString()]]);return o(r)}async resolve(t,e,r){const n=await this.getAddress();return s(this.provider,n.toString(),t,e,r)}}}},(t,e,r)=>{const{Contract:n}=r(26),{Cell:i}=r(21),{Address:o,BN:s}=r(1),{parseAddress:a}=r(41),{dnsResolve:h,categoryToBN:u}=r(228);class l extends n{constructor(t,e){e.wc=0,e.code=e.code,super(t,e),this.methods.getData=this.getData.bind(this),this.methods.getDomain=this.getDomain.bind(this),this.methods.getAuctionInfo=this.getAuctionInfo.bind(this),this.methods.getLastFillUpTime=this.getLastFillUpTime.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const t=new i;return t.bits.writeUint(this.options.index,256),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),r=-1===e[0].toNumber();return{isInitialized:r,index:e[1],collectionAddress:a(e[2]),ownerAddress:r?a(e[3]):null,contentCell:e[4]}}async createTransferBody(t){const e=new i;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new s(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new i;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}async getDomain(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_domain");return(new TextDecoder).decode(e.bits.array.buffer)}async getAuctionInfo(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_auction_info");return{maxBidAddress:a(e[0]),maxBidAmount:e[1],auctionEndTime:e[2].toNumber()}}async getLastFillUpTime(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_last_fill_up_time")).toNumber()}async resolve(t,e,r){const n=await this.getAddress();return h(this.provider,n.toString(),t,e,r)}}l.createChangeContentEntryBody=async t=>{const e=new i;return e.bits.writeUint(1320284409,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(await u(t.category),256),t.value&&(e.refs[0]=t.value),e},t.exports={DnsItem:l}}],r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(0)})()})),J=Z(Q);X((function(t,e){self,t.exports=(()=>{var t={780:(t,e,r)=>{!function(t){var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),h=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function g(t,e,r,n){return m(t,e,r,n,16)}function y(t,e,r,n){return m(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=o,A=s,C=a,M=h,B=u,F=l,_=c,S=f,D=d,x=p,I=m,T=g,U=y,R=v,N=w,k=b,O=0;O<20;O+=2)E^=(i=(U^=(i=(D^=(i=(B^=(i=E+U|0)<<7|i>>>25)+E|0)<<9|i>>>23)+B|0)<<13|i>>>19)+D|0)<<18|i>>>14,F^=(i=(A^=(i=(R^=(i=(x^=(i=F+A|0)<<7|i>>>25)+F|0)<<9|i>>>23)+x|0)<<13|i>>>19)+R|0)<<18|i>>>14,I^=(i=(_^=(i=(C^=(i=(N^=(i=I+_|0)<<7|i>>>25)+I|0)<<9|i>>>23)+N|0)<<13|i>>>19)+C|0)<<18|i>>>14,k^=(i=(T^=(i=(S^=(i=(M^=(i=k+T|0)<<7|i>>>25)+k|0)<<9|i>>>23)+M|0)<<13|i>>>19)+S|0)<<18|i>>>14,E^=(i=(M^=(i=(C^=(i=(A^=(i=E+M|0)<<7|i>>>25)+E|0)<<9|i>>>23)+A|0)<<13|i>>>19)+C|0)<<18|i>>>14,F^=(i=(B^=(i=(S^=(i=(_^=(i=F+B|0)<<7|i>>>25)+F|0)<<9|i>>>23)+_|0)<<13|i>>>19)+S|0)<<18|i>>>14,I^=(i=(x^=(i=(D^=(i=(T^=(i=I+x|0)<<7|i>>>25)+I|0)<<9|i>>>23)+T|0)<<13|i>>>19)+D|0)<<18|i>>>14,k^=(i=(N^=(i=(R^=(i=(U^=(i=k+N|0)<<7|i>>>25)+k|0)<<9|i>>>23)+U|0)<<13|i>>>19)+R|0)<<18|i>>>14;E=E+o|0,A=A+s|0,C=C+a|0,M=M+h|0,B=B+u|0,F=F+l|0,_=_+c|0,S=S+f|0,D=D+d|0,x=x+p|0,I=I+m|0,T=T+g|0,U=U+y|0,R=R+v|0,N=N+w|0,k=k+b|0,t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=C>>>0&255,t[9]=C>>>8&255,t[10]=C>>>16&255,t[11]=C>>>24&255,t[12]=M>>>0&255,t[13]=M>>>8&255,t[14]=M>>>16&255,t[15]=M>>>24&255,t[16]=B>>>0&255,t[17]=B>>>8&255,t[18]=B>>>16&255,t[19]=B>>>24&255,t[20]=F>>>0&255,t[21]=F>>>8&255,t[22]=F>>>16&255,t[23]=F>>>24&255,t[24]=_>>>0&255,t[25]=_>>>8&255,t[26]=_>>>16&255,t[27]=_>>>24&255,t[28]=S>>>0&255,t[29]=S>>>8&255,t[30]=S>>>16&255,t[31]=S>>>24&255,t[32]=D>>>0&255,t[33]=D>>>8&255,t[34]=D>>>16&255,t[35]=D>>>24&255,t[36]=x>>>0&255,t[37]=x>>>8&255,t[38]=x>>>16&255,t[39]=x>>>24&255,t[40]=I>>>0&255,t[41]=I>>>8&255,t[42]=I>>>16&255,t[43]=I>>>24&255,t[44]=T>>>0&255,t[45]=T>>>8&255,t[46]=T>>>16&255,t[47]=T>>>24&255,t[48]=U>>>0&255,t[49]=U>>>8&255,t[50]=U>>>16&255,t[51]=U>>>24&255,t[52]=R>>>0&255,t[53]=R>>>8&255,t[54]=R>>>16&255,t[55]=R>>>24&255,t[56]=N>>>0&255,t[57]=N>>>8&255,t[58]=N>>>16&255,t[59]=N>>>24&255,t[60]=k>>>0&255,t[61]=k>>>8&255,t[62]=k>>>16&255,t[63]=k>>>24&255}(t,e,r,n)}function w(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=0;E<20;E+=2)o^=(i=(y^=(i=(d^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(s^=(i=(v^=(i=(p^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(c^=(i=(a^=(i=(w^=(i=m+c|0)<<7|i>>>25)+m|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(g^=(i=(f^=(i=(h^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(h^=(i=(a^=(i=(s^=(i=o+h|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(f^=(i=(c^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(w^=(i=(v^=(i=(y^=(i=b+w|0)<<7|i>>>25)+b|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=c>>>0&255,t[17]=c>>>8&255,t[18]=c>>>16&255,t[19]=c>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,r,n,i,o,s){var a,h,u=new Uint8Array(16),l=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=o[h];for(;i>=64;){for(v(l,u,s,b),h=0;h<64;h++)t[e+h]=r[n+h]^l[h];for(a=1,h=8;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(l,u,s,b),h=0;h<i;h++)t[e+h]=r[n+h]^l[h];return 0}function A(t,e,r,n,i){var o,s,a=new Uint8Array(16),h=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(v(h,a,i,b),s=0;s<64;s++)t[e+s]=h[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(v(h,a,i,b),s=0;s<r;s++)t[e+s]=h[s];return 0}function C(t,e,r,n,i){var o=new Uint8Array(32);w(o,n,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return A(t,e,r,s,o)}function M(t,e,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,b);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=o[u+16];return E(t,e,r,n,i,h,a)}var B=function(t){var e,r,n,i,o,s,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),h=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function F(t,e,r,n,i,o){var s=new B(o);return s.update(r,n,i),s.finish(t,e),0}function _(t,e,r,n,i,o){var s=new Uint8Array(16);return F(s,0,r,n,i,o),g(t,e,s,0)}function S(t,e,r,n,i){var o;if(r<32)return-1;for(M(t,0,e,0,r,n,i),F(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function D(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(C(s,0,32,n,i),0!==_(e,16,e,32,r-32,s))return-1;for(M(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function x(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function I(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function T(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function U(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(I(a),I(a),I(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,T(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function R(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return U(r,t),U(n,e),y(r,0,n,0)}function N(t){var e=new Uint8Array(32);return U(e,t),1&e[0]}function k(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function O(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function P(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function L(t,e,r){var n,i,o=0,s=0,a=0,h=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=0,v=0,w=0,b=0,E=0,A=0,C=0,M=0,B=0,F=0,_=0,S=0,D=0,x=0,I=0,T=0,U=0,R=0,N=0,k=r[0],O=r[1],P=r[2],L=r[3],j=r[4],$=r[5],q=r[6],K=r[7],H=r[8],z=r[9],G=r[10],V=r[11],Y=r[12],W=r[13],Z=r[14],X=r[15];o+=(n=e[0])*k,s+=n*O,a+=n*P,h+=n*L,u+=n*j,l+=n*$,c+=n*q,f+=n*K,d+=n*H,p+=n*z,m+=n*G,g+=n*V,y+=n*Y,v+=n*W,w+=n*Z,b+=n*X,s+=(n=e[1])*k,a+=n*O,h+=n*P,u+=n*L,l+=n*j,c+=n*$,f+=n*q,d+=n*K,p+=n*H,m+=n*z,g+=n*G,y+=n*V,v+=n*Y,w+=n*W,b+=n*Z,E+=n*X,a+=(n=e[2])*k,h+=n*O,u+=n*P,l+=n*L,c+=n*j,f+=n*$,d+=n*q,p+=n*K,m+=n*H,g+=n*z,y+=n*G,v+=n*V,w+=n*Y,b+=n*W,E+=n*Z,A+=n*X,h+=(n=e[3])*k,u+=n*O,l+=n*P,c+=n*L,f+=n*j,d+=n*$,p+=n*q,m+=n*K,g+=n*H,y+=n*z,v+=n*G,w+=n*V,b+=n*Y,E+=n*W,A+=n*Z,C+=n*X,u+=(n=e[4])*k,l+=n*O,c+=n*P,f+=n*L,d+=n*j,p+=n*$,m+=n*q,g+=n*K,y+=n*H,v+=n*z,w+=n*G,b+=n*V,E+=n*Y,A+=n*W,C+=n*Z,M+=n*X,l+=(n=e[5])*k,c+=n*O,f+=n*P,d+=n*L,p+=n*j,m+=n*$,g+=n*q,y+=n*K,v+=n*H,w+=n*z,b+=n*G,E+=n*V,A+=n*Y,C+=n*W,M+=n*Z,B+=n*X,c+=(n=e[6])*k,f+=n*O,d+=n*P,p+=n*L,m+=n*j,g+=n*$,y+=n*q,v+=n*K,w+=n*H,b+=n*z,E+=n*G,A+=n*V,C+=n*Y,M+=n*W,B+=n*Z,F+=n*X,f+=(n=e[7])*k,d+=n*O,p+=n*P,m+=n*L,g+=n*j,y+=n*$,v+=n*q,w+=n*K,b+=n*H,E+=n*z,A+=n*G,C+=n*V,M+=n*Y,B+=n*W,F+=n*Z,_+=n*X,d+=(n=e[8])*k,p+=n*O,m+=n*P,g+=n*L,y+=n*j,v+=n*$,w+=n*q,b+=n*K,E+=n*H,A+=n*z,C+=n*G,M+=n*V,B+=n*Y,F+=n*W,_+=n*Z,S+=n*X,p+=(n=e[9])*k,m+=n*O,g+=n*P,y+=n*L,v+=n*j,w+=n*$,b+=n*q,E+=n*K,A+=n*H,C+=n*z,M+=n*G,B+=n*V,F+=n*Y,_+=n*W,S+=n*Z,D+=n*X,m+=(n=e[10])*k,g+=n*O,y+=n*P,v+=n*L,w+=n*j,b+=n*$,E+=n*q,A+=n*K,C+=n*H,M+=n*z,B+=n*G,F+=n*V,_+=n*Y,S+=n*W,D+=n*Z,x+=n*X,g+=(n=e[11])*k,y+=n*O,v+=n*P,w+=n*L,b+=n*j,E+=n*$,A+=n*q,C+=n*K,M+=n*H,B+=n*z,F+=n*G,_+=n*V,S+=n*Y,D+=n*W,x+=n*Z,I+=n*X,y+=(n=e[12])*k,v+=n*O,w+=n*P,b+=n*L,E+=n*j,A+=n*$,C+=n*q,M+=n*K,B+=n*H,F+=n*z,_+=n*G,S+=n*V,D+=n*Y,x+=n*W,I+=n*Z,T+=n*X,v+=(n=e[13])*k,w+=n*O,b+=n*P,E+=n*L,A+=n*j,C+=n*$,M+=n*q,B+=n*K,F+=n*H,_+=n*z,S+=n*G,D+=n*V,x+=n*Y,I+=n*W,T+=n*Z,U+=n*X,w+=(n=e[14])*k,b+=n*O,E+=n*P,A+=n*L,C+=n*j,M+=n*$,B+=n*q,F+=n*K,_+=n*H,S+=n*z,D+=n*G,x+=n*V,I+=n*Y,T+=n*W,U+=n*Z,R+=n*X,b+=(n=e[15])*k,s+=38*(A+=n*P),a+=38*(C+=n*L),h+=38*(M+=n*j),u+=38*(B+=n*$),l+=38*(F+=n*q),c+=38*(_+=n*K),f+=38*(S+=n*H),d+=38*(D+=n*z),p+=38*(x+=n*G),m+=38*(I+=n*V),g+=38*(T+=n*Y),y+=38*(U+=n*W),v+=38*(R+=n*Z),w+=38*(N+=n*X),o=(n=(o+=38*(E+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=h,t[4]=u,t[5]=l,t[6]=c,t[7]=f,t[8]=d,t[9]=p,t[10]=m,t[11]=g,t[12]=y,t[13]=v,t[14]=w,t[15]=b}function j(t,e){L(t,e,e)}function $(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)j(i,i),2!==n&&4!==n&&L(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)j(i,i),1!==n&&L(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function K(t,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),c=e(),f=e(),d=e(),p=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,k(a,n),o=0;o<16;o++)l[o]=a[o],f[o]=u[o]=c[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)T(u,l,i=s[o>>>3]>>>(7&o)&1),T(c,f,i),O(d,u,c),P(u,u,c),O(c,l,f),P(l,l,f),j(f,d),j(p,u),L(u,c,u),L(c,l,d),O(d,u,c),P(u,u,c),j(l,u),P(c,f,p),L(u,c,h),O(u,u,f),L(c,c,u),L(u,f,p),L(f,l,a),j(l,d),T(u,l,i),T(c,f,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=c[o],a[o+48]=l[o],a[o+64]=f[o];var m=a.subarray(32),g=a.subarray(16);return $(m,m),L(g,g,m),U(t,g),0}function H(t,e){return K(t,e,o)}function z(t,e){return n(e,32),H(t,e)}function G(t,e,r){var n=new Uint8Array(32);return K(n,r,e),w(t,i,n,b)}B.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,h,u,l,c,f,d,p,m,g,y,v,w,b,E,A=this.fin?0:2048,C=this.h[0],M=this.h[1],B=this.h[2],F=this.h[3],_=this.h[4],S=this.h[5],D=this.h[6],x=this.h[7],I=this.h[8],T=this.h[9],U=this.r[0],R=this.r[1],N=this.r[2],k=this.r[3],O=this.r[4],P=this.r[5],L=this.r[6],j=this.r[7],$=this.r[8],q=this.r[9];r>=16;)f=c=0,f+=(C+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*U,f+=(M+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),f+=(B+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*$),f+=(F+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*j),c=(f+=(_+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*L))>>>13,f&=8191,f+=(S+=a>>>1&8191)*(5*P),f+=(D+=8191&(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*O),f+=(x+=8191&(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*k),f+=(I+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*N),d=c+=(f+=(T+=l>>>5|A)*(5*R))>>>13,d+=C*R,d+=M*U,d+=B*(5*q),d+=F*(5*$),c=(d+=_*(5*j))>>>13,d&=8191,d+=S*(5*L),d+=D*(5*P),d+=x*(5*O),d+=I*(5*k),c+=(d+=T*(5*N))>>>13,d&=8191,p=c,p+=C*N,p+=M*R,p+=B*U,p+=F*(5*q),c=(p+=_*(5*$))>>>13,p&=8191,p+=S*(5*j),p+=D*(5*L),p+=x*(5*P),p+=I*(5*O),m=c+=(p+=T*(5*k))>>>13,m+=C*k,m+=M*N,m+=B*R,m+=F*U,c=(m+=_*(5*q))>>>13,m&=8191,m+=S*(5*$),m+=D*(5*j),m+=x*(5*L),m+=I*(5*P),g=c+=(m+=T*(5*O))>>>13,g+=C*O,g+=M*k,g+=B*N,g+=F*R,c=(g+=_*U)>>>13,g&=8191,g+=S*(5*q),g+=D*(5*$),g+=x*(5*j),g+=I*(5*L),y=c+=(g+=T*(5*P))>>>13,y+=C*P,y+=M*O,y+=B*k,y+=F*N,c=(y+=_*R)>>>13,y&=8191,y+=S*U,y+=D*(5*q),y+=x*(5*$),y+=I*(5*j),v=c+=(y+=T*(5*L))>>>13,v+=C*L,v+=M*P,v+=B*O,v+=F*k,c=(v+=_*N)>>>13,v&=8191,v+=S*R,v+=D*U,v+=x*(5*q),v+=I*(5*$),w=c+=(v+=T*(5*j))>>>13,w+=C*j,w+=M*L,w+=B*P,w+=F*O,c=(w+=_*k)>>>13,w&=8191,w+=S*N,w+=D*R,w+=x*U,w+=I*(5*q),b=c+=(w+=T*(5*$))>>>13,b+=C*$,b+=M*j,b+=B*L,b+=F*P,c=(b+=_*O)>>>13,b&=8191,b+=S*k,b+=D*N,b+=x*R,b+=I*U,E=c+=(b+=T*(5*q))>>>13,E+=C*q,E+=M*$,E+=B*j,E+=F*L,c=(E+=_*P)>>>13,E&=8191,E+=S*O,E+=D*k,E+=x*N,E+=I*R,C=f=8191&(c=(c=((c+=(E+=T*U)>>>13)<<2)+c|0)+(f&=8191)|0),M=d+=c>>>=13,B=p&=8191,F=m&=8191,_=g&=8191,S=y&=8191,D=v&=8191,x=w&=8191,I=b&=8191,T=E&=8191,e+=16,r-=16;this.h[0]=C,this.h[1]=M,this.h[2]=B,this.h[3]=F,this.h[4]=_,this.h[5]=S,this.h[6]=D,this.h[7]=x,this.h[8]=I,this.h[9]=T},B.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},B.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var V=S,Y=D,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(t,e,r,n){for(var i,o,s,a,h,u,l,c,f,d,p,m,g,y,v,w,b,E,A,C,M,B,F,_,S,D,x=new Int32Array(16),I=new Int32Array(16),T=t[0],U=t[1],R=t[2],N=t[3],k=t[4],O=t[5],P=t[6],L=t[7],j=e[0],$=e[1],q=e[2],K=e[3],H=e[4],z=e[5],G=e[6],V=e[7],Y=0;n>=128;){for(A=0;A<16;A++)C=8*A+Y,x[A]=r[C+0]<<24|r[C+1]<<16|r[C+2]<<8|r[C+3],I[A]=r[C+4]<<24|r[C+5]<<16|r[C+6]<<8|r[C+7];for(A=0;A<80;A++)if(i=T,o=U,s=R,a=N,h=k,u=O,l=P,f=j,d=$,p=q,m=K,g=H,y=z,v=G,F=65535&(B=V),_=B>>>16,S=65535&(M=L),D=M>>>16,F+=65535&(B=(H>>>14|k<<18)^(H>>>18|k<<14)^(k>>>9|H<<23)),_+=B>>>16,S+=65535&(M=(k>>>14|H<<18)^(k>>>18|H<<14)^(H>>>9|k<<23)),D+=M>>>16,F+=65535&(B=H&z^~H&G),_+=B>>>16,S+=65535&(M=k&O^~k&P),D+=M>>>16,F+=65535&(B=W[2*A+1]),_+=B>>>16,S+=65535&(M=W[2*A]),D+=M>>>16,M=x[A%16],_+=(B=I[A%16])>>>16,S+=65535&M,D+=M>>>16,S+=(_+=(F+=65535&B)>>>16)>>>16,F=65535&(B=E=65535&F|_<<16),_=B>>>16,S=65535&(M=b=65535&S|(D+=S>>>16)<<16),D=M>>>16,F+=65535&(B=(j>>>28|T<<4)^(T>>>2|j<<30)^(T>>>7|j<<25)),_+=B>>>16,S+=65535&(M=(T>>>28|j<<4)^(j>>>2|T<<30)^(j>>>7|T<<25)),D+=M>>>16,_+=(B=j&$^j&q^$&q)>>>16,S+=65535&(M=T&U^T&R^U&R),D+=M>>>16,c=65535&(S+=(_+=(F+=65535&B)>>>16)>>>16)|(D+=S>>>16)<<16,w=65535&F|_<<16,F=65535&(B=m),_=B>>>16,S=65535&(M=a),D=M>>>16,_+=(B=E)>>>16,S+=65535&(M=b),D+=M>>>16,U=i,R=o,N=s,k=a=65535&(S+=(_+=(F+=65535&B)>>>16)>>>16)|(D+=S>>>16)<<16,O=h,P=u,L=l,T=c,$=f,q=d,K=p,H=m=65535&F|_<<16,z=g,G=y,V=v,j=w,A%16==15)for(C=0;C<16;C++)M=x[C],F=65535&(B=I[C]),_=B>>>16,S=65535&M,D=M>>>16,M=x[(C+9)%16],F+=65535&(B=I[(C+9)%16]),_+=B>>>16,S+=65535&M,D+=M>>>16,b=x[(C+1)%16],F+=65535&(B=((E=I[(C+1)%16])>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25)),_+=B>>>16,S+=65535&(M=(b>>>1|E<<31)^(b>>>8|E<<24)^b>>>7),D+=M>>>16,b=x[(C+14)%16],_+=(B=((E=I[(C+14)%16])>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26))>>>16,S+=65535&(M=(b>>>19|E<<13)^(E>>>29|b<<3)^b>>>6),D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,x[C]=65535&S|D<<16,I[C]=65535&F|_<<16;F=65535&(B=j),_=B>>>16,S=65535&(M=T),D=M>>>16,M=t[0],_+=(B=e[0])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[0]=T=65535&S|D<<16,e[0]=j=65535&F|_<<16,F=65535&(B=$),_=B>>>16,S=65535&(M=U),D=M>>>16,M=t[1],_+=(B=e[1])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[1]=U=65535&S|D<<16,e[1]=$=65535&F|_<<16,F=65535&(B=q),_=B>>>16,S=65535&(M=R),D=M>>>16,M=t[2],_+=(B=e[2])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[2]=R=65535&S|D<<16,e[2]=q=65535&F|_<<16,F=65535&(B=K),_=B>>>16,S=65535&(M=N),D=M>>>16,M=t[3],_+=(B=e[3])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[3]=N=65535&S|D<<16,e[3]=K=65535&F|_<<16,F=65535&(B=H),_=B>>>16,S=65535&(M=k),D=M>>>16,M=t[4],_+=(B=e[4])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[4]=k=65535&S|D<<16,e[4]=H=65535&F|_<<16,F=65535&(B=z),_=B>>>16,S=65535&(M=O),D=M>>>16,M=t[5],_+=(B=e[5])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[5]=O=65535&S|D<<16,e[5]=z=65535&F|_<<16,F=65535&(B=G),_=B>>>16,S=65535&(M=P),D=M>>>16,M=t[6],_+=(B=e[6])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[6]=P=65535&S|D<<16,e[6]=G=65535&F|_<<16,F=65535&(B=V),_=B>>>16,S=65535&(M=L),D=M>>>16,M=t[7],_+=(B=e[7])>>>16,S+=65535&M,D+=M>>>16,D+=(S+=(_+=(F+=65535&B)>>>16)>>>16)>>>16,t[7]=L=65535&S|D<<16,e[7]=V=65535&F|_<<16,Y+=128,n-=128}return n}function X(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),Z(i,o,s,r),n=0;n<8;n++)p(t,8*n,i[n],o[n]);return 0}function Q(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),h=e(),u=e(),c=e(),f=e();P(n,t[1],t[0]),P(f,r[1],r[0]),L(n,n,f),O(i,t[0],t[1]),O(f,r[0],r[1]),L(i,i,f),L(o,t[3],r[3]),L(o,o,l),L(s,t[2],r[2]),O(s,s,s),P(a,i,n),P(h,s,o),O(u,s,o),O(c,i,n),L(t[0],a,h),L(t[1],c,u),L(t[2],u,h),L(t[3],a,c)}function J(t,e,r){var n;for(n=0;n<4;n++)T(t[n],e[n],r)}function tt(t,r){var n=e(),i=e(),o=e();$(o,r[2]),L(n,r[0],o),L(i,r[1],o),U(t,i),t[31]^=N(n)<<7}function et(t,e,r){var n,i;for(x(t[0],s),x(t[1],a),x(t[2],a),x(t[3],s),i=255;i>=0;--i)J(t,e,n=r[i/8|0]>>(7&i)&1),Q(e,t),Q(t,t),J(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];x(n[0],c),x(n[1],f),x(n[2],a),L(n[3],c,f),et(t,n,r)}function nt(t,r,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),X(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,rt(a,s),tt(t,a),o=0;o<32;o++)r[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,n,i){var o,s,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),c=[e(),e(),e(),e()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(X(u,t.subarray(32),n+32),st(u),rt(c,u),tt(t,c),o=32;o<64;o++)t[o]=i[o];for(X(h,t,n+64),st(h),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=h[o]*a[s];return ot(t.subarray(32),l),f}function ht(t,r,n,i){var o,h=new Uint8Array(32),l=new Uint8Array(64),c=[e(),e(),e(),e()],f=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),i=e(),o=e(),h=e(),l=e(),c=e(),f=e();return x(t[2],a),k(t[1],r),j(o,t[1]),L(h,o,u),P(o,o,t[2]),O(h,t[2],h),j(l,h),j(c,l),L(f,c,l),L(n,f,o),L(n,n,h),q(n,n),L(n,n,o),L(n,n,h),L(n,n,h),L(t[0],n,h),j(i,t[0]),L(i,i,h),R(i,o)&&L(t[0],t[0],d),j(i,t[0]),L(i,i,h),R(i,o)?-1:(N(t[0])===r[31]>>7&&P(t[0],s,t[0]),L(t[3],t[0],t[1]),0)}(f,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(X(l,t,n),st(l),et(c,f,l),rt(f,r.subarray(32)),Q(c,f),tt(h,c),n-=64,y(r,0,h,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ut,lt=64,ct=32,ft=64;function dt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:M,crypto_stream:C,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:A,crypto_onetimeauth:F,crypto_onetimeauth_verify:_,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:S,crypto_secretbox_open:D,crypto_scalarmult:K,crypto_scalarmult_base:H,crypto_box_beforenm:G,crypto_box_afternm:V,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return G(s,i,o),V(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return G(s,i,o),Y(t,e,r,n,s)},crypto_box_keypair:z,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ht,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:ct,crypto_sign_SECRETKEYBYTES:ft,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:U,unpack25519:k,M:L,A:O,S:j,Z:P,pow2523:q,add:Q,set25519:x,modL:ot,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return S(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32||0!==D(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,t,e),r},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return H(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){pt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return G(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),e.length!==ft)throw new Error("bad secret key size");var r=new Uint8Array(lt+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(pt(t,e),e.length!==ct)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ht(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(lt),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(pt(t,e,r),e.length!==lt)throw new Error("bad signature size");if(r.length!==ct)throw new Error("bad public key size");var n,i=new Uint8Array(lt+t.length),o=new Uint8Array(lt+t.length);for(n=0;n<lt;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+lt]=t[n];return ht(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ct),e=new Uint8Array(ft);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),t.length!==ft)throw new Error("bad secret key size");for(var e=new Uint8Array(ct),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ct),r=new Uint8Array(ft),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ct,t.sign.secretKeyLength=ft,t.sign.seedLength=32,t.sign.signatureLength=lt,t.hash=function(t){pt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===m(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},(ut="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ut.getRandomValues?t.setPRNG((function(t,e){var r,n=new Uint8Array(e);for(r=0;r<e;r+=65536)ut.getRandomValues(n.subarray(r,r+Math.min(e-r,65536)));for(r=0;r<e;r++)t[r]=n[r];mt(n)})):(ut=r(24))&&ut.randomBytes&&t.setPRNG((function(t,e){var r,n=ut.randomBytes(e);for(r=0;r<e;r++)t[r]=n[r];mt(n)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},24:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{KeyPair:()=>t.KeyPair,generateMnemonic:()=>c,isPasswordNeeded:()=>l,mnemonicToKeyPair:()=>m,mnemonicToSeed:()=>p,validateMnemonic:()=>g,wordlists:()=>e});var t={};r.r(t),r.d(t,{I:()=>m});var e={};r.r(e),r.d(e,{EN:()=>o,default:()=>o,english:()=>o});const i=self.crypto,o=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function s(t){return 0==(await h(t,"TON seed version",Math.max(1,Math.floor(390.625))))[0]}async function a(t,e=""){const r=t.join(" ");return await async function(t,e){const r=u(t).buffer,n=e.length?u(e).buffer:new ArrayBuffer(0),o={name:"HMAC",hash:"SHA-512"},s=await i.subtle.importKey("raw",r,o,!1,["sign"]);return await i.subtle.sign(o,s,n)}(r,e)}async function h(t,e,r){const n=u(e).buffer,o=await i.subtle.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),s=await i.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:n,iterations:r},o,512);return new Uint8Array(s)}function u(t,e=1){let r,n;switch(e){case 1:r=new ArrayBuffer(t.length),n=new Uint8Array(r);break;case 2:r=new ArrayBuffer(2*t.length),n=new Uint16Array(r);break;case 4:r=new ArrayBuffer(4*t.length),n=new Uint32Array(r);break;default:throw new Error(`Incorrect size specified: ${e}`)}for(let e=0,r=t.length;e<r;e++)n[e]=t.charCodeAt(e);return new Uint8Array(n.buffer)}async function l(t){const e=await a(t,"");return await async function(t){return 1==(await h(t,"TON fast seed version",1))[0]}(e)&&!await s(e)}async function c(t=24,e="",r=o){let n=[];for(;;){n=[];const o=i.getRandomValues(new Uint16Array(t));for(let e=0;e<t;e++)n.push(r[2047&o[e]]);if((!(e.length>0)||await l(n))&&await s(await a(n,e)))break}return n}var f=r(780),d=r.n(f);async function p(t,e=""){const r=await a(t,e);return(await h(r,"TON default seed",1e5)).slice(0,32)}async function m(t,e=""){const r=await p(t,e);return d().sign.keyPair.fromSeed(r)}async function g(t,e="",r=o){for(let e of t)if(-1===r.indexOf(e))return!1;return!(e.length>0&&!await l(t))&&await s(await a(t,e))}})(),n})()}));let tt;const et=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var rt={getSymbolSize:function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},getSymbolTotalCodewords:function(t){return et[t]},getBCHDigit:function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},setToSJISFunction:function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');tt=t},isKanjiModeEnabled:function(){return void 0!==tt},toSJIS:function(t){return tt(t)}},nt=X((function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}}));function it(){this.buffer=[],this.length=0}it.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ot=it;function st(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}st.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},st.prototype.get=function(t,e){return this.data[t*this.size+e]},st.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},st.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var at=st,ht=X((function(t,e){const r=rt.getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7];for(let t=1;t<e-1;t++)o[t]=o[t-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),i=n.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||r.push([n[t],n[e]]);return r}}));const ut=rt.getSymbolSize;var lt={getPositions:function(t){const e=ut(t);return[[0,0],[e-7,0],[0,e-7]]}},ct=X((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r=3,n=3,i=40,o=10;function s(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let n=0,i=0,o=0,s=null,a=null;for(let h=0;h<e;h++){i=o=0,s=a=null;for(let u=0;u<e;u++){let e=t.get(h,u);e===s?i++:(i>=5&&(n+=r+(i-5)),s=e,i=1),e=t.get(u,h),e===a?o++:(o>=5&&(n+=r+(o-5)),a=e,o=1)}i>=5&&(n+=r+(i-5)),o>=5&&(n+=r+(o-5))}return n},e.getPenaltyN2=function(t){const e=t.size;let r=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){const e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==e&&0!==e||r++}return r*n},e.getPenaltyN3=function(t){const e=t.size;let r=0,n=0,o=0;for(let i=0;i<e;i++){n=o=0;for(let s=0;s<e;s++)n=n<<1&2047|t.get(i,s),s>=10&&(1488===n||93===n)&&r++,o=o<<1&2047|t.get(s,i),s>=10&&(1488===o||93===o)&&r++}return r*i},e.getPenaltyN4=function(t){let e=0;const r=t.data.length;for(let n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*o},e.applyMask=function(t,e){const r=e.size;for(let n=0;n<r;n++)for(let i=0;i<r;i++)e.isReserved(i,n)||e.xor(i,n,s(t,i,n))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let i=0,o=1/0;for(let s=0;s<n;s++){r(s),e.applyMask(s,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),n<o&&(o=n,i=s)}return i}}));const ft=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];var pt={getBlocksCount:function(t,e){switch(e){case nt.L:return ft[4*(t-1)+0];case nt.M:return ft[4*(t-1)+1];case nt.Q:return ft[4*(t-1)+2];case nt.H:return ft[4*(t-1)+3];default:return}},getTotalCodewordsCount:function(t,e){switch(e){case nt.L:return dt[4*(t-1)+0];case nt.M:return dt[4*(t-1)+1];case nt.Q:return dt[4*(t-1)+2];case nt.H:return dt[4*(t-1)+3];default:return}}};const mt=new Uint8Array(512),gt=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)mt[e]=t,gt[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)mt[t]=mt[t-255]}();var yt=function(t){return mt[t]},vt=function(t,e){return 0===t||0===e?0:mt[gt[t]+gt[e]]},wt=X((function(t,e){e.mul=function(t,e){const r=new Uint8Array(t.length+e.length-1);for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[n+i]^=vt(t[n],e[i]);return r},e.mod=function(t,e){let r=new Uint8Array(t);for(;r.length-e.length>=0;){const t=r[0];for(let n=0;n<e.length;n++)r[n]^=vt(e[n],t);let n=0;for(;n<r.length&&0===r[n];)n++;r=r.slice(n)}return r},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let n=0;n<t;n++)r=e.mul(r,new Uint8Array([1,yt(n)]));return r}}));function bt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}bt.prototype.initialize=function(t){this.degree=t,this.genPoly=wt.generateECPolynomial(this.degree)},bt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=wt.mod(e,this.genPoly),n=this.degree-r.length;if(n>0){const t=new Uint8Array(this.degree);return t.set(r,n),t}return r};var Et=bt,At=function(t){return!isNaN(t)&&t>=1&&t<=40};const Ct="[0-9]+";let Mt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mt=Mt.replace(/u/g,"\\u");const Bt="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mt+")(?:.|[\r\n]))+";var Ft=new RegExp(Mt,"g"),_t=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),St=new RegExp(Bt,"g"),Dt=new RegExp(Ct,"g"),xt=new RegExp("[A-Z $%*+\\-./:]+","g");const It=new RegExp("^"+Mt+"$"),Tt=new RegExp("^"+Ct+"$"),Ut=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");var Rt={KANJI:Ft,BYTE_KANJI:_t,BYTE:St,NUMERIC:Dt,ALPHANUMERIC:xt,testKanji:function(t){return It.test(t)},testNumeric:function(t){return Tt.test(t)},testAlphanumeric:function(t){return Ut.test(t)}},Nt=X((function(t,e){e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!At(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return Rt.testNumeric(t)?e.NUMERIC:Rt.testAlphanumeric(t)?e.ALPHANUMERIC:Rt.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return r}}})),kt=X((function(t,e){const r=rt.getBCHDigit(7973);function n(t,e){return Nt.getCharCountIndicator(t,e)+4}function i(t,e){let r=0;return t.forEach((function(t){const i=n(t.mode,e);r+=i+t.getBitsLength()})),r}e.from=function(t,e){return At(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!At(t))throw new Error("Invalid QR Code version");void 0===r&&(r=Nt.BYTE);const i=8*(rt.getSymbolTotalCodewords(t)-pt.getTotalCodewordsCount(t,e));if(r===Nt.MIXED)return i;const o=i-n(r,t);switch(r){case Nt.NUMERIC:return Math.floor(o/10*3);case Nt.ALPHANUMERIC:return Math.floor(o/11*2);case Nt.KANJI:return Math.floor(o/13);case Nt.BYTE:default:return Math.floor(o/8)}},e.getBestVersionForData=function(t,r){let n;const o=nt.from(r,nt.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(i(t,n)<=e.getCapacity(n,r,Nt.MIXED))return n}(t,o);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(n.mode,n.getLength(),o)},e.getEncodedBits=function(t){if(!At(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;rt.getBCHDigit(e)-r>=0;)e^=7973<<rt.getBCHDigit(e)-r;return t<<12|e}}));const Ot=rt.getBCHDigit(1335);var Pt={getEncodedBits:function(t,e){const r=t.bit<<3|e;let n=r<<10;for(;rt.getBCHDigit(n)-Ot>=0;)n^=1335<<rt.getBCHDigit(n)-Ot;return 21522^(r<<10|n)}};function Lt(t){this.mode=Nt.NUMERIC,this.data=t.toString()}Lt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Lt.prototype.getLength=function(){return this.data.length},Lt.prototype.getBitsLength=function(){return Lt.getBitsLength(this.data.length)},Lt.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*i+1))};var jt=Lt;const $t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qt(t){this.mode=Nt.ALPHANUMERIC,this.data=t}qt.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},qt.prototype.getLength=function(){return this.data.length},qt.prototype.getBitsLength=function(){return qt.getBitsLength(this.data.length)},qt.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=45*$t.indexOf(this.data[e]);r+=$t.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put($t.indexOf(this.data[e]),6)};var Kt=qt;function Ht(t){this.mode=Nt.BYTE,"string"==typeof t&&(t=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var o=t.charCodeAt(n+1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,n+=1)}i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||i>=57344&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):i>=65536&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}(t)),this.data=new Uint8Array(t)}Ht.getBitsLength=function(t){return 8*t},Ht.prototype.getLength=function(){return this.data.length},Ht.prototype.getBitsLength=function(){return Ht.getBitsLength(this.data.length)},Ht.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var zt=Ht;function Gt(t){this.mode=Nt.KANJI,this.data=t}Gt.getBitsLength=function(t){return 13*t},Gt.prototype.getLength=function(){return this.data.length},Gt.prototype.getBitsLength=function(){return Gt.getBitsLength(this.data.length)},Gt.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=rt.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}};var Vt=Gt,Yt=X((function(t){var e={single_source_shortest_paths:function(t,r,n){var i={},o={};o[r]=0;var s,a,h,u,l,c,f,d=e.PriorityQueue.make();for(d.push(r,0);!d.empty();)for(h in a=(s=d.pop()).value,u=s.cost,l=t[a]||{})l.hasOwnProperty(h)&&(c=u+l[h],f=o[h],(void 0===o[h]||f>c)&&(o[h]=c,d.push(h,c),i[h]=a));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e})),Wt=X((function(t,e){function r(t){return unescape(encodeURIComponent(t)).length}function n(t,e,r){const n=[];let i;for(;null!==(i=t.exec(r));)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function i(t){const e=n(Rt.NUMERIC,Nt.NUMERIC,t),r=n(Rt.ALPHANUMERIC,Nt.ALPHANUMERIC,t);let i,o;rt.isKanjiModeEnabled()?(i=n(Rt.BYTE,Nt.BYTE,t),o=n(Rt.KANJI,Nt.KANJI,t)):(i=n(Rt.BYTE_KANJI,Nt.BYTE,t),o=[]);return e.concat(r,i,o).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function o(t,e){switch(e){case Nt.NUMERIC:return jt.getBitsLength(t);case Nt.ALPHANUMERIC:return Kt.getBitsLength(t);case Nt.KANJI:return Vt.getBitsLength(t);case Nt.BYTE:return zt.getBitsLength(t)}}function s(t,e){let r;const n=Nt.getBestModeForData(t);if(r=Nt.from(e,n),r!==Nt.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Nt.toString(r)+".\n Suggested mode is: "+Nt.toString(n));switch(r!==Nt.KANJI||rt.isKanjiModeEnabled()||(r=Nt.BYTE),r){case Nt.NUMERIC:return new jt(t);case Nt.ALPHANUMERIC:return new Kt(t);case Nt.KANJI:return new Vt(t);case Nt.BYTE:return new zt(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(s(e,null)):e.data&&t.push(s(e.data,e.mode)),t}),[])},e.fromString=function(t,n){const s=function(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];switch(i.mode){case Nt.NUMERIC:e.push([i,{data:i.data,mode:Nt.ALPHANUMERIC,length:i.length},{data:i.data,mode:Nt.BYTE,length:i.length}]);break;case Nt.ALPHANUMERIC:e.push([i,{data:i.data,mode:Nt.BYTE,length:i.length}]);break;case Nt.KANJI:e.push([i,{data:i.data,mode:Nt.BYTE,length:r(i.data)}]);break;case Nt.BYTE:e.push([{data:i.data,mode:Nt.BYTE,length:r(i.data)}])}}return e}(i(t)),a=function(t,e){const r={},n={start:{}};let i=["start"];for(let s=0;s<t.length;s++){const a=t[s],h=[];for(let t=0;t<a.length;t++){const u=a[t],l=""+s+t;h.push(l),r[l]={node:u,lastCount:0},n[l]={};for(let t=0;t<i.length;t++){const s=i[t];r[s]&&r[s].node.mode===u.mode?(n[s][l]=o(r[s].lastCount+u.length,u.mode)-o(r[s].lastCount,u.mode),r[s].lastCount+=u.length):(r[s]&&(r[s].lastCount=u.length),n[s][l]=o(u.length,u.mode)+4+Nt.getCharCountIndicator(u.mode,e))}}i=h}for(let t=0;t<i.length;t++)n[i[t]].end=0;return{map:n,table:r}}(s,n),h=Yt.find_path(a.map,"start","end"),u=[];for(let t=1;t<h.length-1;t++)u.push(a.table[h[t]].node);return e.fromArray(function(t){return t.reduce((function(t,e){const r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(u))},e.rawSplit=function(t){return e.fromArray(i(t))}}));function Zt(t,e,r){const n=t.size,i=Pt.getEncodedBits(e,r);let o,s;for(o=0;o<15;o++)s=1==(i>>o&1),o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(n-15+o,8,s,!0),o<8?t.set(8,n-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(n-8,8,1,!0)}function Xt(t,e,r){const n=new ot;r.forEach((function(e){n.put(e.mode.bit,4),n.put(e.getLength(),Nt.getCharCountIndicator(e.mode,t)),e.write(n)}));const i=8*(rt.getSymbolTotalCodewords(t)-pt.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);const o=(i-n.getLengthInBits())/8;for(let t=0;t<o;t++)n.put(t%2?17:236,8);return function(t,e,r){const n=rt.getSymbolTotalCodewords(e),i=pt.getTotalCodewordsCount(e,r),o=n-i,s=pt.getBlocksCount(e,r),a=n%s,h=s-a,u=Math.floor(n/s),l=Math.floor(o/s),c=l+1,f=u-l,d=new Et(f);let p=0;const m=new Array(s),g=new Array(s);let y=0;const v=new Uint8Array(t.buffer);for(let t=0;t<s;t++){const e=t<h?l:c;m[t]=v.slice(p,p+e),g[t]=d.encode(m[t]),p+=e,y=Math.max(y,e)}const w=new Uint8Array(n);let b,E,A=0;for(b=0;b<y;b++)for(E=0;E<s;E++)b<m[E].length&&(w[A++]=m[E][b]);for(b=0;b<f;b++)for(E=0;E<s;E++)w[A++]=g[E][b];return w}(n,t,e)}function Qt(t,e,r,n){let i;if(Array.isArray(t))i=Wt.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=Wt.rawSplit(t);n=kt.getBestVersionForData(e,r)}i=Wt.fromString(t,n||40)}}const o=kt.getBestVersionForData(i,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<o)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+o+".\n")}else e=o;const s=Xt(e,r,i),a=rt.getSymbolSize(e),h=new at(a);return function(t,e){const r=t.size,n=lt.getPositions(e);for(let e=0;e<n.length;e++){const i=n[e][0],o=n[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1||r<=i+e))for(let n=-1;n<=7;n++)o+n<=-1||r<=o+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(i+e,o+n,!0,!0):t.set(i+e,o+n,!1,!0))}}(h,e),function(t){const e=t.size;for(let r=8;r<e-8;r++){const e=r%2==0;t.set(r,6,e,!0),t.set(6,r,e,!0)}}(h),function(t,e){const r=ht.getPositions(e);for(let e=0;e<r.length;e++){const n=r[e][0],i=r[e][1];for(let e=-2;e<=2;e++)for(let r=-2;r<=2;r++)-2===e||2===e||-2===r||2===r||0===e&&0===r?t.set(n+e,i+r,!0,!0):t.set(n+e,i+r,!1,!0)}}(h,e),Zt(h,r,0),e>=7&&function(t,e){const r=t.size,n=kt.getEncodedBits(e);let i,o,s;for(let e=0;e<18;e++)i=Math.floor(e/3),o=e%3+r-8-3,s=1==(n>>e&1),t.set(i,o,s,!0),t.set(o,i,s,!0)}(h,e),function(t,e){const r=t.size;let n=-1,i=r-1,o=7,s=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!t.isReserved(i,a-r)){let n=!1;s<e.length&&(n=1==(e[s]>>>o&1)),t.set(i,a-r,n),o--,-1===o&&(s++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}(h,s),isNaN(n)&&(n=ct.getBestMask(h,Zt.bind(null,h,r))),ct.applyMask(n,h),Zt(h,r,n),{modules:h,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}var Jt=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let r,n,i=nt.M;return void 0!==e&&(i=nt.from(e.errorCorrectionLevel,nt.M),r=kt.from(e.version),n=ct.from(e.maskPattern),e.toSJISFunc&&rt.setToSJISFunction(e.toSJISFunc)),Qt(t,r,i,n)},te=X((function(t,e){function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const i=r.modules.size,o=r.modules.data,s=e.getScale(i,n),a=Math.floor((i+2*n.margin)*s),h=n.margin*s,u=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let l=4*(e*a+r),c=n.color.light;if(e>=h&&r>=h&&e<a-h&&r<a-h){c=u[o[Math.floor((e-h)/s)*i+Math.floor((r-h)/s)]?1:0]}t[l++]=c.r,t[l++]=c.g,t[l++]=c.b,t[l]=c.a}}})),ee=X((function(t,e){e.render=function(t,e,r){let n=r,i=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(i=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=te.getOptions(n);const o=te.getImageWidth(t.modules.size,n),s=i.getContext("2d"),a=s.createImageData(o,o);return te.qrToImageData(a.data,t,n),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(s,i,o),s.putImageData(a,0,0),i},e.renderToDataURL=function(t,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});const o=e.render(t,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}}));function re(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function ne(t,e,r){let n=t+e;return void 0!==r&&(n+=" "+r),n}var ie=function(t,e,r){const n=te.getOptions(e),i=t.modules.size,o=t.modules.data,s=i+2*n.margin,a=n.color.light.a?"<path "+re(n.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",h="<path "+re(n.color.dark,"stroke")+' d="'+function(t,e,r){let n="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const h=Math.floor(a%e),u=Math.floor(a/e);h||o||(o=!0),t[a]?(s++,a>0&&h>0&&t[a-1]||(n+=o?ne("M",h+r,.5+u+r):ne("m",i,0),i=0,o=!1),h+1<e&&t[a+1]||(n+=ne("h",s),s=0)):i++}return n}(o,i,n.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+h+"</svg>\n";return"function"==typeof r&&r(null,l),l};function oe(t,e,r,n,i){const o=[].slice.call(arguments,1),s=o.length,a="function"==typeof o[s-1];if(!(a||"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then))throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=e,e=n=void 0):2!==s||e.getContext||(n=r,r=e,e=void 0),new Promise((function(i,o){try{const o=Jt(r,n);i(t(o,e,n))}catch(t){o(t)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(i=r,r=e,e=n=void 0):3===s&&(e.getContext&&void 0===i?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0));try{const o=Jt(r,n);i(null,t(o,e,n))}catch(t){i(t)}}var se={create:Jt,toCanvas:oe.bind(null,ee.render),toDataURL:oe.bind(null,ee.renderToDataURL),toString:oe.bind(null,(function(t,e,r){return ie(t,r)}))};function ae(e){let r,n,i;return{c(){r=f("canvas")},m(t,o){var s;u(t,r,o),e[3](r),n||(i=m(r,"click",(s=e[2],function(t){return t.stopPropagation(),s.call(this,t)})),n=!0)},p:t,i:t,o:t,d(t){t&&l(r),e[3](null),n=!1,i()}}}function he(t,e,r){let n,{link:i="ton://null"}=e;return t.$$set=t=>{"link"in t&&r(1,i=t.link)},t.$$.update=()=>{3&t.$$.dirty&&n&&se.toCanvas(n,i)},[n,i,function(e){A.call(this,t,e)},function(t){M[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class ue extends z{constructor(t){super(),H(this,t,he,ae,o,{link:1})}}function le(e){let r,n,i,o,s,a,c,d,y,v;return{c(){r=f("div"),n=f("button"),n.textContent="Deploy with ton:// link",i=p(),o=f("button"),o.textContent="Deploy with TON Connect 2",s=p(),a=f("button"),a.textContent="Deploy with mnemonic",c=p(),d=f("button"),d.innerHTML="Deploy<b>as plugin</b><br/>\n                   with mnemonic (v4r2 only)<br/> \n                   <b>(CAN TAKE ALL FUNDS)</b>",g(n,"class","svelte-1ukqfrm"),o.disabled=!0,g(o,"class","svelte-1ukqfrm"),a.disabled=!0,g(a,"class","svelte-1ukqfrm"),d.disabled=!0,g(d,"class","svelte-1ukqfrm"),g(r,"class","panel svelte-1ukqfrm")},m(t,l){u(t,r,l),h(r,n),h(r,i),h(r,o),h(r,s),h(r,a),h(r,c),h(r,d),y||(v=m(n,"click",e[0]),y=!0)},p:t,i:t,o:t,d(t){t&&l(r),y=!1,v()}}}function ce(t,e,r){let{code:n}=e,{data:i}=e,{popup_wrapper:o}=e,{is_masterchain:s}=e;function a(t,e){return JSON.stringify({version:"0",body:{type:"sign-raw-payload",expires_sec:Math.ceil(new Date/1e3+86400),response_options:{broadcast:!0},params:{messages:[{address:t,stateInit:J.utils.bytesToBase64(e),amount:"90000000"}]}}})}return t.$$set=t=>{"code"in t&&r(1,n=t.code),"data"in t&&r(2,i=t.data),"popup_wrapper"in t&&r(3,o=t.popup_wrapper),"is_masterchain"in t&&r(4,s=t.is_masterchain)},[async function(){const t=function(){let t=new J.boc.Cell,e=new J.boc.Cell;return e.bits.writeUint(6,5),e.refs.push(n??t),e.refs.push(i??t),e}(),e=await async function(t){let e=J.utils.bytesToHex(await t.hash()),r=s?"-1:":"0:";return new J.Address(r+e).toString(!0,!0,!0)}(t);let r="ton://transfer/"+e+"?init="+(h=await t.toBoc(),J.utils.bytesToBase64(h).replaceAll("+","-").replaceAll("/","_"));var h;if(console.log("Not shortened:",r),r.length>=256){let n=window.localStorage.getItem("short:"+e);if(n)r=n;else{r="https://app.tonkeeper.com/v1/txrequest-url/"+(await fetch("https://jsonblob.com/api/jsonBlob",{method:"POST",body:a(e,await t.toBoc()),headers:{"Content-Type":"application/json"}})).headers.get("Location").slice(7),window.localStorage.setItem("short:"+e,r)}}console.log("Using:",r),new ue({target:o}).$set({link:r})},n,i,o,s]}class fe extends z{constructor(t){super(),H(this,t,ce,le,o,{code:1,data:2,popup_wrapper:3,is_masterchain:4})}}var de="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},pe="URLSearchParams"in de,me="Symbol"in de&&"iterator"in Symbol,ge="FileReader"in de&&"Blob"in de&&function(){try{return new Blob,!0}catch(t){return!1}}(),ye="FormData"in de,ve="ArrayBuffer"in de;if(ve)var we=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],be=ArrayBuffer.isView||function(t){return t&&we.indexOf(Object.prototype.toString.call(t))>-1};function Ee(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Ae(t){return"string"!=typeof t&&(t=String(t)),t}function Ce(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return me&&(e[Symbol.iterator]=function(){return e}),e}function Me(t){this.map={},t instanceof Me?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Be(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function Fe(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function _e(t){var e=new FileReader,r=Fe(e);return e.readAsArrayBuffer(t),r}function Se(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function De(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:ge&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:ye&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:pe&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():ve&&ge&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=Se(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ve&&(ArrayBuffer.prototype.isPrototypeOf(t)||be(t))?this._bodyArrayBuffer=Se(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):pe&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ge&&(this.blob=function(){var t=Be(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Be(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(ge)return this.blob().then(_e);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,r,n,i,o=Be(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=Fe(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:"utf-8",e.readAsText(t,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ye&&(this.formData=function(){return this.text().then(Te)}),this.json=function(){return this.text().then(JSON.parse)},this}Me.prototype.append=function(t,e){t=Ee(t),e=Ae(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},Me.prototype.delete=function(t){delete this.map[Ee(t)]},Me.prototype.get=function(t){return t=Ee(t),this.has(t)?this.map[t]:null},Me.prototype.has=function(t){return this.map.hasOwnProperty(Ee(t))},Me.prototype.set=function(t,e){this.map[Ee(t)]=Ae(e)},Me.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},Me.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),Ce(t)},Me.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),Ce(t)},Me.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),Ce(t)},me&&(Me.prototype[Symbol.iterator]=Me.prototype.entries);var xe=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ie(t,e){if(!(this instanceof Ie))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(e=e||{}).body;if(t instanceof Ie){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Me(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Me(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),xe.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in de)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Te(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function Ue(t,e){if(!(this instanceof Ue))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new Me(e.headers),this.url=e.url||"",this._initBody(t)}Ie.prototype.clone=function(){return new Ie(this,{body:this._bodyInit})},De.call(Ie.prototype),De.call(Ue.prototype),Ue.prototype.clone=function(){return new Ue(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Me(this.headers),url:this.url})},Ue.error=function(){var t=new Ue(null,{status:200,statusText:""});return t.status=0,t.type="error",t};var Re=[301,302,303,307,308];Ue.redirect=function(t,e){if(-1===Re.indexOf(e))throw new RangeError("Invalid status code");return new Ue(null,{status:e,headers:{location:t}})};var Ne=de.DOMException;try{new Ne}catch(t){Ne=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne}function ke(t,e){return new Promise((function(r,n){var i=new Ie(t,e);if(i.signal&&i.signal.aborted)return n(new Ne("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}if(o.onload=function(){var t,e,n={statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new Me,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{e.append(n,i)}catch(t){console.warn("Response "+t.message)}}})),e)};i.url.startsWith("file://")&&(o.status<200||o.status>599)?n.status=200:n.status=o.status,n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;setTimeout((function(){r(new Ue(s,n))}),0)},o.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request timed out"))}),0)},o.onabort=function(){setTimeout((function(){n(new Ne("Aborted","AbortError"))}),0)},o.open(i.method,function(t){try{return""===t&&de.location.href?de.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(ge?o.responseType="blob":ve&&(o.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof Me||de.Headers&&e.headers instanceof de.Headers)){var a=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){a.push(Ee(t)),o.setRequestHeader(t,Ae(e.headers[t]))})),i.headers.forEach((function(t,e){-1===a.indexOf(e)&&o.setRequestHeader(e,t)}))}else i.headers.forEach((function(t,e){o.setRequestHeader(e,t)}));i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}ke.polyfill=!0,de.fetch||(de.fetch=ke,de.Headers=Me,de.Request=Ie,de.Response=Ue),self.fetch.bind(self);var Oe=X((function(t,e){var r=W&&W.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Nodes=void 0;e.Nodes=class{constructor(){this.nodeIndex=-1,this.committee=new Set,this.topology=[],this.initTime=0}init(t){return r(this,void 0,void 0,(function*(){this.nodeIndex=-1,this.committee.clear(),this.topology=[],this.initTime=Date.now();let e=[];try{const r=yield fetch(t);e=yield r.json()}catch(e){throw new Error(`exception in fetch(${t}): ${e}`)}for(const t of e)"1"===t.Healthy&&this.topology.push(t);if(0===this.topology.length)throw new Error(`no healthy nodes in ${t}`)}))}getHealthyFor(t){var e;const r=[];for(const n of this.topology)n.Weight>0&&(null===(e=n.Mngr)||void 0===e?void 0:e.health[t])&&r.push(n);return r}}})),Pe={name:"@orbs-network/ton-access",version:"2.3.3",description:"Unthrottled anonymous RPC access to TON blockchain via a robust decentralized network",source:"lib/index.js",main:"lib/index.js",types:"lib/index.d.ts",files:["lib/**/*"],scripts:{test:"env mocha -r ts-node/register test/**/*.ts","test:v2":"env mocha -r ts-node/register test/ton-v2.ts","test:v4":"env mocha -r ts-node/register test/ton-v4.ts",cleanup:"rimraf ./lib","build:web:reg":"esbuild ./lib/web.js --bundle  --sourcemap --target=es2015 --outfile=./dist/index.js","build:web:min":"esbuild ./lib/web.js --bundle  --minify    --target=es2015 --outfile=./dist/index.min.js","build:web":"rimraf ./dist && npm run build:web:reg && npm run build:web:min",build:"npm run lint && rimraf ./lib && tsc && npm run build:web",format:'prettier --write "src/**/*.ts"',lint:"tslint -p tsconfig.json",prepare:"npm run build",prepublishOnly:"npm test && npm run lint",preversion:"npm run lint",version:"npm run format && git add -A src",postversion:"git push && git push --tags"},repository:{type:"git",url:"git+https://github.com/orbs-network/ton-access.git"},author:"yuval@orbs.com",license:"MIT",bugs:{url:"https://github.com/orbs-network/ton-access/issues"},homepage:"https://github.com/orbs-network/ton-access#readme",dependencies:{"isomorphic-fetch":"^3.0.0"},devDependencies:{"@types/bn.js":"^5.1.1","@types/chai":"^4.3.4","@types/isomorphic-fetch":"^0.0.36","@types/mocha":"^10.0.0",buffer:"^6.0.3",chai:"^4.3.7",esbuild:"^0.15.14",mocha:"^10.1.0",prettier:"^2.7.1",rimraf:"^3.0.2",ton:"^12.1.3","ton-lite-client":"npm:@truecarry/ton-lite-client@^1.6.1",tonweb:"^0.0.58","ts-node":"^10.9.1",tslib:"^2.4.0",tslint:"^6.1.3","tslint-config-prettier":"^1.18.0"}},Le=X((function(t,e){var r=W&&W.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getHttpV4Endpoint=e.getHttpV4Endpoints=e.getHttpEndpoint=e.getHttpEndpoints=e.Access=void 0;class n{constructor(){this.host="ton.access.orbs.network",this.urlVersion=1,this.nodes=new Oe.Nodes}init(){return r(this,void 0,void 0,(function*(){const t=Pe;yield this.nodes.init(`https://${this.host}/mngr/nodes?npm_version=${t.version}`)}))}makeProtonet(t,e){let r="";switch(t){case"toncenter-api-v2":r+="v2-";break;case"ton-api-v4":r+="v4-"}return r+=e,r}weightedRandom(t){let e=0;for(const r of t)e+=r.Weight;const r=Math.floor(Math.random()*e);let n=0;for(const e of t){if(r>=n&&r<n+e.Weight)return e;n+=e.Weight}}buildUrls(t,e,r,n){r||(r=""),e||(e="toncenter-api-v2"),t||(t="mainnet"),r.length&&(r=r.replace(/^\/+/,""));const i=[],o=this.makeProtonet(e,t);let s=this.nodes.getHealthyFor(o);if(!(null==s?void 0:s.length))throw new Error(`no healthy nodes for ${o}`);if(n&&s.length){const t=this.weightedRandom(s);if(!t)throw new Error("weightedRandom return empty");s=[t]}for(const n of s){let o=`https://${this.host}/${n.NodeId}/${this.urlVersion}/${t}/${e}`;r.length&&(o+=`/${r}`),i.push(o)}return i}}function i(t,e,i,o){return r(this,void 0,void 0,(function*(){const r=new n;yield r.init();return r.buildUrls(t,e,i,o)}))}function o(t,e){return r(this,void 0,void 0,(function*(){const r=(null==t?void 0:t.network)?t.network:"mainnet";let n="jsonRPC";return"rest"===(null==t?void 0:t.protocol)&&(n=""),yield i(r,"toncenter-api-v2",n,e)}))}function s(t,e){return r(this,void 0,void 0,(function*(){const r=(null==t?void 0:t.network)?t.network:"mainnet";if("json-rpc"===(null==t?void 0:t.protocol))throw Error("config.protocol json-rpc is not supported for getTonApiV4Endpoints");return yield i(r,"ton-api-v4","",e)}))}e.Access=n,e.getHttpEndpoints=o,e.getHttpEndpoint=function(t){return r(this,void 0,void 0,(function*(){return(yield o(t,!0))[0]}))},e.getHttpV4Endpoints=s,e.getHttpV4Endpoint=function(t){return r(this,void 0,void 0,(function*(){return(yield s(t,!0))[0]}))}}));function je(t,e,r){const n=t.slice();return n[17]=e[r][0],n[18]=e[r][1],n}function $e(t,e,r){const n=t.slice();return n[17]=e[r][0],n[18]=e[r][1],n}function qe(t){let e,r,n,i,o=t[17]+"";function s(){return t[11](t[18])}return{c(){e=f("button"),r=d(o),g(e,"class","svelte-10gan0p")},m(t,o){u(t,e,o),h(e,r),n||(i=m(e,"click",s),n=!0)},p(e,r){t=e},d(t){t&&l(e),n=!1,i()}}}function Ke(t){let e,r,n,i,o=t[17]+"";function s(){return t[14](t[18])}return{c(){e=f("button"),r=d(o),g(e,"class","svelte-10gan0p")},m(t,o){u(t,e,o),h(e,r),n||(i=m(e,"click",s),n=!0)},p(e,r){t=e},d(t){t&&l(e),n=!1,i()}}}function He(e){let r,i,o,s,a,w,b,E,A,C,M,B,F,_,S,D,x,I,T,U,R,N,k,O=(e[2]||"Code BOC parsed successfully")+"",P=(e[3]||"Data BOC parsed successfully")+"",L=Object.entries(e[6]),j=[];for(let t=0;t<L.length;t+=1)j[t]=qe($e(e,L,t));let $=Object.entries(e[7]),q=[];for(let t=0;t<$.length;t+=1)q[t]=Ke(je(e,$,t));return{c(){r=f("div"),i=f("textarea"),o=p(),s=f("div"),a=f("div");for(let t=0;t<j.length;t+=1)j[t].c();w=p(),b=f("button"),b.textContent="Import",E=p(),A=f("p"),C=d(O),M=p(),B=f("div"),F=f("textarea"),_=p(),S=f("div"),D=f("div");for(let t=0;t<q.length;t+=1)q[t].c();x=p(),I=f("button"),I.textContent="Import",T=p(),U=f("p"),R=d(P),g(i,"placeholder","Contract code BOC"),g(i,"class","svelte-10gan0p"),g(b,"class","svelte-10gan0p"),g(a,"class","take-line svelte-10gan0p"),g(r,"id","code"),g(r,"class","svelte-10gan0p"),g(F,"placeholder","Contract data BOC"),g(F,"class","svelte-10gan0p"),g(I,"class","svelte-10gan0p"),g(D,"class","take-line svelte-10gan0p"),g(B,"id","data"),g(B,"class","svelte-10gan0p")},m(t,n){u(t,r,n),h(r,i),v(i,e[0]),h(r,o),h(r,s),h(s,a);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(a,null);h(a,w),h(a,b),h(s,E),h(s,A),h(A,C),u(t,M,n),u(t,B,n),h(B,F),v(F,e[1]),h(B,_),h(B,S),h(S,D);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(D,null);h(D,x),h(D,I),h(S,T),h(S,U),h(U,R),N||(k=[m(i,"input",e[10]),m(b,"click",e[12]),m(F,"input",e[13]),m(I,"click",e[15])],N=!0)},p(t,[e]){if(1&e&&v(i,t[0]),65&e){let r;for(L=Object.entries(t[6]),r=0;r<L.length;r+=1){const n=$e(t,L,r);j[r]?j[r].p(n,e):(j[r]=qe(n),j[r].c(),j[r].m(a,w))}for(;r<j.length;r+=1)j[r].d(1);j.length=L.length}if(4&e&&O!==(O=(t[2]||"Code BOC parsed successfully")+"")&&y(C,O),2&e&&v(F,t[1]),130&e){let r;for($=Object.entries(t[7]),r=0;r<$.length;r+=1){const n=je(t,$,r);q[r]?q[r].p(n,e):(q[r]=Ke(n),q[r].c(),q[r].m(D,x))}for(;r<q.length;r+=1)q[r].d(1);q.length=$.length}8&e&&P!==(P=(t[3]||"Data BOC parsed successfully")+"")&&y(R,P)},i:t,o:t,d(t){t&&l(r),c(j,t),t&&l(M),t&&l(B),c(q,t),N=!1,n(k)}}}function ze(t,e,r){function n(t){if(!t)return null;let e=null;try{e=J.utils.hexToBytes(t)}catch(r){try{e=J.utils.base64ToBytes(t)}catch(t){throw new Error("Text is neither hex nor base64")}}return J.boc.Cell.oneFromBoc(e)}async function i(t){if(!t)return;const e=(await Le.getHttpEndpoint()).replace("jsonRPC","")+"getAddressInformation?address="+t,n=await(await fetch(e)).json(),i=n.result?.data;i&&r(1,u=i)}async function o(t){if(!t)return;const e=(await Le.getHttpEndpoint()).replace("jsonRPC","")+"getAddressInformation?address="+t,n=await(await fetch(e)).json(),i=n.result?.code;i&&r(0,h=i)}let{code:s=null}=e,{data:a=null}=e,h="",u="",l="",c="";return t.$$set=t=>{"code"in t&&r(8,s=t.code),"data"in t&&r(9,a=t.data)},t.$$.update=()=>{if(1&t.$$.dirty)try{r(8,s=n(h)),r(2,l="")}catch(t){r(2,l=""+t)}if(2&t.$$.dirty)try{r(9,a=n(u)),r(3,c="")}catch(t){r(3,c=""+t)}},[h,u,l,c,i,o,{"Empty cell":"","Wallet v3r2":"te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","Wallet v4r2":"te6cckECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVGliJeU="},{"Empty cell":""},s,a,function(){h=this.value,r(0,h)},t=>{r(0,h=t)},()=>{o(prompt("Contract:"))},function(){u=this.value,r(1,u)},t=>{r(1,u=t)},()=>{i(prompt("Contract:"))}]}class Ge extends z{constructor(t){super(),H(this,t,ze,He,o,{code:8,data:9})}}function Ve(e){let r,i,o,a,c,v,w,E,A,C,M,B,F,_,S,D,x,I,T,U,R,N,k=e[0]?"testnet":"mainnet",O=e[1]?"masterchain (-1)":"basechain (0)";return{c(){var t,n;r=f("header"),i=f("div"),i.innerHTML='<div class="icon svelte-17rjlut"></div> \n    <span style="height: 100%; display: inline-flex; font-weight: 800; font-size: 18px;" class="svelte-17rjlut">WebDeployer</span>',o=p(),a=f("div"),c=p(),v=f("button"),w=f("img"),A=p(),C=f("span"),M=d("Now: "),B=d(k),F=p(),_=f("button"),S=f("span"),D=d(O),x=p(),I=f("div"),I.innerHTML='<span class="svelte-17rjlut">Tools ring:</span>\n    <a href="https://ratingers.pythonanywhere.com/ratelance/">[Ratelance]</a>\n    <a href="https://ratingers.pythonanywhere.com/tx-explorer/">[ChainArrowViewer]</a>',T=p(),U=f("div"),U.innerHTML='<a href="ton://transfer/EQCyoez1VF4HbNNq5Rbqfr3zKuoAjKorhK-YZr7LIIiVrSD7">EQCyoez1VF4HbNNq5Rbqfr3zKuoAjKorhK-YZr7LIIiVrSD7</a>',g(i,"class","svelte-17rjlut"),g(a,"class","fill-space svelte-17rjlut"),g(w,"class","icon svelte-17rjlut"),t=w.src,n=E="https://ton.org/download/ton_symbol.svg",s||(s=document.createElement("a")),s.href=n,t!==s.href&&g(w,"src","https://ton.org/download/ton_symbol.svg"),g(w,"alt","TON logo"),b(w,"greyout",e[0]),g(C,"class","svelte-17rjlut"),g(v,"class","svelte-17rjlut"),g(S,"class","svelte-17rjlut"),g(_,"class","svelte-17rjlut"),g(I,"class","rounded svelte-17rjlut"),g(U,"class","rounded warn-border svelte-17rjlut"),g(r,"class","svelte-17rjlut")},m(t,n){u(t,r,n),h(r,i),h(r,o),h(r,a),h(r,c),h(r,v),h(v,w),h(v,A),h(v,C),h(C,M),h(C,B),h(r,F),h(r,_),h(_,S),h(S,D),h(r,x),h(r,I),h(r,T),h(r,U),R||(N=[m(v,"click",e[2]),m(_,"click",e[3])],R=!0)},p(t,[e]){1&e&&b(w,"greyout",t[0]),1&e&&k!==(k=t[0]?"testnet":"mainnet")&&y(B,k),2&e&&O!==(O=t[1]?"masterchain (-1)":"basechain (0)")&&y(D,O)},i:t,o:t,d(t){t&&l(r),R=!1,n(N)}}}function Ye(t,e,r){let{is_testnet:n=!0}=e,{is_masterchain:i=!1}=e;return t.$$set=t=>{"is_testnet"in t&&r(0,n=t.is_testnet),"is_masterchain"in t&&r(1,i=t.is_masterchain)},[n,i,()=>{r(0,n=!n)},()=>{r(1,i=!i)}]}class We extends z{constructor(t){super(),H(this,t,Ye,Ve,o,{is_testnet:0,is_masterchain:1})}}function Ze(e){let r,n,i;return{c(){r=f("div"),g(r,"class","popup svelte-f0v46i")},m(t,o){u(t,r,o),e[1](r),n||(i=m(r,"click",Xe),n=!0)},p:t,i:t,o:t,d(t){t&&l(r),e[1](null),n=!1,i()}}}const Xe=t=>{t.currentTarget.children[0].remove()};function Qe(t,e,r){let{popup_wrapper:n}=e;return t.$$set=t=>{"popup_wrapper"in t&&r(0,n=t.popup_wrapper)},[n,function(t){M[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class Je extends z{constructor(t){super(),H(this,t,Qe,Ze,o,{popup_wrapper:0})}}function tr(t){let e,r,n,i,o,s,a,c,d,m,g,y,v,w,b,E,A,C,B;function F(e){t[5](e)}function _(e){t[6](e)}let S={};function D(e){t[7](e)}function I(e){t[8](e)}void 0!==t[1]&&(S.is_masterchain=t[1]),void 0!==t[2]&&(S.is_testnet=t[2]),n=new We({props:S}),M.push((()=>L(n,"is_masterchain",F))),M.push((()=>L(n,"is_testnet",_))),a=new Y({props:{margin:8,color:"#b2d4fc"}});let T={};function U(e){t[9](e)}void 0!==t[3]&&(T.code=t[3]),void 0!==t[4]&&(T.data=t[4]),d=new Ge({props:T}),M.push((()=>L(d,"code",D))),M.push((()=>L(d,"data",I))),v=new Y({props:{margin:8,color:"#b2d4fc"}}),b=new fe({props:{code:t[3],data:t[4],popup_wrapper:t[0],is_masterchain:t[1]}});let R={};return void 0!==t[0]&&(R.popup_wrapper=t[0]),A=new Je({props:R}),M.push((()=>L(A,"popup_wrapper",U))),{c(){e=f("style"),e.textContent="html {\n      background: #f7f9fb;\n      color: #232328;\n      font-family: Roboto, sans-serif;\n    }",r=p(),j(n.$$.fragment),s=p(),j(a.$$.fragment),c=p(),j(d.$$.fragment),y=p(),j(v.$$.fragment),w=p(),j(b.$$.fragment),E=p(),j(A.$$.fragment)},m(t,i){h(document.head,e),u(t,r,i),$(n,t,i),u(t,s,i),$(a,t,i),u(t,c,i),$(d,t,i),u(t,y,i),$(v,t,i),u(t,w,i),$(b,t,i),u(t,E,i),$(A,t,i),B=!0},p(t,[e]){const r={};!i&&2&e&&(i=!0,r.is_masterchain=t[1],x((()=>i=!1))),!o&&4&e&&(o=!0,r.is_testnet=t[2],x((()=>o=!1))),n.$set(r);const s={};!m&&8&e&&(m=!0,s.code=t[3],x((()=>m=!1))),!g&&16&e&&(g=!0,s.data=t[4],x((()=>g=!1))),d.$set(s);const a={};8&e&&(a.code=t[3]),16&e&&(a.data=t[4]),1&e&&(a.popup_wrapper=t[0]),2&e&&(a.is_masterchain=t[1]),b.$set(a);const h={};!C&&1&e&&(C=!0,h.popup_wrapper=t[0],x((()=>C=!1))),A.$set(h)},i(t){B||(O(n.$$.fragment,t),O(a.$$.fragment,t),O(d.$$.fragment,t),O(v.$$.fragment,t),O(b.$$.fragment,t),O(A.$$.fragment,t),B=!0)},o(t){P(n.$$.fragment,t),P(a.$$.fragment,t),P(d.$$.fragment,t),P(v.$$.fragment,t),P(b.$$.fragment,t),P(A.$$.fragment,t),B=!1},d(t){l(e),t&&l(r),q(n,t),t&&l(s),q(a,t),t&&l(c),q(d,t),t&&l(y),q(v,t),t&&l(w),q(b,t),t&&l(E),q(A,t)}}}function er(t,e,r){let n,i=null,o=!1,s=null,a=null;return[i,n,o,s,a,function(t){n=t,r(1,n)},function(t){o=t,r(2,o)},function(t){s=t,r(3,s)},function(t){a=t,r(4,a)},function(t){i=t,r(0,i)}]}return new class extends z{constructor(t){super(),H(this,t,er,tr,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
